# 13

# 使用 Terraform 治理 AWS

本章将探讨基础设施治理的概念，以及为什么它对于有效管理 AWS 资源至关重要。我们还将深入了解如何将 Terraform 作为一个强大的工具来进行基础设施治理。随着 AWS 项目复杂性和规模的不断增加，有效的治理对于确保安全性、合规性、成本效益和整体成功至关重要。我们将涵盖基础设施治理的基本原则、AWS 资源治理的重要性、治理 AWS Terraform 项目的工具、自动化以及构建成本效益高且安全的 AWS Terraform 项目的最佳实践。

本章将涵盖以下主题：

+   什么是基础设施治理？

+   为什么我们需要基础设施治理？

+   如何使用 Terraform 管理基础设施

+   如何使用 AWS 工具与 Terraform 一起治理 IAC 项目

# 什么是基础设施治理？

基础设施治理是管理和控制 IT 资源使用的过程，包括硬件、软件和数据。这是定义政策、程序和指南的实践，以确保 IT 资源的高效、安全使用，并符合监管要求。在云计算的背景下，基础设施治理是管理和控制云资源的使用过程，如服务器、存储和网络，确保它们被有效且高效地使用。

## 基础设施治理的重要性

基础设施治理对希望确保其 IT 资源得到有效和高效使用的组织至关重要。如果没有有效的治理，组织可能会面临多种挑战，包括以下问题：

+   **失控增长**：如果没有适当的治理，组织可能会面临失控且无法管理的 IT 环境，这会导致低效、高成本和安全风险

+   **合规性问题**：在受监管的行业中，如金融和医疗行业，未遵守监管要求可能导致严厉的处罚并损害组织的声誉

+   **安全风险**：如果没有适当的治理，组织可能没有足够的安全措施来保护其 IT 资源免受网络威胁

+   **缺乏可见性**：如果没有适当的治理，组织可能无法清晰了解其 IT 资源，这会使得做出明智决策和有效管理 IT 环境变得困难

## 基础设施治理的关键要素

基础设施治理的关键要素包括政策、程序和指南，以确保 IT 资源得到有效和高效的使用。基础设施治理的一些基本要素如下：

+   **资源分配**：有效的基础设施治理需要根据组织的需求和优先事项分配 IT 资源。这包括确定支持组织运营所需的资源水平，并确保资源得到高效和有效的使用。

+   **安全性**：基础设施治理必须包括政策和程序，确保 IT 资源免受网络威胁，包括数据泄露、恶意软件和其他类型的攻击。这包括实施适当的安全控制措施，如防火墙、入侵检测与防御系统，以及访问控制。

+   **合规性**：基础设施治理必须包括政策和程序，确保 IT 资源的使用符合监管要求、行业标准和最佳实践。这包括定期进行审计和评估，确保 IT 资源符合相关法规。

+   **监控与报告**：有效的基础设施治理需要对 IT 资源的使用进行监控和报告，确保它们得到有效和高效的使用。这包括跟踪资源使用情况、识别潜在问题，并向管理层报告 IT 资源的状态。

## 基础设施治理的好处

有效的基础设施治理可以为组织带来多项好处：

+   **节省成本**：通过确保 IT 资源的高效和有效使用，基础设施治理可以帮助组织节省硬件、软件和其他 IT 费用。

+   **增强安全性**：通过实施适当的安全控制，基础设施治理可以帮助组织保护其 IT 资源免受网络威胁。

+   **合规性**：通过确保 IT 资源符合监管要求，基础设施治理可以帮助组织避免罚款和声誉损害。

+   **改进决策**：通过为管理层提供对组织 IT 环境的可见性，基础设施治理可以帮助改进决策，推动更有根据的战略规划。

总体而言，基础设施治理对于希望有效管理和控制 IT 资源的组织至关重要。它帮助确保 IT 资源的高效、有效和安全使用，同时确保符合监管要求和行业最佳实践。在接下来的几节中，我们将讨论为什么基础设施治理对于 AWS 资源至关重要，以及 Terraform 如何帮助组织在 AWS 中实现有效的基础设施治理。

# 为什么我们需要基础设施治理？

随着组织的增长和基础设施的复杂化，管理和治理变得越来越困难。没有适当的治理，基础设施可能变得无法管理，导致安全漏洞、合规性违规和过高的成本等问题。在本节中，我们将探讨基础设施治理的重要性，以及它为何对现代组织至关重要。

治理是管理任何基础设施的关键方面，尤其对于基于云的资源尤为重要。AWS 提供了大量的服务，为开发者和运维团队提供了极大的灵活性和能力，但这也要求仔细的治理，以确保资源的高效、安全和成本效益的使用。Terraform 提供了管理 AWS 基础设施的强大工具，但要真正治理 AWS 资源，了解基础设施治理的基本原则、AWS 资源治理的重要性，以及可用于治理 AWS Terraform 项目的工具和自动化功能至关重要。本章将详细探讨这些主题，为您提供如何构建符合最佳实践的、成本效益高、安全的 AWS Terraform 项目的全面理解。

## 安全性和合规性

基础设施治理通过确保所有资源得到适当管理和保护，帮助组织保持安全性和合规性。通过适当的治理，组织可以确保只有授权人员可以访问敏感资源，并且所有资源的配置都符合监管要求。

例如，如果一家公司将敏感的客户数据存储在 AWS S3 桶中，则必须确保该桶得到适当的安全保护，并且只有授权人员可以访问。没有适当的治理，该桶可能配置错误，使数据容易受到攻击或盗窃。

## 成本优化

基础设施治理还可以帮助组织通过确保资源得到高效和有效的使用来优化成本。通过适当的治理，组织可以监控资源使用情况，并识别可以优化或淘汰的资源领域。

例如，如果一家公司有多个 AWS 实例运行，它们可能会将这些实例整合以节省成本。没有适当的治理，可能很难识别出这些节省成本的机会。

## 标准化和一致性

基础设施治理帮助组织在其基础设施中维持标准化和一致性。通过适当的治理，组织可以确保所有资源得到适当配置，并遵循相同的标准和最佳实践。

例如，如果一家公司拥有多个 AWS 账户，它可以使用 Terraform 确保所有账户遵循相同的安全和合规政策。没有适当的治理，可能很难在多个账户之间保持一致性。

## 风险管理

基础设施治理还可以通过识别潜在问题并采取主动措施来帮助组织管理风险。通过适当的治理，组织可以监控其基础设施，识别潜在的安全漏洞或合规性问题，并在这些问题变得严重之前解决它们。

例如，如果某公司使用 AWS 存储敏感的客户数据，它可以使用 Terraform 确保所有资源都得到了适当的安全保护，并满足监管要求。如果没有适当的治理，可能很难识别潜在的风险并采取主动措施进行缓解。

基础设施治理对现代组织至关重要，它确保安全性、合规性、成本优化、标准化、一致性和风险管理。通过实施适当的治理实践并使用诸如 Terraform 这样的工具，组织可以保持对其基础设施的控制，避免未管理基础设施所带来的许多陷阱。

在本节中，我们探讨了基础设施治理的基本原理、AWS 资源治理的重要性，以及可用于治理 AWS Terraform 项目的工具和自动化技术。我们了解到，基础设施治理是用于管理和优化 IT 资源使用的政策、程序和实践的集合，随着组织向基于云的基础设施转型，这一过程变得越来越重要。我们还讨论了 AWS 资源治理的重要性，其中涉及到管理 AWS 资源以确保合规性、成本优化和安全性。

在下一节中，我们将深入探讨如何使用 Terraform 治理基础设施。我们将探讨 Terraform 的特性和优势，并讨论它如何被用来实施 AWS 资源的基础设施治理政策和程序。我们还将提供一些使用 Terraform 治理基础设施的最佳实践，包括使用模块、采用版本控制系统以及实施自动化检查和同行评审。

# 如何使用 Terraform 治理基础设施

治理是大规模管理基础设施的关键方面，而 Terraform 可以成为实现这一目标的强大工具。Terraform 提供了一种声明式的方式来管理**基础设施即代码**（**IaC**），这使其成为基础设施治理的理想工具。本节将介绍使用 Terraform 治理 AWS 资源的各种最佳实践和策略。

为了使用 Terraform 管理基础设施，至关重要的是建立明确的治理政策，定义管理基础设施的流程和程序。该政策应包括资源创建、资源修改、资源删除、资源版本控制和资源访问控制的指导方针。还需要定义基础设施管理的角色和责任，包括谁负责创建和修改资源，谁负责批准更改，以及谁有权访问敏感资源。

在使用 Terraform 管理基础设施时，以下是一些关键领域需要考虑的内容：

+   **资源配置**：Terraform 提供了一种一致且可重复的方式来创建、修改和删除资源。然而，制定资源配置的指南非常重要，包括定义命名规范、资源标签和资源分类。

+   **资源版本控制**：随着基础设施的演变，追踪资源的变化并保持版本历史记录非常重要。Terraform 使基础设施代码的版本控制成为可能，提供了清晰的变更审计轨迹。

+   **资源访问控制**：访问控制对于确保只有授权人员才能创建、修改或删除资源至关重要。Terraform 与 AWS **身份与访问管理**（**IAM**）集成，提供精细化的资源访问控制。

+   **合规性和安全性**：合规性和安全性是管理基础设施时需要重点考虑的因素。Terraform 提供了多种合规性和安全性功能，包括能够对资源应用安全策略，并扫描基础设施代码中的安全漏洞。

+   **自动化**：自动化对于确保一致且可重复的基础设施管理至关重要。Terraform 提供了一种自动化基础设施管理任务的方法，包括资源创建、资源修改和资源删除。

在接下来的章节中，我们将更详细地探讨这些领域，并提供有关如何使用 Terraform 管理 AWS 资源的指导。

## 使用 Terraform 进行资源配置

资源配置是使用 Terraform 管理基础设施的一个基本方面。Terraform 允许团队以声明性方式定义和配置资源，确保基础设施的一致性、安全性和成本效益。通过利用 Terraform 的资源配置能力，团队可以自动化创建和更新基础设施资源的过程，从而减少人为错误的可能性，并加速部署过程。

Terraform 的资源供应功能使团队能够使用**HashiCorp 配置语言**（**HCL**）定义基础设施资源，HCL 是一种用于定义基础设施即代码（IaC）的**领域特定语言**（**DSL**）。HCL 易于阅读和编写，并且为定义基础设施资源提供了较高的抽象层级。这意味着团队可以专注于基础设施的业务逻辑，而无需担心底层实现的细节。

为了使用 Terraform 供应资源，团队通常会按照以下步骤进行：

1.  **定义资源**：资源供应的第一步是定义需要供应的资源。Terraform 支持广泛的资源类型，包括计算实例、数据库、网络组件等。团队使用 Terraform 的 HCL 语法定义资源，这允许他们指定资源类型、属性和依赖关系。

1.  **规划变更**：在定义资源之后，团队使用 Terraform 规划需要对基础设施进行的变更。Terraform 的规划功能生成执行计划，列出了将对基础设施资源进行的变更。在应用变更之前，可以对该计划进行审查和批准，从而提供额外的治理层级。

1.  **应用变更**：一旦执行计划经过审查和批准，团队可以将变更应用于基础设施。Terraform 安全可靠地应用变更，确保资源按正确的顺序更新，并且能够优雅地检测和处理错误。

### Terraform 中定义资源的治理考虑事项

在 Terraform 中定义资源时，必须考虑治理和合规性要求。以下是需要牢记的一些因素：

+   **资源命名规范**：为资源建立命名规范，确保一致性并避免命名冲突。考虑包括一个前缀，标识资源所属的环境或项目。

+   **资源标签**：使用标签对资源进行分类和组织，以便进行成本分配、资源管理和合规性检查。定义标签策略，强制在组织内执行标准化。

+   **资源类型和配置**：选择符合安全性和合规性要求的资源类型和配置。例如，如果您正在部署数据库，请确保其配置了适当的安全设置和访问控制。

+   **审批工作流**：建立资源部署的审批工作流，确保变更经过适当审查和授权。考虑将 Terraform 与变更管理系统集成，以跟踪和管理基础设施的变更。

通过考虑这些治理事项，您可以确保您的 Terraform 基础设施以安全和合规的方式进行部署。

### 管理访问权限

基础设施治理中最重要的方面之一是确保访问权限和权限得到正确管理。Terraform 提供了多个机制来管理 AWS 资源的访问权限。我们来看看。

### IAM 角色和策略

Terraform 提供了一种在基础设施即代码（IaC）中定义 IAM 角色和策略的机制。通过在 Terraform 中定义 IAM 角色和策略，你可以确保 AWS 资源的访问得到严格控制，并且权限是基于最小权限原则授予的。

IAM 角色可以通过 `aws_iam_role` 资源类型创建，IAM 策略则可以通过 `aws_iam_policy` 资源类型创建。一旦这些资源在 Terraform 中定义，你可以使用它们向组织内的特定用户或用户组授予权限。

### AWS Organizations

如果你在组织内有多个 AWS 账户，可以使用 AWS Organizations 来管理所有账户之间的访问权限。AWS Organizations 提供了一种集中管理多个账户政策、权限和账单的方式。

Terraform 提供了 `aws_organizations_account` 资源类型，可以用来管理组织内的 AWS 账户。你可以使用此资源创建和管理 AWS 账户，并定义适用于所有账户的政策和权限。

### 跨账户访问

如果你需要在多个 AWS 账户之间授予资源访问权限，可以使用跨账户访问来实现。跨账户访问允许你授予一个账户中的用户或资源访问另一个账户中资源的权限。

Terraform 提供了 `aws_iam_role` 资源类型，可以用来定义跨账户访问。通过在一个账户中定义角色并授予该角色权限，你可以允许另一个账户中的用户或资源假设该角色并访问该角色已授权访问的资源。

### 资源级权限

除了在 IAM 和账户级别管理访问权限外，在资源级别管理访问权限同样重要。Terraform 提供了多个机制来实现这一点：

+   **标签**：你可以使用标签基于特定标准（如部门或项目）来管理资源的访问权限。

+   **VPC 终端节点**：你可以使用 VPC 终端节点来管理从 VPC 内部访问 AWS 服务的权限。通过在 Terraform 中定义 VPC 终端节点，你可以确保对 AWS 服务的访问受到控制，并且数据不会离开你的 VPC。

+   **安全组**：你可以使用安全组来管理对 EC2 实例和 VPC 中其他资源的访问。通过在 Terraform 中定义安全组，你可以确保对资源的访问严格控制，并且权限是基于最小权限原则授予的。

### 实施安全最佳实践

在使用 Terraform 管理基础设施时，安全性应该是首要任务。以下是一些可以实施的安全最佳实践：

+   **使用加密**：始终加密敏感数据，如密码、私钥和 API 密钥。Terraform 允许您使用各种加密机制，如 AES 和 RSA 来加密敏感数据。

+   **限制对敏感数据的访问**：限制对敏感数据的访问，例如 AWS 访问密钥和秘密访问密钥。避免在 Terraform 文件中以明文嵌入 AWS 密钥。相反，使用像 AWS **密钥管理** **服务**（**KMS**）这样的安全密钥管理系统。

+   **保护通信安全**：确保 Terraform 与您的基础设施之间的所有通信都是安全的。这可以通过使用 SSL/TLS 加密连接来实现。

+   **保护远程状态存储**：始终使用安全存储来保存远程状态数据。远程状态数据可能包含敏感信息，应该得到保护。Terraform 支持多种存储后端，包括 Amazon S3、Google Cloud Storage 和 Azure Blob Storage。

+   **启用日志记录和审计**：启用对所有 Terraform 活动的日志记录和审计，以跟踪更改并识别安全问题。日志记录可以通过 Terraform 的日志功能完成，或者通过与第三方日志工具集成来实现。

+   **使用多因素认证**（**MFA**）：为所有访问您 Terraform 基础设施的用户启用 MFA。MFA 通过要求第二个因素（例如移动设备或安全令牌）来增加额外的安全层次，除了密码之外。

+   **监控您的基础设施**：定期监控您的基础设施，以检测安全问题和漏洞。使用 Terraform 的内建监控功能或与第三方监控工具集成，跟踪更改并识别潜在的安全问题。

通过实施这些安全最佳实践，您可以确保您的 Terraform 基础设施是安全的，并且能够防范潜在的安全威胁。

### 配置日志记录和监控

日志记录和监控是基础设施治理的关键组成部分。它们帮助团队跟踪和排查问题，并检测和响应潜在的安全漏洞。

使用 Terraform，您可以以集中和自动化的方式配置 AWS 基础设施的日志记录和监控。您可以使用 AWS CloudTrail 记录 AWS API 调用，并使用 AWS Config 监控与您的期望配置的合规性。您还可以与第三方日志记录和监控工具（如 Datadog 或 Splunk）集成，以获得更先进的洞察和警报。

要使用 Terraform 配置日志记录和监控，您需要在配置中定义必要的资源。例如，要启用 CloudTrail，您可以使用 `aws_cloudtrail` 资源并指定应存储日志的 S3 存储桶。同样，要启用 AWS Config，您可以使用 `aws_config_configuration_recorder` 资源并指定要监控的规则和资源。

同时确保你的日志和监控数据是安全且加密的也非常重要。你可以使用 AWS KMS 来管理加密密钥，并对静态数据和传输中的数据进行加密。你还可以定义 IAM 角色和策略来控制对日志和监控数据的访问。

总体来说，日志记录和监控对基础设施治理至关重要，应成为 Terraform 配置的一个组成部分。通过在代码中定义这些资源，可以确保它们在 AWS 基础设施中是一致的、可扩展的和自动化的。

### 建立资源命名约定。

资源命名约定对于跟踪和识别基础设施中的资源非常重要。命名约定必须清晰且一致，以便更容易地识别资源、防止命名冲突，并支持自动化。

以下是为 Terraform 建立资源命名约定的一些最佳实践：

+   使用易于阅读和理解的标准命名约定，例如`{Environment}-{ResourceType}-{Name}`。

+   保持资源名称简短且具有描述性，并且只使用小写字母、数字和连字符。

+   对于相似的资源，使用一致且有意义的名称，例如将两个集群中的 Web 服务器命名为`"web-server-1"`和`"web-server-2"`。

+   使用逻辑分组来根据功能区分资源，例如将网络相关的资源命名为`"network-"`，将计算相关的资源命名为`"compute-"`。

+   对于名称相同或相似的资源，使用唯一标识符，例如两个数据库实例可以使用`"db-instance-1"`和`"db-instance-2"`。

+   使用变量来实现资源的动态命名，例如将资源名称与环境名称或项目名称前缀。

通过遵循这些资源命名约定，你可以更轻松地识别、管理和监控基础设施中的资源。

### 使用版本控制和协作工具。

使用 Terraform 进行基础设施治理是一个协作的过程，版本控制工具在管理变更中起着至关重要的作用。团队可以使用版本控制工具来跟踪更改、协作，并管理 IaC 的开发和部署。以下是一些有效使用版本控制和协作工具的建议，适用于你的 Terraform 项目：

+   **使用 Git 进行版本控制**：Git 是最广泛使用的版本控制工具之一。它易于使用，并且与大多数 DevOps 和基础设施管理工具集成良好。

+   **创建集中式 Git 仓库**：集中式 Git 仓库可以轻松地管理团队间的变更。所有团队成员可以访问同一个仓库，审查更改，并根据需要进行更新。

+   **使用分支**：分支允许团队同时在基础设施的不同版本上工作。这有助于最小化冲突，并确保在将更改合并到主分支之前进行审查。

+   **实施代码审查流程**：代码审查是协作过程中的一个关键部分。代码审查有助于确保在将变更合并到主分支之前，变更已得到充分的审查和测试。

+   **使用自动化工具强制执行政策**：像 Checkov 或 Sentinel 这样的自动化工具可以用来强制执行政策，扫描代码中的漏洞，并确保基础设施代码遵循最佳实践。

+   **建立协作实践**：团队应建立协作实践，定义代码的审查、测试和合并方式。这有助于确保每个人都在一致且高效地合作。

+   **使用沟通工具**：像 Slack 或 Microsoft Teams 这样的沟通工具可以用来确保团队中的每个人都能了解有关 Terraform 项目的变更、问题和其他重要信息。

通过遵循这些提示，团队可以有效地管理他们的 Terraform 基础设施代码的变更，进行协作，并确保遵循最佳实践。

### 使用自动化和管道进行构建与部署

为 IaC 项目自动化构建和部署过程是治理的一个关键部分。自动化确保构建和部署过程是可预测和可重复的，减少了人为错误的风险，并提高了开发速度。

管道是 IaC 项目中自动化的基础。管道是一系列按顺序执行的步骤，用于构建、测试和部署基础设施。管道通常包括代码检查、测试、构建和部署等阶段。每个阶段中的步骤按顺序执行，如果任何一步失败，整个管道将被中止。

要为你的 IaC 项目实现管道，你需要选择一个与你的版本控制系统和基础设施平台集成的管道工具。一些流行的 IaC 项目管道工具包括 Jenkins、GitHub Actions、Terraform Cloud、Terraform Enterprise 和 GitLab CI/CD。

一旦选择了管道工具，你需要定义管道中的各个阶段和步骤。管道中的每个步骤应定义为一个独立的脚本或可执行文件，可以独立运行。这使得测试和调试单个步骤变得更加容易，也便于在基础设施变化时维护和更新管道。

为了确保你的管道安全，你应使用密钥管理工具来存储和管理你的凭证及其他敏感信息。你还应使用自动化测试工具来确保你的基础设施是安全的，并符合你所在组织的政策和标准。

总的来说，使用自动化和管道构建和部署 IaC 是治理的重要组成部分。自动化确保了构建和部署过程的可预测性和可重复性，而管道提供了测试、构建和部署基础设施的框架。通过在 IaC 项目中实施自动化和管道，可以减少人为错误的风险，提升开发速度，并确保基础设施的安全性及符合组织的政策和标准。

### 跟踪和管理成本与预算

跟踪和管理成本与预算是基础设施治理的重要部分。Terraform 提供了多个功能，可以帮助管理成本和跟踪开支。

跟踪成本的一种方式是利用 Terraform 设置预算并根据成本指标配置警报功能。在 AWS 上，Terraform 可以与 AWS Budgets 服务集成，用于设置和跟踪预算，并在预算超支时发送通知。

管理成本的另一种方式是利用 Terraform 根据特定成本需求来配置基础设施。例如，使用 `aws_instance` 资源，可以指定 `instance_type` 参数来配置符合特定价格区间的实例。

除了 Terraform 内置的成本管理功能外，还有第三方工具可以帮助管理成本和开支。VMware 的 CloudHealth 和 CloudCheckr 是两个流行的选项，它们与 Terraform 集成，并提供额外的成本管理和优化功能。

总体而言，通过在 Terraform 中实施成本管理实践，组织可以确保高效使用资源并保持在预算范围内。

### 实施合规性和治理政策

除了安全性，合规性和治理政策对于确保基础设施的正常运行和管理至关重要。Terraform 提供了众多工具和功能，帮助确保遵守各种法规和标准，如 HIPAA、PCI DSS 和 SOC 2。

要在 Terraform 中实现合规性和治理政策，可以使用以下工具：

+   **Sentinel**：Sentinel 是 Terraform Enterprise 中内置的政策即代码框架。它使你能够使用熟悉的编程语言定义并执行跨所有 IaC 的政策。

+   **Open Policy Agent**（**OPA**）：OPA 是一个灵活且轻量的政策引擎，可以用于在 IaC 中执行政策。OPA 与 Terraform 兼容，可用于为 Terraform 配置和计划定义政策。

+   **AWS Config**：AWS Config 是一项服务，允许你评估、审计和评估 AWS 资源的配置。你可以使用 AWS Config 监控合规性，确保符合监管标准和最佳实践，并在 AWS 基础设施中执行治理政策。

通过使用 Terraform 实施合规性和治理政策，你可以确保你的基础设施安全、可靠，并符合监管标准和最佳实践。

总结来说，基础设施治理是管理云资源的一个重要方面，尤其是在处理大型和复杂环境时。Terraform 提供了一个强大的平台来实施治理政策并自动化基础设施管理，使组织能够实现成本节约、安全和合规目标。通过遵循资源供应、访问和权限、安全、日志记录和监控、资源命名、版本控制和协作、自动化和管道、成本跟踪及合规政策的最佳实践，组织可以为其 AWS 基础设施建立一个强有力的治理框架。通过合适的工具和流程，团队可以确保他们的 AWS Terraform 项目安全、高效且具有成本效益。

# 总结

在本章中，我们探讨了基础设施治理的重要性，以及如何通过在 AWS 上使用 Terraform 实现它。首先，我们定义了什么是基础设施治理，以及为什么必须实施适当的治理政策。接着，我们探讨了如何通过 Terraform 来治理基础设施，包括定义资源、管理访问和权限、实施安全最佳实践、配置日志记录和监控、建立资源命名规范、使用版本控制和协作工具、通过自动化和管道构建与部署、以及跟踪和管理成本与预算。

我们还讨论了如何实施合规性和治理政策，以确保基础设施以合规和安全的方式进行管理。通过遵循这些最佳实践，组织可以在利用 Terraform 的优势的同时，构建具有成本效益、安全且合规的 AWS 基础设施。

总之，Terraform 为在 AWS 上治理基础设施提供了强大的工具集，通过遵循本章中概述的最佳实践，组织可以在基础设施管理中保持高水平的安全性、合规性和效率。

随着本章的结束，我们将目光转向下一个挑战：使用 Terraform 构建安全的基础设施，为一个具有弹性和可扩展性的数字环境奠定基础。
