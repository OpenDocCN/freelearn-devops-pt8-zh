# 前言

欢迎阅读 *Zabbix 7 IT 基础设施监控宝典*。IT 基础设施包括从 Windows 和 Linux 到网络和开发，基本上涵盖所有运行在计算机硬件上的内容。本书将涵盖对任何希望使用 Zabbix 监控其 IT 基础设施的 IT 从业者有用的多个主题。

# 本书适用对象

监控系统在 IT 组织中常常被忽视，但它们可以提供一种概览，帮助你节省时间、金钱和避免麻烦。本书适合那些想学习 Zabbix 7，并了解如何利用它将 IT 环境提升到新水平的 IT 工程师。

# 本书的内容

*第一章*，*安装 Zabbix 并开始使用前端界面*，讲解了如何设置 Zabbix（可选配置 HA），并逐步熟悉其菜单。

*第二章*，*使用 Zabbix 用户管理进行准备工作*，讲解了如何设置第一个用户、用户组和用户角色。

*第三章*，*设置 Zabbix 监控*，讲解了如何在 Zabbix 中设置几乎所有类型的监控。

*第四章*，*与触发器和告警的配合使用*，讲解了如何设置触发器并从中获取告警。

*第五章*，*构建你自己的结构化模板*，讲解了如何构建结构化的模板，帮助你保持 Zabbix 配置的整洁有序。

*第六章*，*数据可视化、库存与报告*，讲解了如何在图表、地图和仪表板中可视化数据。同时介绍了如何使用 Zabbix 的库存、报告和业务服务监控功能。

*第七章*，*使用发现功能进行自动创建*，讲解了如何使用 Zabbix 的发现功能进行自动主机创建以及与代理、SNMP、WMI 和 JMX 配合使用的项目、触发器等。

*第八章*，*设置 Zabbix 代理*，讲解了如何正确设置 Zabbix 代理以便在生产环境中使用，同时引入了新的代理高可用性功能。

*第九章*，*将 Zabbix 与外部服务集成*，讲解了如何将 Zabbix 与外部服务集成以进行告警处理。

*第十章*，*通过自定义脚本和 Zabbix API 扩展 Zabbix 功能*，讲解了如何通过自定义脚本和 Zabbix API 扩展 Zabbix 的功能。

*第十一章*，*维护你的 Zabbix 配置*，讲解了如何维护 Zabbix 配置，并确保其随着时间的推移保持良好的性能。

*第十二章*，*高级 Zabbix 数据库管理*，教授如何管理 Zabbix 数据库以实现高级配置。

*第十三章*，*将 Zabbix 带入云端：Zabbix 云集成*，介绍了如何使用 Zabbix 与 AWS、Azure、Docker 和 Kubernetes 等云服务。

# 要充分利用本书

你应该具备一定的 IT 基础，才能理解本书中使用的术语。本书最适合那些至少具备基本监控系统、Linux 和网络工程知识的人。

| **本书中涵盖的软件/硬件** | **操作系统要求** |
| --- | --- |
| Zabbix 7 | Linux（任何版本） |
| Python 3 |  |
| MariaDB（MySQL） |  |
| PostgreSQL |  |
| NGINX |  |
| VIM |  |

确保你已经准备好虚拟化环境，以便为食谱创建虚拟机。VirtualBox、VMware 或任何其他类型的客户端/虚拟机监控器都可以使用。

在本书中，我们将使用 Vim 编辑文件，所以请确保安装了它。如果你不习惯使用 Vim，可以用 Nano 或其他你喜欢的编辑器替代。

**如果你使用的是本书的数字版，建议你自己输入代码，或者通过 GitHub 仓库访问代码（下一个部分会提供链接）。这样做可以帮助你避免复制粘贴代码时可能出现的错误。**

## 下载示例代码文件

你可以从 GitHub 下载本书的示例代码文件，网址为[`github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook`](https://github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook)。如果代码有更新，它将更新在现有的 GitHub 仓库中。

我们还提供了来自我们丰富书籍和视频目录的其他代码包，可以在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)找到。快来看看吧！

## 使用的约定

本书中使用了许多文本约定。

`文本中的代码`：表示文本中的代码词，数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 用户名。例如：“这里将`log_bin_trust_function_creators`函数设置为`1`，以允许导入初始数据库数据。”

一块代码的设置方式如下：

```
# listen 8080; 
# server_name example.com;
```

当我们希望你特别注意代码块中的某个部分时，相关行或项目会以粗体显示：

```
# MariaDB Server
# To use a different major version of the server, or to pin to a specific minor version, change URI below. deb [arch=amd64,arm64] https://dlm.mariadb.com/repo/mariadbserver/11.4/repo/ubuntu jammy main
```

任何命令行输入或输出都以以下方式写出：

```
systemctl start mariadb
```

**粗体**：表示一个新术语、一个重要的词，或在屏幕上看到的词。例如，菜单或对话框中的词会以这样的形式出现在文本中。这里有一个例子：“我们还需要为我们的集群节点提供一个**虚拟 IP**（**VIP**）地址。”

提示或重要说明

看起来是这样的。

# 部分

本书中有几个常见的标题（*准备工作*、*如何做...*、*它是如何工作的...*、*还有更多...* 和 *另见*）。

为了清晰地指示如何完成一个食谱，请按照以下方式使用这些部分：

## 准备工作

本节告诉你在食谱中可以期待什么，并描述了设置任何软件或进行食谱所需的任何初步设置的方法。

## 如何操作…

本节包含遵循食谱所需的步骤。

## 它是如何运作的…

本节通常包括对上一节所发生内容的详细解释。

## 还有更多…

本节包含与食谱相关的额外信息，帮助你更深入地了解食谱。

## 另见

本节提供了有用的链接，指向与食谱相关的其他有用信息。

# 与我们联系

我们始终欢迎读者的反馈。

**一般反馈**：如果你对本书的任何方面有疑问，请在邮件主题中注明书名，并通过电子邮件联系 customercare@packtpub.com。

**勘误**：尽管我们已尽最大努力确保内容的准确性，但错误确实会发生。如果你在本书中发现错误，我们将非常感激你能报告给我们。请访问[www.packtpub.com/support/errata](http://www.packtpub.com/support/errata)，选择你的书籍，点击勘误提交表格链接并填写详细信息。

**盗版**：如果你在互联网上发现任何非法复制的我们作品的形式，我们将非常感激你提供其位置地址或网站名称。请通过电子邮件将包含链接的材料信息发送至 copyright@packt.com。

**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且有兴趣撰写或参与书籍的编写，请访问[authors.packtpub.com](http://authors.packtpub.com)。

# 在我们开始之前

无论你是 Zabbix 的真正高手，还是刚刚开始使用 Zabbix，本书都会包含适合每个人的食谱。我们将涵盖大部分 Zabbix 基础知识，甚至在书中展示如何使用 Zabbix API 和数据库做一些很酷的事情。

我们决定编写这本书，因为我们认为成为社区的一部分很重要，并且希望以一种清晰、直接的方式，从可靠的来源为你提供在线和官方 Zabbix 培训材料中的信息。我们都经历过收藏那些令人惊叹的社区博客文章、社区指南，甚至官方文档的过程。有时候信息量可能有点大，这也是本书能够帮忙的地方。把它看作是你的一本指南，提供给每个人所需的内容，而不需要不停地 Google，直到你的手指累垮。

即使您已经积累了一定经验，阅读完这本书或其他书籍，并且已收藏了关于 Zabbix 的每个有用页面，您可能仍然不完全了解所有内容。这时我们可以提供帮助。Zabbix 是一个基于惊人的开源社区的免费产品，除此之外，还有一些真正的 Zabbix 大师，他们决定以此为生。我们的公司，Opensource ICT Solutions，就是从这些朴素的起点开始的，我们致力于为客户提供与 Zabbix 相关的所有支持。作为 Zabbix 的高级合作伙伴，我们提供以下服务：

+   官方 Zabbix 培训

+   官方 Zabbix 支持

+   Zabbix 咨询服务

+   交钥匙解决方案

+   定制集成

+   24/7 可用的服务台

由于提供 Zabbix 服务是我们的核心业务，我们每天都能接触到不同的环境、不同的客户和不同的产品使用案例，同时为全球客户提供最佳解决方案。作为官方培训合作伙伴，我们不仅仅是构建环境，更重要的是分享知识并教导他人如何最大化利用该产品。

所以，如果您喜欢这本书，请考虑关注我们和其他 Zabbix 社区的成员。请在 LinkedIn（以及其他社交媒体）上关注我们，任何时候需要帮助，请给我们打电话！我们将随时准备为您解答任何问题。

![Logo](img/Image79617.jpg)

| **英国** | **荷兰** | **美国** |
| --- | --- | --- |
| Opensource ICT Solutions LTD | Opensource ICT Solutions B.V. | Opensource ICT Solutions LLC |
| 电话: +44 20 4551 1827 | 电话: +31 (0)72 743 65 83 | 电话: +1-929-377-1232 |
| https://oicts.cominfo@oicts.com |  |  |

# 分享您的想法

阅读完*Zabbix 7 IT 基础设施监控手册*后，我们非常希望听到您的想法！请[点击此处直接进入亚马逊评论页面](https://packt.link/r/1801078327)并分享您的反馈。

您的评论对我们和技术社区至关重要，将帮助我们确保提供高质量的内容。

# 下载这本书的免费 PDF 副本

感谢您购买本书！

您喜欢随时随地阅读，但又无法随身携带纸质书籍吗？

您的电子书购买与所选设备不兼容吗？

不用担心，现在每本 Packt 书籍您都能免费获得该书的 DRM-free PDF 版本。

随时随地，在任何设备上阅读。从您最喜欢的技术书籍中直接搜索、复制并粘贴代码到您的应用程序中。

好处不止这些，您还可以获得独家折扣、时事通讯以及每日发送到您邮箱的优质免费内容。

按照以下简单步骤享受福利：

1.  扫描二维码或访问以下链接

![下载这本书的免费 PDF 副本](img/B19803_QR_Free_PDF.jpg)

[`packt.link/free-ebook/978-1-80107-832-0`](https://packt.link/free-ebook/978-1-80107-832-0)

1.  提交您的购买凭证

1.  就这样！我们将直接把您的免费 PDF 和其他福利发送到您的电子邮件。
