# 前言

|   | *“有一种双重性正在震撼世界，那就是抽象的双重性。国家和军队、公司和社区的命运都依赖于它。所有对立的阶层——地主与农民、工人和资本家——既敬畏又畏惧这种无情的抽象化世界，他们的命运也依赖于此。除了一个阶层：黑客阶层。”**“虚拟才是黑客的真正领域。黑客正是在虚拟中创造了对现实的各种新表现。对黑客来说，那些被视为现实的东西总是部分的、有限的，甚至可能是虚假的。对黑客来说，总是有现实中表达出来的虚拟盈余，这种盈余代表着可能性。这是一个无穷无尽的领域，存在着尚未成为现实的东西，它虽不现实，但它可能是。黑客就是将虚拟释放到现实中，表达现实的差异。”* |   |
| --- | --- | --- |
|   | -- *麦肯齐·沃克，《黑客宣言》* |

不久前，写这本书可能需要三台计算机才能高效地进行。虚拟化的出现使得写作不再需要拖着沉重的设备。虚拟化减少了劳动和能量的消耗，并在本书的写作和制作过程中最大化了生产力和自由支配时间。

抽象使我们摆脱了物质的束缚，取而代之的是怀旧的特权——拖拉机喂养的边缘条、暗房化学品、印刷机和排版托盘、满溢的装满美元符号的钱袋，当然，还有狭小的服务器房间。

通过服务器虚拟化，将计算资源从物理系统中抽象出来，彻底颠覆了数据中心，并极大地打破了系统工程师和管理员的传统而重复的工作方式，带来了效率、节约、成本降低、安全系统以及简单的自动化部署，完成那些重复的任务。

自 2008 年 1.0 版本发布以来，Proxmox VE 一直是这一快速革命的先锋——它是首个支持虚拟机和容器的虚拟化管理程序。

在 4.2 版本正在开发的同时，随着行业对容器革命的兴趣逐渐升温，Proxmox VE 依然提供一种开源的企业级虚拟化解决方案，并享有顶级支持，广泛受到国际上的喜爱——即便是在竞争品牌争相推出容器解决方案的同时。

本书包含了适合有经验的 Linux 用户的入门概念和最佳实践技巧，帮助他们利用 Proxmox VE 的前沿虚拟化策略和技术。

本书探讨了两种互补的虚拟化技术——容器和虚拟机的优势，帮助你做好准备，能够在虚拟化数据中心时做出明智且深思熟虑的选择。

# 本书内容

第一章，*Proxmox VE 基础*，概述了 Proxmox VE 的功能和特点，并简要对比了虚拟机与容器的异同。

第二章，*安装 Proxmox VE*，在讲解了 Proxmox VE 的硬件要求并讨论了最小和最佳硬件规格后，详细介绍了 Proxmox VE 的安装过程。

第三章，*创建容器*，首先介绍了容器及其用途，然后提供了创建容器的详细步骤，包括选择并下载操作系统或虚拟设备模板。

第四章，*创建虚拟机*，首先详细讲解了虚拟机与其他类型虚拟化的功能差异，并建议了可能的使用案例以及完全虚拟化的固有优缺点。接着，介绍了为 Microsoft Windows Server 和 Fedora Server 创建和配置虚拟机的过程。

第五章，*使用虚拟磁盘*，对比并分析了虚拟硬盘选项，包括磁盘镜像类型、虚拟总线/接口以及缓存类型。

第六章，*使用 Proxmox VE 进行网络配置*，对比了 Proxmox VE 提供的常见虚拟以太网适配器选项，并阐明了每个选项的使用场景。

第七章，*安全配置 Proxmox VE*，列举了针对虚拟化数据中心的一般安全威胁的缓解策略，特别是针对 Proxmox VE 主机和虚拟机的安全策略。

# 本书所需的设备

使用本书中的示例需要一台 64 位机器来托管 Proxmox 4.1，并满足至少推荐的最低硬件要求：

+   CPU：64 位（Intel EMT64 或 AMD64）

+   支持 Intel VT/AMD-V 的 CPU/主板（用于 KVM 完全虚拟化支持）

+   至少 1 GB 的内存

+   硬盘

+   一个与 RedHat Enterprise Linux 兼容的网络接口卡（NIC）

这并不是一个理想的配置——更高效的配置可以在 第二章，*安装 Proxmox VE* 中找到。

除了托管 Proxmox VE 的机器，还假设具有宽带互联网连接，并且 Proxmox VE 主机所在的局域网内有一台远程工作站，配备现代支持 JavaScript 的网页浏览器，并安装了 `ssh` 和 `sftp` 客户端。

# 本书适用人群

本书面向那些希望利用虚拟机和容器的潜力来更高效地管理服务器、合理利用资源（包括能源消耗、硬件利用率及物理空间）的服务器和系统管理员与工程师。

# 规范

本书中包含了多种文本样式，用于区分不同类型的信息。以下是一些这些样式的示例及其含义说明。

文本中的代码词汇、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟网址、用户输入以及 Twitter 账户显示如下：“我们可以使用`qm create`命令来创建一个 Proxmox VE 虚拟机。”

任何命令行输入或输出都如下所示：

```
-ostype win8 \
-sockets 1
```

**新术语**和**重要单词**用粗体显示。您在屏幕上看到的词语，例如在菜单或对话框中，呈现如下形式：“通过按 *i* 键或导航到**安装 Fedora 23**来继续安装。”

### 注释

警告或重要备注以类似这样的框显示。

### 提示

提示和技巧以如下形式显示。

# 读者反馈

我们始终欢迎读者反馈。告诉我们您对本书的看法——您喜欢或不喜欢的地方。读者反馈对我们非常重要，因为它帮助我们开发出您能从中获得最大收益的书籍。

若要向我们提供一般反馈，只需通过电子邮件 `<feedback@packtpub.com>` 联系我们，并在邮件主题中提到书名。

如果您在某个主题上拥有专业知识，并且有兴趣撰写或为书籍贡献内容，请参见我们的作者指南：[www.packtpub.com/authors](https://www.packtpub.com/books/info/packt/authors)。

# 客户支持

现在您已经是 Packt 书籍的骄傲拥有者，我们为您准备了多个方式帮助您充分利用您的购买。

## 下载示例代码

您可以从您的账户下载本书的示例代码文件，网址为[`www.packtpub.com`](http://www.packtpub.com)。如果您从其他地方购买了此书，您可以访问[`www.packtpub.com/support`](http://www.packtpub.com/support)并注册，将文件直接发送给您。

您可以按照以下步骤下载代码文件：

1.  使用您的电子邮件地址和密码登录或注册我们的官方网站。

1.  将鼠标指针悬停在顶部的**支持**选项卡上。

1.  点击**代码下载与勘误表**。

1.  在**搜索**框中输入书名。

1.  选择您想下载代码文件的书籍。

1.  从下拉菜单中选择您购买此书的地点。

1.  点击**代码下载**。

下载文件后，请确保使用最新版本的工具解压或提取文件夹：

+   WinRAR / 7-Zip for Windows

+   Zipeg / iZip / UnRarX for Mac

+   7-Zip / PeaZip for Linux

## 下载本书的彩色图片

我们还为您提供了一份 PDF 文件，其中包含了本书中使用的截图/图表的彩色图片。彩色图片将帮助您更好地理解输出结果的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/LearningProxmoxVE_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/LearningProxmoxVE_ColorImages.pdf)下载此文件。

## 勘误表

尽管我们已经尽力确保内容的准确性，但错误还是难免发生。如果您在我们的书籍中发现错误——可能是文本或代码中的错误——我们将非常感激您能报告给我们。这样，您不仅能帮助其他读者避免困惑，还能帮助我们改进后续版本。如果您发现任何勘误，请通过访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表单**链接，并填写勘误详情。一旦您的勘误得到验证，我们将接受您的提交，并将勘误上传到我们的网站或添加到该书籍的勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需的信息将出现在勘误部分。

## 盗版

网络上的版权材料盗版问题是所有媒体面临的一个持续性问题。在 Packt，我们非常重视版权和许可的保护。如果您在互联网上遇到任何形式的我们作品的非法复制品，请立即提供网址或网站名称，以便我们采取相应措施。

请通过`<copyright@packtpub.com>`联系我们，并提供涉嫌盗版材料的链接。

感谢您帮助保护我们的作者和我们为您提供有价值内容的能力。

## 问题

如果您对本书的任何方面有问题，可以通过`<questions@packtpub.com>`联系我们，我们会尽力解决问题。
