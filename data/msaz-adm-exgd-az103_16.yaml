- en: Azure Security Groups and Azure DNS
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure 安全组和 Azure DNS
- en: In the previous chapter, we covered the third part of the *Deploying and Managing
    Virtual Networks*objective by covering how to monitor and troubleshoot your network
    traffic in Azure Network Watcher. We've covered how to use Azure Network Watcher
    for network traffic inside Azure, as well as for on-premises and external networks.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在上一章中，我们介绍了*部署和管理虚拟网络*目标的第三部分，涵盖了如何在 Azure 网络监视器中监控和排除网络流量故障。我们已经介绍了如何使用 Azure
    网络监视器来监控 Azure 内部的网络流量，以及如何监控本地和外部网络的流量。
- en: In this chapter, we are first going to focus on **Network Security Groups**
    (**NSGs)** in Azure. We will cover the basics of NSGs, and how you can use them
    to filter network traffic, and you will also learn how to create and configure
    them. We are also going to associate an NSG with a subnet or **Network Interfaces** (**NICs**),
    and we are going to create and evaluate security rules for NSGs. In the second
    part of this chapter, we are going to cover Azure DNS. You will learn how to set
    up Azure DNS and how to add DNS zones and DNS records.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将首先聚焦于 Azure 中的**网络安全组**（**NSG**）。我们将介绍 NSG 的基础知识，如何使用它们来过滤网络流量，并且你将学习如何创建和配置它们。我们还将把
    NSG 与子网或**网络接口**（**NIC**）关联，并创建和评估 NSG 的安全规则。在本章的第二部分，我们将介绍 Azure DNS。你将学习如何设置
    Azure DNS，以及如何添加 DNS 区域和 DNS 记录。
- en: 'The following topics will be covered in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主题：
- en: NSGs
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: NSG
- en: Creating and configuring an NSG
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和配置 NSG
- en: Associating an NSG with a subnet or NIC
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 NSG 与子网或 NIC 关联
- en: Creating and evaluating security rules
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建和评估安全规则
- en: Azure DNS
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Azure DNS
- en: Configuring private and public DNS zones
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置私有和公共 DNS 区域
- en: Technical requirements
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The source code for our sample application can be downloaded from [https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12](https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12)[.](https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12)
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 我们示例应用程序的源代码可以从以下链接下载：[https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12](https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12)[.]
    (https://github.com/PacktPublishing/Microsoft-Azure-Administrator-Exam-Guide-AZ-103/tree/master/Chapter12)
- en: NSGs
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: NSG
- en: You can use an NSG to filter network traffic to and from Azure resources that
    reside in an Azure virtual network. An NSG is an access control list inside Azure
    where you can add inbound and outbound security rules that allow or deny traffic
    from several types of resources.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 NSG 来过滤进出 Azure 资源的网络流量，这些资源驻留在 Azure 虚拟网络中。NSG 是 Azure 内部的访问控制列表，你可以在其中添加允许或拒绝来自多种资源类型的入站和出站安全规则。
- en: When a connection is established between VMS, VNets, or other cloud services,
    this list is checked to see whether the connection is allowed or denied. NSGs
    can be applied to one or more subnets or individual NICs. This means that all
    resources that are associated with this subnet or NIC will automatically have
    all the rules applied. NSG rules are processed in priority order using the five-tuple
    information (source, source port, destination, destination port, and protocol)
    to allow or deny traffic. They are evaluated by priority, with lower numbers before
    higher numbers, and they can be applied to inbound or outbound traffic.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 当 VMS、VNets 或其他云服务之间建立连接时，会检查此列表，以确定是否允许或拒绝该连接。NSG 可以应用于一个或多个子网或单个 NIC。这意味着与该子网或
    NIC 关联的所有资源将自动应用所有规则。NSG 规则按优先顺序处理，使用五元组信息（源、源端口、目标、目标端口和协议）来允许或拒绝流量。它们按优先级评估，较低的数字优先于较高的数字，可以应用于入站或出站流量。
- en: There is a limit to how many rules per NSG can create per Azure location and
    subscription. For details, see the documentation on Azure limits at : [https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits](https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits).
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 每个 Azure 区域和订阅对每个 NSG 可以创建的规则数量有限制。有关详细信息，请参阅 Azure 限制文档：[https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits](https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits?toc=%2fazure%2fvirtual-network%2ftoc.json#azure-resource-manager-virtual-networking-limits)。
- en: Service tags
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 服务标签
- en: To help minimize the complexity of security rule creation, Azure offers service
    tags. They represent a group of IP address prefixes and you can use service tags
    in place of specific IP addresses when creating security rules. These service
    tags can't be created manually; they are created and managed by Azure.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助减少安全规则创建的复杂性，Azure 提供了服务标签。它们表示一组 IP 地址前缀，您可以在创建安全规则时使用服务标签来代替特定的 IP 地址。这些服务标签不能手动创建；它们由
    Azure 创建和管理。
- en: 'Azure offers an exhaustive list of service tags, such as the following:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: Azure 提供了一个详尽的服务标签列表，例如以下内容：
- en: '**VirtualNetwork**: This tag includes the virtual network address space, all
    connected on-premises address spaces, peered virtual networks, and all virtual
    networks connected to a virtual network gateway.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**VirtualNetwork**：此标签包括虚拟网络地址空间、所有连接的本地地址空间、对等虚拟网络以及所有连接到虚拟网络网关的虚拟网络。'
- en: '**AzureLoadBalancer**:This tag covers the Azure Load Balancer. It translates
    to the virtual IP address of the host from where the health probes originate.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AzureLoadBalancer**：此标签涵盖 Azure 负载均衡器。它对应于源自健康探测器的主机的虚拟 IP 地址。'
- en: '**Internet**: This tag is for the IP address space that is outside the virtual
    network and reachable from the public internet.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Internet**：此标签用于表示虚拟网络之外且可以从公共互联网访问的 IP 地址空间。'
- en: '**AzureKeyVault**: This tag is for the address prefixes of the Azure Key Vault
    service. If you specify `AzureKeyVault` for the value, traffic is allowed or denied
    to Azure Key Vault. You can also only access Azure Key Vault in a specific region.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AzureKeyVault**：此标签用于表示 Azure Key Vault 服务的地址前缀。如果将 `AzureKeyVault` 作为值进行指定，流量将被允许或拒绝访问
    Azure Key Vault。您还可以仅在特定区域访问 Azure Key Vault。'
- en: For a complete overview of all the service tags that Azure has to offer, you
    can refer to the documentation at: [https://docs.microsoft.com/en-us/azure/virtual-network/security-overview](https://docs.microsoft.com/en-us/azure/virtual-network/security-overview).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 要全面了解 Azure 提供的所有服务标签，您可以参考文档：[https://docs.microsoft.com/en-us/azure/virtual-network/security-overview](https://docs.microsoft.com/en-us/azure/virtual-network/security-overview)。
- en: In the next demonstration, we are going to create and configure an NSG in the
    Azure portal.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的演示中，我们将在 Azure 门户中创建并配置一个 NSG。
- en: Creating and configuring an NSG
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建和配置一个 NSG
- en: NSGs can be created from the Azure portal, PowerShell, and CLI. In this demonstration,
    we are going to create an NSG from the Azure portal and configure it. We are going
    to associate the NSG with a subnet and create and evaluate security rules.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: NSG 可以通过 Azure 门户、PowerShell 和 CLI 创建。在本次演示中，我们将从 Azure 门户创建一个 NSG 并进行配置。我们将把
    NSG 与子网关联，并创建和评估安全规则。
- en: 'To create an NSG from the Azure portal, take the following steps:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 要从 Azure 门户创建一个 NSG，请执行以下步骤：
- en: Navigate to the Azure portal by opening [https://portal.azure.com](https://portal.azure.com).
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过打开 [https://portal.azure.com](https://portal.azure.com) 来导航到 Azure 门户。
- en: Click **Create a resource** in the left menu and type `Network Security Group` into
    the search bar.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧菜单中点击 **创建资源**，并在搜索框中输入 `Network Security Group`。
- en: Create a new NSG.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个新的 NSG。
- en: 'Add the following settings:'
  id: totrans-31
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下设置：
- en: '**Name**: `PacktNSG`.'
  id: totrans-32
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：`PacktNSG`。'
- en: '**Subscription**: Select the subscription that we used for creating the VNet
    in [Chapter 9](9477b805-9d4d-4908-9cbf-577c2e973203.xhtml), *Implementing and
    Managing Virtual Networking*.'
  id: totrans-33
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**订阅**：选择我们在[第 9 章](9477b805-9d4d-4908-9cbf-577c2e973203.xhtml)中用于创建 VNet 的订阅，*实施和管理虚拟网络*。'
- en: '**Resource group**: Select the subscription that we used for creating the VNet
    in [Chapter 9](9477b805-9d4d-4908-9cbf-577c2e973203.xhtml), *Implementing and
    Managing Virtual Networking. *In my case, this is `PacktVNetResourceGroup`.'
  id: totrans-34
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源组**：选择我们在[第 9 章](9477b805-9d4d-4908-9cbf-577c2e973203.xhtml)中用于创建 VNet
    的订阅，*实施和管理虚拟网络。* 在我的案例中，这是 `PacktVNetResourceGroup`。'
- en: '**Location**: (US) East US:'
  id: totrans-35
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**位置**：(美国) 东部地区：'
- en: '![](img/ce5942ea-c709-46e5-99c1-f464aa6f9cbd.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ce5942ea-c709-46e5-99c1-f464aa6f9cbd.png)'
- en: Creating a new NSG
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个新的 NSG
- en: Click **Create**.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建**。
- en: We have now created a new NSG and added it to the `PacktVNetResourceGroup`.
    This is the same resource group as where the virtual networks reside. In the next
    part of this demonstration, we are going to associate the NSG with a subnet and
    NIC.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经创建了一个新的 NSG，并将其添加到 `PacktVNetResourceGroup` 中。这个资源组与虚拟网络所在的资源组相同。在演示的下一部分，我们将把
    NSG 与子网和 NIC 关联。
- en: Associating an NSG with a subnet or NIC
  id: totrans-40
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 将 NSG 与子网或 NIC 关联
- en: 'To associate the NSG with a subnet, you have to take the following steps:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要将 NSG 与子网关联，您需要执行以下步骤：
- en: After creating the NSG, navigate to its overview page.
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建 NSG 后，进入其概述页面。
- en: 'Under **Settings**, select **Subnets** to associate the NSG with a subnet.
    Click **Associate** in the top menu:'
  id: totrans-43
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **设置** 下，选择 **子网** 以将 NSG 与子网关联。在顶部菜单中点击 **关联**：
- en: '![](img/7f035d88-70bb-437f-bf1f-701f8b31fe25.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7f035d88-70bb-437f-bf1f-701f8b31fe25.png)'
- en: Associating an NSG with a subnet
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 将 NSG 与子网关联
- en: 'First, we need to select a virtual network. Select `PacktVNet`:'
  id: totrans-46
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要选择一个虚拟网络。选择 `PacktVNet`：
- en: '![](img/1e9e7a93-3ede-4c71-bbd7-1623506c0383.png)'
  id: totrans-47
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1e9e7a93-3ede-4c71-bbd7-1623506c0383.png)'
- en: Selecting a virtual network
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 选择虚拟网络
- en: 'Next, we need to select **Subnet**:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要选择 **子网**：
- en: '![](img/684dd592-5921-4c34-80bd-10d8436c7963.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
  zh: '![](img/684dd592-5921-4c34-80bd-10d8436c7963.png)'
- en: Selecting the subnet
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 选择子网
- en: Click **OK**. The NSG will now be associated with the subnet.
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **确定**。现在，NSG 将与子网关联。
- en: 'To associate the NSG with an NIC, under **Settings**, select Network interfaces.
    Select **Associate** in the top menu:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将 NSG 与 NIC 关联，在 **设置** 下选择 **网络接口**。在顶部菜单中选择 **关联**：
- en: '![](img/27b8fe7c-dd35-4edd-bbd4-62c68d4b803c.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](img/27b8fe7c-dd35-4edd-bbd4-62c68d4b803c.png)'
- en: Associating NSG with a NIC
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 将 NSG 与 NIC 关联
- en: 'There, you can select an NIC that resides in the same region as where the NSG
    was created:'
  id: totrans-56
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，您可以选择一个与 NSG 所在地区相同的 NIC：
- en: '![](img/708715ee-aa23-442d-92a5-c31ece432045.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![](img/708715ee-aa23-442d-92a5-c31ece432045.png)'
- en: Selecting an NIC
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 选择 NIC
- en: After selecting the NIC, the NSG is associated with it.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择 NIC 后，NSG 会与其关联。
- en: In this demonstration, we've covered how to associate an NSG with a subnet and
    a NIC. In the next demonstration, we are going to cover how to create and evaluate security
    rules.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个演示中，我们已经介绍了如何将 NSG 与子网和 NIC 关联。在下一个演示中，我们将介绍如何创建和评估安全规则。
- en: Creating and evaluating security rules
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建并评估安全规则
- en: 'When you create an NSG, there are some default inbound and outbound security
    rules created for you automatically. The default rules are low-priority rules.
    You can also add custom rules to them. You can create inbound and outbound security
    rules. In this demonstration, we are going to create an inbound security rule
    that denies RDP traffic to the associated subnet. Therefore, you have to take
    the following steps:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 创建 NSG 时，会自动为您创建一些默认的入站和出站安全规则。这些默认规则的优先级较低。您也可以向其添加自定义规则。您可以创建入站和出站安全规则。在这个演示中，我们将创建一个拒绝
    RDP 流量到关联子网的入站安全规则。因此，您需要执行以下步骤：
- en: 'First, go the overview page of the NSG. In there, you can see the default inbound
    and outbound security rules:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，进入 NSG 的概述页面。在这里，您可以看到默认的入站和出站安全规则：
- en: '![](img/f6a98a5d-2272-4376-95a4-76d1176bd6e2.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f6a98a5d-2272-4376-95a4-76d1176bd6e2.png)'
- en: Default security rules
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 默认安全规则
- en: 'Then, under **Settings**, select **Inbound security rules** to add a custom
    rule. Then click **Add** in the top menu:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，在 **设置** 下，选择 **入站安全规则** 以添加自定义规则。接着点击顶部菜单中的 **添加**：
- en: '![](img/3c400c35-9f54-4b29-8734-29383f085a22.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](img/3c400c35-9f54-4b29-8734-29383f085a22.png)'
- en: 'We are going to deny all traffic over port `3389`, which is the RDP port. Therefore,
    we select the **Service Tag for Source** field and the **Internet for Source**
    service tag,set the destination to VirtualNetwork and the destination port ranges
    to `3389` over any protocol. The action will be set to **Deny**. We are going
    to set the priority to **100**, which is the highest priority:'
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将拒绝所有通过端口 `3389`（即 RDP 端口）的流量。因此，我们选择 **源的服务标签** 字段，并选择 **源的互联网** 服务标签，将目标设置为虚拟网络，并将目标端口范围设置为
    `3389`，适用于任何协议。操作将设置为 **拒绝**。我们将优先级设置为 **100**，这是最高优先级：
- en: '![](img/af5cc6ab-d809-4b8c-a10e-c470cdf999bc.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/af5cc6ab-d809-4b8c-a10e-c470cdf999bc.png)'
- en: Creating a security rule
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 创建安全规则
- en: Click **Add**.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加**。
- en: We have now created an inbound security rule that denies all RDP traffic. This
    rule is bound to the subnet, because we associated this NSG with a subnet.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在已经创建了一个拒绝所有 RDP 流量的入站安全规则。这个规则被绑定到子网，因为我们将这个 NSG 与一个子网关联了。
- en: 'To evaluate this security rule, deploy a VM inside this resource group, virtual
    network, and subnet. Also, enable RDP for it. After deployment, try connecting
    to it. If the security rule got applied correctly, you should receive the following
    error message:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了评估这个安全规则，在此资源组、虚拟网络和子网内部署一个虚拟机（VM）。同时，启用 RDP 服务。部署后，尝试连接到该虚拟机。如果安全规则应用正确，您应该收到以下错误信息：
- en: '![](img/5d3d8c17-dbaf-40da-a521-906d0c53af5f.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d3d8c17-dbaf-40da-a521-906d0c53af5f.png)'
- en: Error message
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 错误信息
- en: This concludes the Azure NSG section. In the last part of this chapter, we are
    going to cover **Azure DNS**.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 本节结束后，我们将讨论 **Azure DNS**。
- en: Azure DNS
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Azure DNS
- en: Azure DNS is a hosting service for DNS domains that can be used for name resolution. The
    process of name resolution involves converting a hostname (such as `www.packt.com`)
    into an IP address (such as `192.168.1.1`). DNS servers eliminate the need for
    humans to memorize difficult IP addresses. In Azure, you can manage your DNS records
    using the Microsoft Azure infrastructure and the same tools and billing as you
    use for your other Azure resources.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Azure DNS 是一个托管 DNS 域名的服务，可用于名称解析。名称解析的过程涉及将主机名（例如 `www.packt.com`）转换为 IP 地址（例如
    `192.168.1.1`）。DNS 服务器消除了人类记住复杂 IP 地址的需求。在 Azure 中，您可以使用 Microsoft Azure 基础设施和与其他
    Azure 资源相同的工具和计费来管理您的 DNS 记录。
- en: Azure DNS can't be used as a domain registrar, However, you can host your DNS
    names that are registered somewhere else, such as a third-party domain name registrar,
    for instance, in Azure DNS for record management. You then have to delegate the
    domain to Azure DNS in order for the DNS queries for a certain domain to reach
    Azure DNS.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: Azure DNS 不能作为域名注册商使用，然而，您可以将域名托管在 Azure DNS 中进行记录管理，前提是该域名已经在其他地方注册（例如，第三方域名注册商）。然后，您必须将该域名委托给
    Azure DNS，以便 DNS 查询能够到达 Azure DNS。
- en: Domain names
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 域名
- en: The DNS consists of a hierarchy of different domains. They are globally distributed
    over DNS servers around the world. The rootdomain is simply named `.`. Below the
    root domain comes the top-level domains, such as `.``com`, `.``net.`, `.org`,
    and more. Below that comes the second-level domains, such as `.``org.uk`.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: DNS 由不同域名的层级结构组成。这些域名在全球的 DNS 服务器上分布。根域名简单地命名为 `.`。根域名下是顶级域名，如 `.com`、`.net`、`.org`
    等。再往下是二级域名，如 `.org.uk`。
- en: You can buy your domain name from a domain registrar. This will give the right
    to control the DNS hierarchy under that name allowing you to do things, such as
    redirecting the domain to your own website. You can let the registrar host the
    domain at its nameservers on your behalf, or you can specify alternative nameservers
    for your domain. Azure DNS can be used as such an alternative name server where
    you can control the DNS hierarchy.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从域名注册商购买域名。这将授予您控制该域名下 DNS 层级的权利，允许您执行诸如将域名重定向到自己的网站等操作。您可以让注册商在其名称服务器上托管该域名，或者您可以为您的域名指定其他名称服务器。Azure
    DNS 可以作为这种替代名称服务器，您可以在其中控制 DNS 层级。
- en: Public DNS zones
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 公共 DNS 区域
- en: To start hosing your domain in Azure DNS, you first need to create a DNS zone
    for your domain. This is used to host all the different DNS records. For instance,
    the `www.packt.com` domain can contain multiple DNS records, such as `mail.packt.com` for
    a mail server and `www.packt.com` for the company website.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 要在 Azure DNS 中托管您的域名，您首先需要为您的域名创建一个 DNS 区域。该区域用于托管所有不同的 DNS 记录。例如，`www.packt.com`
    域名可以包含多个 DNS 记录，如 `mail.packt.com` 用于邮件服务器，`www.packt.com` 用于公司网站。
- en: 'When you create a DNS zone in Azure DNS, you have to keep the following things
    in mind:'
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 当您在 Azure DNS 中创建 DNS 区域时，需要记住以下几点：
- en: The name of the zone must be unique within the resource group. The zone must also
    not already exist in the resource group.
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 区域名称在资源组内必须唯一。该区域也不能已存在于该资源组中。
- en: You can reuse the same zone across different resource groups or different subscriptions.
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以在不同的资源组或不同的订阅中重用相同的区域。
- en: When you have multiple zones with the same name across different resource groups
    or subscriptions, each instance must contain a different nameserver address. Only
    one set of addresses can be configured with the domain name registrar.
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当您在不同的资源组或订阅中有多个相同名称的区域时，每个实例必须包含不同的名称服务器地址。只能使用一组地址与域名注册商进行配置。
- en: Private DNS zones
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 私有 DNS 区域
- en: With **private DNS zones**, you can manage and resolve domain names in a virtual
    network without the need to add a custom DNS solution. You can use your own custom
    DNS names, rather than the Azure-provided names that are available. You can use
    these custom domain names to tailor your virtual network architecture to suit
    your organization's needs.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 **私有 DNS 区域**，您可以在虚拟网络中管理和解析域名，而无需添加自定义 DNS 解决方案。您可以使用自定义的 DNS 名称，而不是使用 Azure
    提供的名称。您可以使用这些自定义域名来定制您的虚拟网络架构，以适应您组织的需求。
- en: Private DNS zones provide name resolution for VMs within a VNet and between
    different VNets. You can also configure zone names that share private and public
    DNS zones to share the same name.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 私有DNS区域为VNet内的虚拟机及不同VNet之间提供名称解析。你还可以配置共享私有和公共DNS区域的区域名称，以共享相同的名称。
- en: To publish a private DNS zone to a VNet, you first need to specify a list of
    virtual networks that are allowed to resolve records within the private DNS zone.
    These virtual networks are then called **resolution virtual networks**. You can
    also specify a registration virtual network, which is then used by Azure DNS for
    maintaining the hostname records when a VM is created. It is also used for IP
    changes of the VM, and when a VM is deleted.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 要将私有DNS区域发布到VNet，首先需要指定允许解析私有DNS区域内记录的虚拟网络列表。这些虚拟网络被称为**解析虚拟网络**。你还可以指定一个注册虚拟网络，然后Azure
    DNS将使用它在创建虚拟机时维护主机名记录。它也用于虚拟机的IP地址变化以及虚拟机删除时。
- en: At the time of writing this book, the Azure DNS private zone feature is in public
    preview.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 本书撰写时，Azure DNS私有区域功能处于公开预览阶段。
- en: Record types
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 记录类型
- en: Each DNS record that you create inside the DNS zone has a name and a type. The
    different records are organized into various types according to the type of data
    that they contain. For instance, an A record maps the domain name to an IPv4 address.
    Another example is an MX record, which maps a name to a mail server.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 你在DNS区域内创建的每个DNS记录都有一个名称和类型。不同的记录根据它们包含的数据类型组织成不同的类型。例如，A记录将域名映射到IPv4地址。另一个例子是MX记录，它将一个名称映射到邮件服务器。
- en: For more information about the different record types, you can go to [https://docs.microsoft.com/en-in/azure/dns/dns-zones-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records).
    SPF records are represented using TXT records in Azure DNS: [https://docs.microsoft.com/en-in/azure/dns/dns-zones-records#spf-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records#spf-records).
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 有关不同记录类型的更多信息，请访问[https://docs.microsoft.com/en-in/azure/dns/dns-zones-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records)。SPF记录在Azure
    DNS中通过TXT记录表示：[https://docs.microsoft.com/en-in/azure/dns/dns-zones-records#spf-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records#spf-records)。
- en: 'You can also create record sets in Azure DNS. They can be used to map different
    records in a zone together that have the same name and are of the same type—for
    instance, when you have a company website that is hosted on two different IP addresses:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以在Azure DNS中创建记录集。这些记录集可以用于将同一名称和相同类型的不同记录在一个区域中组合在一起——例如，当你的公司网站托管在两个不同的IP地址上时：
- en: '[PRE0]'
  id: totrans-98
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: When you've created the A record in the `packt.com` zone pointing to the first
    IP address,  you can then add the second record to the existing records set, instead
    of creating a new an additional record set.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 当你在`packt.com`区域创建了指向第一个IP地址的A记录后，你可以将第二个记录添加到现有的记录集，而不是创建一个新的额外记录集。
- en: In the upcoming section, we are going to configure private and public DNS zones
    in Azure DNS.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将配置Azure DNS中的私有和公共DNS区域。
- en: Configuring a public DNS zone
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置公共DNS区域
- en: 'To configure private and public DNS zones from the Azure portal, you have to
    take the following steps:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 要从Azure门户配置私有和公共DNS区域，您需要执行以下步骤：
- en: Navigate to the Azure portal by opening [https://portal.azure.com](https://portal.azure.com).
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过打开[https://portal.azure.com](https://portal.azure.com)访问Azure门户。
- en: Click **Create a resource** in the left menu and type `DNS Zone` in the search
    bar. Create a new DNS zone.
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在左侧菜单中点击**创建资源**，并在搜索栏中输入`DNS区域`。创建一个新的DNS区域。
- en: 'Add the following values to create a new DNS zone:'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加以下值以创建一个新的DNS区域：
- en: '**Subscription**: Select a subscription.'
  id: totrans-106
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**订阅**：选择一个订阅。'
- en: '**Resource group**: Create a new one, and call it `PacktDNSResourceGroup`.'
  id: totrans-107
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源组**：创建一个新的资源组，并命名为`PacktDNSResourceGroup`。'
- en: '**Name**: `packtdns.com`.'
  id: totrans-108
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：`packtdns.com`。'
- en: '**Resource group location:** (US) East US:'
  id: totrans-109
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源组位置**：（美国）美国东部：'
- en: '![](img/d4bc0192-5e14-4739-8de1-998d57f63264.png)'
  id: totrans-110
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d4bc0192-5e14-4739-8de1-998d57f63264.png)'
- en: Creating a new DNS zone
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 创建新的DNS区域
- en: Click **Review + create**.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**查看 + 创建**。
- en: 'When the resource is deployed, you can add DNS records to it. From the overview
    page, in the top menu, select + Record set:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当资源部署完成后，你可以向其添加DNS记录。在概览页面的顶部菜单中，选择+ 记录集：
- en: '![](img/bc5a8c2a-027c-463e-b585-69ac6c0caa4a.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bc5a8c2a-027c-463e-b585-69ac6c0caa4a.png)'
- en: '[Adding a new record]'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '[添加新记录]'
- en: 'To create an A record, add the following values:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要创建A记录，添加以下值：
- en: '**Name**: `www`.'
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**名称**：`www`。'
- en: '**Type**: Select **A**.'
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**类型**：选择**A**。'
- en: '**TTL**: Type `1`. The **Time-to-live** (**TTL**) parameter of the DNS request
    specifies for how long DNS servers and clients can cache a response.'
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**TTL**：类型为 `1`。DNS 请求的**生存时间**（**TTL**）参数指定 DNS 服务器和客户端可以缓存响应的时间。'
- en: '**TTL unit**: Select **Hours**. This is the time unit for the **TTL** value.'
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**TTL 单位**：选择**小时**。这是**TTL**值的时间单位。'
- en: '**IP address**: `10.10.10.10`:'
  id: totrans-121
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IP 地址**：`10.10.10.10`：'
- en: '![](img/82c0a6ee-7abc-4aaa-8cc2-a1ecb6418505.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/82c0a6ee-7abc-4aaa-8cc2-a1ecb6418505.png)'
- en: Adding a new record
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 添加新记录
- en: Click **OK**.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**确定**。
- en: 'When the record is added, we can test it using the `nslookup` command.First,
    we need to copy one of the nameservers:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 添加记录后，我们可以使用 `nslookup` 命令进行测试。首先，我们需要复制其中一个名称服务器：
- en: '![](img/f69755e1-a563-4f6a-bcc0-e686125a68c3.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f69755e1-a563-4f6a-bcc0-e686125a68c3.png)'
- en: Copying the name server value
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 复制名称服务器值
- en: 'Then, open a command prompt and enter the following command:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，打开命令提示符并输入以下命令：
- en: '[PRE1]'
  id: totrans-129
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'You will see something such as the following, which means that name resolution
    is working correctly:'
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到类似以下的内容，这意味着名称解析工作正常：
- en: '![](img/ec332e26-ece9-4e78-a273-48da51138cf3.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ec332e26-ece9-4e78-a273-48da51138cf3.png)'
- en: DNS name resolution
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: DNS 名称解析
- en: In this demonstration, we configured a public DNS zone. In the next demonstration,
    we are going to cover how you can configure a private DNS zone using the CLI and
    Azure Cloud Shell.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个演示中，我们配置了一个公共 DNS 区域。在下一个演示中，我们将介绍如何使用 CLI 和 Azure Cloud Shell 配置一个私有 DNS
    区域。
- en: Configuring a private DNS zone
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置私有 DNS 区域
- en: In this demonstration, we are going to create a private DNS zone in a new resource
    group.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个演示中，我们将要在一个新的资源组中创建一个私有 DNS 区域。
- en: 'To configure a private DNS zone using the CLI from Azure Cloud Shell, you have
    to take the following steps:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用 Azure Cloud Shell 中的 CLI 配置私有 DNS 区域，您需要执行以下步骤：
- en: Navigate to the Azure portal by opening [https://portal.azure.com](https://portal.azure.com).
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过打开 [https://portal.azure.com](https://portal.azure.com) 访问 Azure 门户。
- en: In the top-right menu, select the Azure Cloud Shell icon. Make sure that **Bash**
    is selected.
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在右上角的菜单中，选择 Azure Cloud Shell 图标。确保选择了**Bash**。
- en: 'First, we need to create a new resource group. Add the following command for
    this:'
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要创建一个新的资源组。为此，请添加以下命令：
- en: '[PRE2]'
  id: totrans-140
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Then, we are going to create a new VNet:'
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，我们将创建一个新的虚拟网络（VNet）：
- en: '[PRE3]'
  id: totrans-142
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Next, we need to create the private DNS zone:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们需要创建私有 DNS 区域：
- en: '[PRE4]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Now, create two virtual machines to test the private DNS zone. You need to
    provide an admin password when you run this command:'
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，创建两个虚拟机来测试私有 DNS 区域。运行此命令时，您需要提供一个管理员密码：
- en: '[PRE5]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'We are going to create an additional DNS in the `private.packtdns.com` DNS
    zone. We are going to create a record with the relative name of `db` in the `private.packt.com` DNS
    zone. The fully qualified name of the record set is `db.private.packtdns.com`.
    The record type is A, with an IP address of `10.2.0.4`:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们将在 `private.packtdns.com` DNS 区域中创建一个附加的 DNS。我们将在 `private.packt.com` DNS
    区域中创建一个相对名称为 `db` 的记录。该记录集的完全限定名称是 `db.private.packtdns.com`。记录类型为 A，IP 地址为 `10.2.0.4`：
- en: '[PRE6]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'We can now test the name resolution for the private zone. We are going to ping
    both the VMs, and therefore we need to configure the firewall for both VMs to
    allow inbound ICMP packets. Connect to both VMs using RDP, and open a Windows
    PowerShell window with administrator privileges. Enter the following command:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们可以测试私有区域的名称解析。我们将测试这两个虚拟机，因此需要为这两个虚拟机配置防火墙，以允许传入的 ICMP 数据包。使用 RDP 连接到这两个虚拟机，并以管理员权限打开
    Windows PowerShell 窗口。输入以下命令：
- en: '[PRE7]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'After configuring both the VMs, from `PacktVM02`, enter the following command
    in PowerShell to ping `PacktVM01`:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置完这两个虚拟机后，从 `PacktVM02` 输入以下命令在 PowerShell 中 ping `PacktVM01`：
- en: '[PRE8]'
  id: totrans-152
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'You will see an output similar to the following screenshot:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到类似以下截图的输出：
- en: '![](img/6dea188d-7c70-4b71-b2f9-8d2adbc3c9d5.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6dea188d-7c70-4b71-b2f9-8d2adbc3c9d5.png)'
- en: Private DNS output
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 私有 DNS 输出
- en: In this demonstration, we configured a private DNS zone using the CLI.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个演示中，我们使用 CLI 配置了一个私有 DNS 区域。
- en: Summary
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we covered how to configure and manage NSGs and Azure DNS.
    We covered the basics for both NSGs and Azure DNS. You have also learned how to
    create and configure NSGs. We have also covered how to create public and private
    zones using Azure DNS, and how to add DNS records to it.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讲解了如何配置和管理 NSG 和 Azure DNS。我们介绍了 NSG 和 Azure DNS 的基础知识。您还学习了如何创建和配置 NSG。我们还讲解了如何使用
    Azure DNS 创建公共和私有区域，以及如何向其添加 DNS 记录。
- en: In the next chapter, we will cover the last part of the *Deploying and Managing
    Virtual Networks*objective, by covering how to implement **Azure Load Balancer**.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过讲解如何实现**Azure 负载均衡器**，来覆盖*部署和管理虚拟网络*目标的最后一部分。
- en: Questions
  id: totrans-160
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 问题
- en: 'Answer the following questions to test your knowledge of the information in
    this chapter. You can find the answers in the *Assessments* section at the end
    of this book:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 回答以下问题以测试你对本章内容的理解。你可以在本书最后的*评估*部分找到答案：
- en: Can you assign an NSG to a subnet and a NIC?
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以将 NSG 分配给子网和 NIC 吗？
- en: 'Yes'
  id: totrans-163
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是
- en: 'No'
  id: totrans-164
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否
- en: Can you buy a domain name using Azure DNS and host it on there?
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以使用 Azure DNS 购买域名并将其托管在那里吗？
- en: 'Yes'
  id: totrans-166
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 是
- en: 'No'
  id: totrans-167
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 否
- en: Private DNS zones cannot be configured from the Azure portal.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 无法从 Azure 门户配置私有 DNS 区域。
- en: 'True'
  id: totrans-169
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 正确
- en: 'False'
  id: totrans-170
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 错误
- en: Further reading
  id: totrans-171
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 深入阅读
- en: 'You can check out the following links for more information about the topics
    that were covered in this chapter:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以查看以下链接，了解更多本章涉及的主题：
- en: '*Security groups*: [https://docs.microsoft.com/en-us/azure/virtual-network/security-overview](https://docs.microsoft.com/en-us/azure/virtual-network/security-overview)'
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*安全组*：[https://docs.microsoft.com/en-us/azure/virtual-network/security-overview](https://docs.microsoft.com/en-us/azure/virtual-network/security-overview)'
- en: '*Create, change, or delete an NSG*: [https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group](https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group)'
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*创建、修改或删除 NSG*：[https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group](https://docs.microsoft.com/en-us/azure/virtual-network/manage-network-security-group)'
- en: '*What is Azure DNS?*: [https://docs.microsoft.com/en-in/azure/dns/dns-overview](https://docs.microsoft.com/en-in/azure/dns/dns-overview)'
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*什么是 Azure DNS？*：[https://docs.microsoft.com/en-in/azure/dns/dns-overview](https://docs.microsoft.com/en-in/azure/dns/dns-overview)'
- en: '*Overview of DNS zones and records*: [https://docs.microsoft.com/en-in/azure/dns/dns-zones-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records)'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*DNS 区域和记录概述*：[https://docs.microsoft.com/en-in/azure/dns/dns-zones-records](https://docs.microsoft.com/en-in/azure/dns/dns-zones-records)'
- en: '*Quickstart: Create an Azure DNS zone and record using the Azure portal*: [https://docs.microsoft.com/en-us/azure/dns/dns-getstarted-portal](https://docs.microsoft.com/en-us/azure/dns/dns-getstarted-portal)'
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*快速入门：使用 Azure 门户创建 Azure DNS 区域和记录*：[https://docs.microsoft.com/en-us/azure/dns/dns-getstarted-portal](https://docs.microsoft.com/en-us/azure/dns/dns-getstarted-portal)'
- en: '*Use Azure DNS for private domains*: [https://docs.microsoft.com/en-us/azure/dns/private-dns-overview](https://docs.microsoft.com/en-us/azure/dns/private-dns-overview)'
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 Azure DNS 进行私有域名管理*：[https://docs.microsoft.com/en-us/azure/dns/private-dns-overview](https://docs.microsoft.com/en-us/azure/dns/private-dns-overview)'
