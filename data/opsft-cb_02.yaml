- en: Chapter 2. Managing Domains
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第2章 管理域
- en: 'This chapter presents a number of recipes that will show you how to get started
    with creating and managing domains. You will also learn how domains can help you
    work as a team and collaborate on a project. The specific recipes of this chapter
    are:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了一些示例，展示了如何开始创建和管理域。你还将学习到域如何帮助你作为团队成员合作并共同完成项目。本章的具体示例包括：
- en: Creating a domain using rhc
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc创建一个域
- en: Renaming a domain using rhc
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc重命名域
- en: Viewing domain details using rhc
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc查看域的详细信息
- en: Adding viewer members to a domain using rhc
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc将查看成员添加到域中
- en: Adding an editor member to a domain using rhc
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc将编辑成员添加到域中
- en: Adding an admin member to a domain using rhc
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc将管理员成员添加到域中
- en: Viewing all the members in a domain using rhc
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc查看域中的所有成员
- en: Removing members from a domain using rhc
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc从域中移除成员
- en: Restricting gear sizes for a domain using rhc
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc限制域的gear大小
- en: Leaving a domain using rhc
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc离开一个域
- en: Deleting a domain using rhc
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用rhc删除域
- en: Introduction
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: A **domain** represents a unique name for each user within which each user application
    must exist. OpenShift users cannot create an application until they have a valid
    domain. The domain name becomes a part of the application URL. For example, if
    your domain name is `foo` and your application name is `bar`, the application
    URL will be `http://bar-foo.rhcloud.com`. Every OpenShift account must have at
    least one domain associated with it. The OpenShift Online free tier does not allow
    a user to create more than one domain, but you can create more than one domain
    in paid tiers. The domains make it possible for users to choose any valid name
    for their application. They allow two or more users to have the same name for
    their applications. For example, user A can have an application named `bar` in
    domain `foo`, and similarly, user B can also have an application named `bar` in
    domain `test`. Once a user has a valid domain, he/she can use any valid name for
    their application.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '**域**代表每个用户的唯一名称，每个用户的应用程序必须存在于此域中。OpenShift用户在拥有有效域之前无法创建应用程序。域名成为应用程序URL的一部分。例如，如果你的域名是`foo`，而你的应用程序名是`bar`，则应用程序的URL将是`http://bar-foo.rhcloud.com`。每个OpenShift账户必须至少与一个域关联。OpenShift
    Online的免费套餐不允许用户创建多个域，但付费套餐允许创建多个域。域使用户可以为其应用程序选择任何有效的名称。它们还允许两个或更多用户为他们的应用程序使用相同的名称。例如，用户A可以在域`foo`中拥有名为`bar`的应用程序，同样，用户B也可以在域`test`中拥有名为`bar`的应用程序。一旦用户拥有有效的域，他们就可以为应用程序使用任何有效的名称。'
- en: Team collaboration is one of the essential features of modern-day software development.
    Whether you are working on an open source project or an enterprise project, you
    need to collaborate and work with others. A group of people may work together
    to make a software project a success. A domain makes it possible to work as a
    team because you can add other users to your domain, giving them privileges to
    work with your application. This makes it very easy for different users to collaborate
    on a project and work together. You can add a user to your domain either as a
    viewer, editor, or an admin. Recipes 4 through 6 will cover these in detail.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 团队协作是现代软件开发中的核心特性之一。无论你是在做开源项目还是企业项目，你都需要与他人合作。一个团队可能会共同努力，帮助软件项目成功。域使得团队协作成为可能，因为你可以将其他用户添加到你的域中，赋予他们与应用程序协作的权限。这让不同的用户在项目上协作变得非常容易。你可以将用户添加到你的域中，权限可以是查看者、编辑者或管理员。本章的第4到第6个示例将详细介绍这些内容。
- en: A domain also helps us incorporate the concept of environments in our applications.
    You can have different domains for different environments. One can be used as
    a development environment, one as a quality assurance environment, and another
    for production. This allows you to give different people access to different domains.
    Your developers can have access to development and quality assurance domains but
    not to the production domain.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 域还帮助我们在应用程序中融入环境的概念。你可以为不同的环境创建不同的域。一个可以用作开发环境，另一个作为质量保证环境，第三个则用于生产环境。这让你可以为不同的人分配不同的访问权限。你的开发人员可以访问开发和质量保证域，但无法访问生产域。
- en: Creating a domain using rhc
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc创建一个域
- en: In the *Creating OpenShift domains using the web console* recipe of [Chapter
    1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, you learned how to create a domain using the
    web console. In this recipe, you will learn how to create a domain using the rhc
    command line.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [第1章](part0014_split_000.html#page "第1章：开始使用OpenShift")中的 *使用Web控制台创建OpenShift域名*
    配方里，你学习了如何使用Web控制台创建域名。在本配方中，你将学习如何使用rhc命令行创建域名。
- en: Getting ready
  id: totrans-19
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions. If you are using OpenShift''s
    free plan, you have to first delete the domain you created in the *Creating OpenShift
    domains using the web console* recipe of [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    before continuing with this recipe. This is required because you cannot have more
    than one domain with OpenShift''s free plan. To delete a domain, run the command
    shown as follows. This command is explained in the *Deleting a domain using rhc*
    recipe in this chapter:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成这个配方，你需要在机器上安装rhc。请参阅 [第1章](part0014_split_000.html#page "第1章：开始使用OpenShift")中的
    *安装OpenShift rhc命令行客户端* 配方，*开始使用OpenShift*，获取安装说明。如果你使用的是OpenShift的免费计划，你必须先删除在
    [第1章](part0014_split_000.html#page "第1章：开始使用OpenShift")中 *使用Web控制台创建OpenShift域名*
    配方里创建的域名，然后才能继续本配方。这是因为在OpenShift的免费计划中，你不能拥有多个域名。要删除一个域名，请运行如下命令。这个命令在本章的 *使用rhc删除域名*
    配方中有详细说明：
- en: '[PRE0]'
  id: totrans-21
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: How to do it…
  id: totrans-22
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: To create a domain name, open a new command-line terminal and run the following
    command. Please provide a unique domain name.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建域名，请打开一个新的命令行终端，并运行以下命令。请提供一个唯一的域名。
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: If you get the `You may not have more than 1 domain` error when you run this
    command, delete the existing domain associated with your account. In the free
    tier, you cannot create more than one domain.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在运行此命令时收到 `You may not have more than 1 domain` 错误，删除与你账户关联的现有域名。在免费套餐中，你不能创建多个域名。
- en: How it works…
  id: totrans-27
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: You can use the `rhc domain-create` or `rhc create-domain` command to create
    a new domain name. The only required argument to create a domain is a unique alphanumeric
    name. Please note that a domain can contain, at most, 16 alphanumeric characters
    and cannot have spaces or symbols.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `rhc domain-create` 或 `rhc create-domain` 命令来创建一个新的域名。创建域名时唯一需要的参数是一个唯一的字母数字名称。请注意，一个域名最多只能包含16个字母数字字符，且不能包含空格或符号。
- en: 'The output of the `rhc create-domain` command is shown as follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc create-domain` 命令的输出如下所示：'
- en: '[PRE2]'
  id: totrans-30
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'You can avoid using the `--namespace` option by typing the following command.
    The `rhc` command-line client is intelligent and understands that you are only
    providing the mandatory argument:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过输入以下命令来避免使用 `--namespace` 选项。`rhc` 命令行客户端非常智能，会自动识别你仅提供了必要的参数：
- en: '[PRE3]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: There's more...
  id: totrans-33
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: All OpenShift commands have help associated with them. To understand the usage
    of the `rhc create-domain` command and all the options available with it, you
    can use the `-h` or `--help` option. We will look at the other options in the
    later recipes.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 所有OpenShift命令都有帮助文档。要了解 `rhc create-domain` 命令的使用方法以及其所有可用选项，你可以使用 `-h` 或 `--help`
    选项。我们将在后续的配方中详细讲解其他选项。
- en: '[PRE4]'
  id: totrans-35
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: See also
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: The *Creating OpenShift domains using the web console recipe* in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第1章](part0014_split_000.html#page "第1章：开始使用OpenShift")中的 *使用Web控制台创建OpenShift域名*
    配方，*开始使用OpenShift*'
- en: The *Renaming a domain using rhc* recipe
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc重命名域名* 配方'
- en: The *Viewing domain details using rhc* recipe
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域名详情* 配方'
- en: The *Deleting a domain using rhc* recipe
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc删除域名* 配方'
- en: Renaming a domain using rhc
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc重命名域名
- en: Following the creation of a domain, you might need to rename it. Let's suppose
    you want to rename your existing name to reflect its environment. For instance,
    you may rename the `osbook` domain name to `devosbook` in order to indicate `devosbook`
    as your development environment.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建完域名后，你可能需要重命名它。假设你想重命名现有的名称，以反映其环境。例如，你可以将 `osbook` 域名重命名为 `devosbook`，以便表示
    `devosbook` 为你的开发环境。
- en: Getting ready
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此教程，你需要在你的机器上安装rhc。请参考[第1章](part0014_split_000.html#page "第1章. 开始使用OpenShift")中的*安装OpenShift
    rhc命令行客户端*教程，了解详细步骤，*开始使用OpenShift*。
- en: How to do it…
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'To rename a domain, open a new command-line terminal and run the following
    command. You should provide a unique, new domain name:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 要重命名一个域，打开一个新的命令行终端，并运行以下命令。你需要提供一个唯一的新域名：
- en: '[PRE5]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: How it works…
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'To rename a domain, you have to first make sure there are no applications associated
    with it. If there are any applications associated with a domain, you have to first
    delete them. To learn how to delete an application, refer to the *Deleting the
    application* recipe in [Chapter 3](part0041_split_000.html#page "Chapter 3. Creating
    and Managing Applications"), *Creating and Managing Applications*. The `rename-domain`
    command first deletes the old domain before creating a new one using the new domain
    name. To rename the `osbook` domain to `devosbook`, you need to run the following
    command:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 要重命名域，你必须首先确保没有与该域关联的应用程序。如果域上有任何应用程序，你必须先删除它们。要了解如何删除应用程序，请参考[第3章](part0041_split_000.html#page
    "第3章. 创建和管理应用程序")中的*删除应用程序*教程，*创建和管理应用程序*。`rename-domain`命令首先删除旧域，然后使用新域名创建一个新域。要将`osbook`域重命名为`devosbook`，你需要运行以下命令：
- en: '[PRE6]'
  id: totrans-50
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: There's more…
  id: totrans-51
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: You can also rename a domain using the web console. Visit your domain web page
    at [https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)
    and click on **Change**, as shown in the following screenshot. Please replace
    `{domain-name}` with your OpenShift account domain name.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以通过Web控制台重命名域。访问你的域网页 [https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)
    并点击**更改**，如以下截图所示。请将`{domain-name}`替换为你的OpenShift账户的域名。
- en: '![There''s more…](img/00016.jpeg)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![更多内容…](img/00016.jpeg)'
- en: This will direct you to another web page where you can enter the new domain
    name, as seen in the following screenshot. Enter the new domain name and click
    on **Save**.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 这将引导你进入另一个网页，你可以在其中输入新的域名，正如下面的截图所示。输入新的域名并点击**保存**。
- en: '![There''s more…](img/00017.jpeg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![更多内容…](img/00017.jpeg)'
- en: See also
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Creating OpenShift domains using the web console* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[第1章](part0014_split_000.html#page "第1章. 开始使用OpenShift")中的*使用Web控制台创建OpenShift域*教程，*开始使用OpenShift*'
- en: The *Renaming a domain using rhc* recipe
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc重命名域*教程'
- en: The *Viewing domain details using rhc* recipe
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域详细信息*教程'
- en: The *Deleting a domain using rhc* recipe
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc删除域*教程'
- en: Viewing domain details using rhc
  id: totrans-61
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc查看域详细信息
- en: In this recipe, you will learn how to view the details associated with a domain.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 在本教程中，你将学习如何查看与域相关的详细信息。
- en: Getting ready
  id: totrans-63
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此教程，你需要在你的机器上安装rhc。请参考[第1章](part0014_split_000.html#page "第1章. 开始使用OpenShift")中的*安装OpenShift
    rhc命令行客户端*教程，了解详细步骤，*开始使用OpenShift*。
- en: Also, you will need to have a valid domain associated with your account. Refer
    to the *Creating a domain using rhc* recipe in this chapter for instructions on
    how to create a new domain.
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你还需要一个有效的域与您的账户相关联。请参考本章中的*使用rhc创建域*教程，了解如何创建一个新的域。
- en: How to do it...
  id: totrans-66
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'To view domain details, open a new command-line terminal and run the following
    command:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看域的详细信息，打开一个新的命令行终端，并运行以下命令：
- en: '[PRE7]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: How it works...
  id: totrans-69
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: 'The `rhc show-domain` command returns the details of a domain and its applications.
    The output of the command is shown as follows. The details include the domain
    name, the owner''s e-mail ID, other domain members, and the information of all
    the applications within it:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc show-domain`命令返回一个域及其应用程序的详细信息。命令的输出如下所示。详细信息包括域名、所有者的电子邮件ID、其他域成员以及该域内所有应用程序的信息：'
- en: '[PRE8]'
  id: totrans-71
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: The `--namespace` option is optional. If you do not specify the `--namespace`
    option, OpenShift will first try to find the domain name from the Git repository
    configuration file in the current directory. It considers the directory from which
    you run the command as an OpenShift application Git repository. It uses the `git
    config --get rhc.domain-name` command to find the domain name. As we are not running
    the command inside an OpenShift application's Git repository, OpenShift will make
    a `GET` REST API request to fetch all the domains associated with the user. The
    user details and authorization token information will be retrieved from the `~/.openshift`
    folder. After finding all the domains associated with the user, a `GET` REST API
    call will be made to fetch details for each domain. Finally, the output will be
    shown to the user.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '`--namespace` 选项是可选的。如果您不指定 `--namespace` 选项，OpenShift 将首先尝试从当前目录中的 Git 仓库配置文件中查找域名。它将您运行命令的目录视为
    OpenShift 应用程序的 Git 仓库。它使用 `git config --get rhc.domain-name` 命令来查找域名。由于我们没有在
    OpenShift 应用程序的 Git 仓库中运行命令，OpenShift 将发出一个 `GET` REST API 请求来获取与用户相关的所有域。用户的详细信息和授权令牌信息将从
    `~/.openshift` 文件夹中获取。在找到与用户相关的所有域后，将进行一次 `GET` REST API 调用，以获取每个域的详细信息。最后，结果将显示给用户。'
- en: There's more…
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'You can also view all the domains you have access to by running the `rhc list-domain`
    command:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过运行 `rhc list-domain` 命令查看您有权限访问的所有域：
- en: '[PRE9]'
  id: totrans-75
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: As you can see, the `openshift.cookbook@gmail.com` user has access to two domains.
    The `openshift.cookbook@gmail.com` user owns the `devosbook` domain, but it is
    the only member of the `ndtv123` domain.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，`openshift.cookbook@gmail.com` 用户可以访问两个域。`openshift.cookbook@gmail.com`
    用户拥有 `devosbook` 域，但它是 `ndtv123` 域的唯一成员。
- en: 'If a user only wants to view his/her domain, he/she can use the `--mine` argument,
    as shown in the following command-line output. To view all the options available
    for a command, you can pass the `--help` option:'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如果用户只想查看自己的域，他/她可以使用 `--mine` 参数，如以下命令行输出所示。要查看命令的所有可用选项，可以传递 `--help` 选项：
- en: '[PRE10]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: See also
  id: totrans-79
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: The *Creating a domain using rhc* recipe
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 创建域* 配方'
- en: The *Viewing domain details using rhc* recipe
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 查看域详细信息* 配方'
- en: The *Deleting a domain using rhc* recipe
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 删除域* 配方'
- en: Adding viewer members to a domain using rhc
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 rhc 向域添加查看者成员
- en: Let's suppose you are a system administrator of your organization, where your
    job is to make sure all the production applications are running smoothly. Ideally,
    you would not want all the developers in your organization to have access to the
    production environment. Giving everyone access to the production environment is
    waiting for the inevitable to happen. What you should remember is that you can
    have different domains for different environments. The domain corresponding to
    the production deployment will be controlled by system administrators rather than
    developers. OpenShift allows you to give different access levels to a different
    group of people. You, along with other system administrators, can enjoy admin
    access to the production domain, whereas developers can only have viewer access,
    if required. Developers will be added to the production domain in the read-only
    mode. They can view the information about it and its applications, but they cannot
    make any changes. They also can't use Git to clone the source code or deploy changes.
    Viewers are also not allowed to SSH into the application gear.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您是组织的系统管理员，您的工作是确保所有生产应用程序都能顺利运行。理想情况下，您不希望组织中的所有开发人员都能访问生产环境。让每个人都能访问生产环境，就是在等待不可避免的事情发生。您应该记住的是，您可以为不同的环境创建不同的域。与生产部署相关的域将由系统管理员而非开发人员进行控制。OpenShift
    允许您为不同的人群设置不同的访问级别。您和其他系统管理员可以享有生产域的管理员权限，而开发人员则只能在需要时享有查看者权限。开发人员将以只读模式被添加到生产域。他们可以查看有关该域及其应用程序的信息，但无法进行任何更改。他们也不能使用
    Git 克隆源代码或部署更改。查看者也不允许通过 SSH 访问应用程序的运行环境。
- en: Getting ready
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此配方，您需要在您的机器上安装 rhc。请参阅[第 1 章](part0014_split_000.html#page "Chapter 1. Getting
    Started with OpenShift")中的*安装 OpenShift rhc 命令行客户端*配方，*开始使用 OpenShift*，以获取安装说明。
- en: You will need two OpenShift accounts to work through this recipe. Please refer
    to the *Creating an OpenShift Online account* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    for OpenShift account registration instructions.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要两个OpenShift帐户来完成此步骤。有关OpenShift帐户注册的说明，请参考[第1章](part0014_split_000.html#page
    "第1章. 开始使用OpenShift")中的*创建OpenShift Online帐户*一节，*开始使用OpenShift*。
- en: How to do it…
  id: totrans-88
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Let''s suppose we have two OpenShift users, `openshift.cookbook@gmail.com`
    and `openshift.cookbook.test@gmail.com`. You may want to add `openshift.cookbook.test@gmail.com`
    as a viewer to the `prodosbook` domain of `openshift.cookbook@gmail.com`. The
    `prodosbook` domain corresponds to the production environment of your application.
    To do this, execute the following command:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们有两个OpenShift用户，`openshift.cookbook@gmail.com`和`openshift.cookbook.test@gmail.com`。您可能想要将`openshift.cookbook.test@gmail.com`添加为`openshift.cookbook@gmail.com`的`prodosbook`域的查看者。`prodosbook`域对应于您应用程序的生产环境。为此，请执行以下命令：
- en: '[PRE11]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: How it works…
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'The `add-member` command allows you to add members to your domain. A user can
    be added to one of the three roles: `view`, `edit`, or `admin`. In this recipe,
    we may want to add `openshift.cookbook.test@gmail.com` as a viewer, so we use
    the `--role` option to give the user the view role.'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: '`add-member`命令允许您向您的域中添加成员。用户可以被添加到三种角色中的一种：`view`（查看）、`edit`（编辑）或`admin`（管理员）。在本步骤中，我们可能希望将`openshift.cookbook.test@gmail.com`添加为查看者，因此我们使用`--role`选项为该用户分配查看角色。'
- en: 'The syntax of the `rhc add-member` command is shown as follows:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc add-member`命令的语法如下所示：'
- en: '[PRE12]'
  id: totrans-94
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'The breakup of the command is as follows:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 命令的解析如下：
- en: '`login`: This is the e-mail ID or short name of the OpenShift account you want
    to add as a member'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`login`：这是您要添加为成员的OpenShift帐户的电子邮件ID或简称。'
- en: '`namespace`: This is the domain name in which you want to add a member'
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`namespace`：这是您希望添加成员的域名。'
- en: '`role`: This refers to the access level you want to give to a member'
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`role`：指的是您希望赋予成员的访问级别。'
- en: 'You can view the added user by viewing the domain details:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过查看域详细信息来查看已添加的用户：
- en: '[PRE13]'
  id: totrans-100
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'If the `openshift.cookbook.test@gmail.com` user tries to clone the application
    to their local machine, they will receive the permission denied error shown as
    follows:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果`openshift.cookbook.test@gmail.com`用户尝试将应用程序克隆到本地计算机，他们将收到如下所示的权限拒绝错误：
- en: '[PRE14]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'You can also add multiple members to your domain in one go, as shown:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以一次性将多个成员添加到您的域中，如下所示：
- en: '[PRE15]'
  id: totrans-104
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: 'This also works for OpenShift account IDs as well by entering the following
    command:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 这同样适用于OpenShift帐户ID，只需输入以下命令：
- en: '[PRE16]'
  id: totrans-106
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: There's more…
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容…
- en: 'The OpenShift web console also allows users to add members. You can do this
    by going to [https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)
    and replacing `{domain-name}` with your account domain name. Then, click on the
    **Add members…** web link:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: OpenShift网页控制台也允许用户添加成员。您可以通过访问[https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)并将`{domain-name}`替换为您的帐户域名来进行此操作。然后，点击**添加成员…**的网页链接：
- en: '![There''s more…](img/00018.jpeg)'
  id: totrans-109
  prefs: []
  type: TYPE_IMG
  zh: '![更多内容…](img/00018.jpeg)'
- en: 'Enter the user login details and the role you want to give to the user before
    clicking on **Save**:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 在点击**保存**之前，输入用户登录信息以及您想分配给用户的角色：
- en: '![There''s more…](img/00019.jpeg)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![更多内容…](img/00019.jpeg)'
- en: See also
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 参见
- en: The *Adding an editor member to a domain using rhc* recipe
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域中添加编辑成员*的步骤'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域中添加管理员成员*的步骤'
- en: The *Viewing all the members in a domain using rhc* recipe
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域中所有成员*的步骤'
- en: Adding an editor member to a domain using rhc
  id: totrans-116
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc向域中添加编辑成员
- en: Imagine that you are leading a software development team that uses OpenShift
    for development. During development, you would like all the developers in your
    team to be able to create, delete, push, or even SSH into application gear. However,
    you would not want users to rename or delete a domain, as this might impact other
    developers in your team or other teams. Another thing you would not like is to
    allow developers to change gear sizes. You can restrict development domains to
    only use small gears to save money. In this scenario, you will give developers
    an editor role that gives them the freedom to work with applications but not domains.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 假设您是一个使用OpenShift进行开发的软件开发团队的领导者。在开发过程中，您希望团队中的所有开发人员都能够创建、删除、推送或甚至SSH到应用程序的gear中。然而，您不希望用户重命名或删除域，因为这可能会影响团队中其他开发人员或其他团队。另一个不希望发生的情况是，允许开发人员更改gear的大小。您可以限制开发域仅使用小型gear来节省成本。在这种情况下，您将给予开发人员一个编辑者角色，使他们可以自由地操作应用程序，但不能操作域。
- en: Getting ready
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此食谱，您需要在计算机上安装rhc。请参考[第1章](part0014_split_000.html#page "第1章. 开始使用OpenShift")中的*安装OpenShift
    rhc命令行客户端*食谱，了解相关的安装说明。
- en: You will need two OpenShift accounts to work through this recipe. Please refer
    to the *Creating an OpenShift online account* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    for OpenShift account registration instructions.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要两个OpenShift账户来完成此食谱。请参考[第1章](part0014_split_000.html#page "第1章. 开始使用OpenShift")中的*创建OpenShift在线账户*食谱，了解OpenShift账户注册的详细说明。
- en: How to do it…
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'To add the `openshift.cookbook.test@gmail.com` user as an editor to the `devosbook`
    domain of `openshift.cookbook@gmail.com`, run the following command:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 要将`openshift.cookbook.test@gmail.com`用户作为编辑者添加到`openshift.cookbook@gmail.com`的`devosbook`域中，请运行以下命令：
- en: '[PRE17]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: How it works…
  id: totrans-124
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理……
- en: 'The edit role allows a user to perform the following actions on a domain:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 编辑角色允许用户对域执行以下操作：
- en: A user can create applications under the domain
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以在域下创建应用程序
- en: A user can delete applications under the domain
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以删除域下的应用程序
- en: A user can view logs of the application
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以查看应用程序的日志
- en: A user can perform other application-related actions such as start, stop, and
    restart
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以执行其他与应用程序相关的操作，例如启动、停止和重启
- en: A user can push the source code using Git
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以使用Git推送源代码
- en: A user can SSH into the application gear using SSH
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用户可以使用SSH进入应用程序gear
- en: When you run the `rhc add-member` command with the edit role, OpenShift will
    firstly add a new member to a domain with an edit role and then copy the user
    public SSH key to the OpenShift gear `~/.ssh/authorized_keys` file. This allows
    an editor to perform SSH-related operations such as code deployment using Git
    and SSH to the application gear.
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 当您使用编辑角色运行`rhc add-member`命令时，OpenShift将首先为域添加一个具有编辑角色的新成员，然后将用户的公钥SSH密钥复制到OpenShift
    gear的`~/.ssh/authorized_keys`文件中。这样，编辑者可以执行与SSH相关的操作，如通过Git和SSH将代码部署到应用程序gear中。
- en: 'To check whether the editor has been added successfully, you can view the domain
    details:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查编辑者是否已成功添加，您可以查看域的详细信息：
- en: '[PRE18]'
  id: totrans-134
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: There's more…
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: You can also use the web console to add the editor to your application. Just
    follow the steps mentioned in the *Adding viewer members to a domain using rhc*
    recipe in this chapter.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 您也可以使用Web控制台将编辑者添加到您的应用程序中。只需按照本章中*使用rhc将查看者成员添加到域中*食谱中提到的步骤操作。
- en: See also
  id: totrans-137
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc将查看者成员添加到域中的*食谱'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc将管理员成员添加到域中*食谱'
- en: The *Viewing all the members in a domain using rhc* recipe
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域中所有成员*食谱'
- en: Adding an admin member to a domain using rhc
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc将管理员成员添加到域中
- en: Consider a situation where a new system administrator joins your team. As the
    new system admin is also responsible for making sure your production apps are
    running smoothly, you would like to add the new system admin as an administrator.
    You can do this by giving the new user an admin role.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 假设一个新的系统管理员加入您的团队。由于新的系统管理员也负责确保您的生产应用程序运行顺利，因此您希望将该新系统管理员添加为管理员。您可以通过赋予新用户管理员角色来实现这一点。
- en: Getting ready
  id: totrans-143
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成这个配方，你需要在你的机器上安装rhc。请参阅[第1章](part0014_split_000.html#page "第1章 开始使用OpenShift")中的*安装OpenShift
    rhc命令行客户端*配方，获取安装说明。
- en: You will need two OpenShift accounts to work through this recipe. Please refer
    to the *Creating an OpenShift Online account* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    for OpenShift account registration instructions.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要两个OpenShift账户才能执行本配方。请参阅[第1章](part0014_split_000.html#page "第1章 开始使用OpenShift")中的*创建OpenShift
    Online账户*配方，获取OpenShift账户注册的说明。
- en: How to do it…
  id: totrans-146
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'To add the `openshift.cookbook.test@gmail.com` user as an administrator to
    `prodosbook` of the `<[openshift.cookbook@gmail.com](mailto:openshift.cookbook@gmail.com)>`
    domain, run the following command:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 要将`openshift.cookbook.test@gmail.com`用户作为管理员添加到`<[openshift.cookbook@gmail.com](mailto:openshift.cookbook@gmail.com)>`域的`prodosbook`中，请运行以下命令：
- en: '[PRE19]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: How it works…
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'The admin role allows a user to perform the following actions on a domain:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 管理员角色允许用户在域上执行以下操作：
- en: Everything an editor can do such as performing actions related to applications
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编辑者可以执行的所有操作，如与应用程序相关的操作
- en: Perform operations on a domain such as adding members to a domain
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对域执行操作，如将成员添加到域中
- en: When you run the `rhc add-member` command with an admin role, OpenShift will
    add a new member to a domain with an admin role and then copy the public SSH key
    to the OpenShift gear `~/.ssh/authorized_keys` file. This allows an editor to
    perform SSH-related operations.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 当你使用管理员角色运行`rhc add-member`命令时，OpenShift将以管理员角色将新成员添加到域，并将公钥复制到OpenShift gear的`~/.ssh/authorized_keys`文件中。这样，编辑者就可以执行与SSH相关的操作。
- en: 'To check whether the administrator has been added successfully, you can view
    the domain details by inserting the following command:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查管理员是否已成功添加，可以通过插入以下命令查看域的详细信息：
- en: '[PRE20]'
  id: totrans-155
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: There's more…
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: You can also use the web console to add the editor to your application. Just
    follow the steps mentioned in the *Adding viewer members to a domain using rhc*
    recipe in this chapter.
  id: totrans-157
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用Web控制台将编辑器添加到你的应用程序中。只需按照本章中*使用rhc将查看者成员添加到域*配方中提到的步骤操作。
- en: See also
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另请参见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc将查看者成员添加到域*配方'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc将管理员成员添加到域*配方'
- en: The *Viewing all the members in a domain using rhc* recipe
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域中的所有成员*配方'
- en: Viewing all the members in a domain using rhc
  id: totrans-162
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc查看域中的所有成员
- en: There may be a situation when you want to view all the members in a domain.
    If so, you should follow this recipe.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 可能会有一种情况，你想查看域中的所有成员。如果是这样，你应该遵循这个配方。
- en: Getting ready
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成这个配方，你需要在你的机器上安装rhc。请参阅[第1章](part0014_split_000.html#page "第1章 开始使用OpenShift")中的*安装OpenShift
    rhc命令行客户端*配方，获取安装说明。
- en: You will need two OpenShift accounts to work through this recipe. Please refer
    to the *Creating an OpenShift Online account* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    for OpenShift account registration instructions.
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要两个OpenShift账户才能执行本配方。请参阅[第1章](part0014_split_000.html#page "第1章 开始使用OpenShift")中的*创建OpenShift
    Online账户*配方，获取OpenShift账户注册的说明。
- en: How to do it…
  id: totrans-167
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'To view all the members added to the `osbook` domain, run the following command:'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看添加到`osbook`域的所有成员，请运行以下命令：
- en: '[PRE21]'
  id: totrans-169
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: How it works…
  id: totrans-170
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'The result of the `rhc list-member` command is shown as follows:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc list-member`命令的结果如下所示：'
- en: '[PRE22]'
  id: totrans-172
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: The `rhc list-member` command makes a `GET` request to fetch all the information
    about the `osbook` domain. The rhc client then parses the **JSON** response and
    shows the relevant information to the user.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc list-member`命令发起一个`GET`请求，获取`osbook`域的所有信息。然后，rhc客户端解析**JSON**响应并将相关信息展示给用户。'
- en: There's more…
  id: totrans-174
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多…
- en: 'You can also use a shortcut command to fetch all the members in a domain:'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 你也可以使用快捷命令来获取域中的所有成员：
- en: '[PRE23]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: See also
  id: totrans-177
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-178
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 向域添加查看者成员* 配方'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-179
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 向域添加管理员成员* 配方'
- en: The *Viewing all the members in a domain using rhc* recipe
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 查看域中的所有成员* 配方'
- en: Removing members from a domain using rhc
  id: totrans-181
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 rhc 从域中移除成员
- en: Let's suppose you are a system admin and suddenly your application starts behaving
    weird. You looked at the logs but you were not able to understand them. To fix
    this issue, you had to give a developer access to look at the logs. The developer
    was able to understand the problem, and now you want to remove the developer membership.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你是系统管理员，突然你的应用程序开始出现异常。你查看了日志，但无法理解其中的内容。为了修复这个问题，你需要给开发人员访问权限查看日志。开发人员能够理解问题所在，现在你想要移除该开发人员的会员身份。
- en: Getting ready
  id: totrans-183
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此配方前，你需要在你的机器上安装 rhc。请参考 [第1章](part0014_split_000.html#page "Chapter 1. Getting
    Started with OpenShift")，*OpenShift 入门* 中的 *安装 OpenShift rhc 命令行客户端* 配方，获取安装说明。
- en: You will need two OpenShift accounts to work through this recipe. Please refer
    to the *Creating an OpenShift Online account* recipe in [Chapter 1](part0014_split_000.html#page
    "Chapter 1. Getting Started with OpenShift"), *Getting Started with OpenShift*,
    for OpenShift account registration instructions.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 完成此配方，你将需要两个 OpenShift 账户。请参考 [第1章](part0014_split_000.html#page "Chapter 1.
    Getting Started with OpenShift")，*OpenShift 入门* 中的 *创建 OpenShift Online 账户* 配方，获取
    OpenShift 账户注册说明。
- en: How to do it…
  id: totrans-186
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'To remove the `openshift.cookbook.test@gmail.com` user from the `osbook` domain
    of `<[openshift.cookbook@gmail.com](mailto:openshift.cookbook@gmail.com)>`, run
    the following command:'
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 要从 `<[openshift.cookbook@gmail.com](mailto:openshift.cookbook@gmail.com)>` 的
    `osbook` 域中移除 `openshift.cookbook.test@gmail.com` 用户，请运行以下命令：
- en: '[PRE24]'
  id: totrans-188
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: How it works…
  id: totrans-189
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'The `rhc member-remove` command does two things:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc member-remove` 命令执行两个操作：'
- en: It removes the `openshift.cookbook.test@gmail.com` public SSH key from the authorized
    keys registry so that `openshift.cookbook.test@gmail.com` can't perform SSH operations
    such as `git clone` and SSH into application gears.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将 `openshift.cookbook.test@gmail.com` 的公共 SSH 密钥从授权密钥注册表中移除，以便 `openshift.cookbook.test@gmail.com`
    无法执行如 `git clone` 和 SSH 进入应用程序 gear 的 SSH 操作。
- en: It removes the `openshift.cookbooktest@gmail.com` member from the `osbook` domain.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它将 `openshift.cookbooktest@gmail.com` 成员从 `osbook` 域中移除。
- en: 'You can verify that `openshift.cookbook.test@gmail.com` is removed from the
    members'' list by inserting the following command:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过插入以下命令来验证 `openshift.cookbook.test@gmail.com` 是否已从成员列表中移除：
- en: '[PRE25]'
  id: totrans-194
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: There's more…
  id: totrans-195
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容…
- en: 'You can remove all the members from a domain by using the `--all` flag:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用 `--all` 标志来移除域中的所有成员：
- en: '[PRE26]'
  id: totrans-197
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: See also
  id: totrans-198
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 向域添加查看者成员* 配方'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 向域添加管理员成员* 配方'
- en: The *Viewing all the members in a domain using rhc* recipe
  id: totrans-201
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用 rhc 查看域中的所有成员* 配方'
- en: Restricting gear sizes for a domain using rhc
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 rhc 限制域的 gear 大小
- en: As you start using different domains for different environments, you will feel
    the need to restrict gear sizes for different domains. In particular, you would
    like to use small gears for development and large gears for production. When you
    create an application, you can specify the gear size for that application. This
    does not help much as it applies only to that application. To avoid using large
    gears for development, you would want to restrict the development domain only
    to small gears.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 随着你开始为不同的环境使用不同的域，你可能会感到需要为不同的域限制 gear 大小。特别是，你可能希望为开发环境使用小的 gear，为生产环境使用大的
    gear。当你创建应用程序时，你可以为该应用程序指定 gear 大小。然而，这并不太有用，因为它仅适用于该应用程序。为了避免在开发中使用大 gear，你可能希望将开发域仅限制为小的
    gear。
- en: Getting ready
  id: totrans-204
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此操作，您需要在您的计算机上安装rhc。请参阅[第1章](part0014_split_000.html#page "Chapter 1. Getting
    Started with OpenShift")，*开始使用OpenShift*中的*安装OpenShift rhc命令行客户端*食谱以获取详细说明。
- en: How to do it…
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'To restrict the `devosbook` domain to only small gears, run the following command:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 要将`devosbook`域限制为仅使用小齿轮，请运行以下命令：
- en: '[PRE27]'
  id: totrans-208
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: How it works…
  id: totrans-209
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: By default, when you create a new domain, it gains access to all the gear sizes
    available for your account. When you sign up for a free account, you receive access
    to only small gears, meaning what you can do is limited. However, in the commercial
    version, you can get access to bigger gear sizes. The `rhc configure-domain` command
    allows you to restrict a domain to specific gear sizes.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，当您创建一个新域时，它会获得您帐户可用的所有齿轮大小的访问权限。当您注册免费帐户时，您只会获得小齿轮的访问权限，这意味着您的操作是有限的。然而，在商业版中，您可以访问更大的齿轮大小。`rhc
    configure-domain`命令允许您将一个域限制为特定的齿轮大小。
- en: 'The `rhc configure-domain` command requires you to specify a list of gear sizes
    you want to allow in a domain. The namespace is optional. If you do not specify
    a domain name, the domain associated with the user specified in `~/.openshift/express.conf`
    will be configured. You can also specify multiple gear sizes:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc configure-domain`命令要求您指定要在域中允许的齿轮大小列表。命名空间是可选的。如果您不指定域名，则会配置与`~/.openshift/express.conf`中指定的用户关联的域。您还可以指定多个齿轮大小：'
- en: '[PRE28]'
  id: totrans-212
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: There's more…
  id: totrans-213
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多……
- en: 'You can also configure a domain to not allow any application creation by using
    the `--no-allowed-gear-sizes` option. You will use this option to disallow application
    creation for a domain or to block a domain name for later use. For example, I
    could create another domain, `osbook2`, for the second version of this book and
    configure it with the`--no-allowed-gear-sizes` option:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以通过使用`--no-allowed-gear-sizes`选项配置一个域，以不允许任何应用程序创建。您将使用此选项来禁止为某个域创建应用程序，或阻止将来使用某个域名。例如，我可以为本书的第二版创建另一个域`osbook2`，并使用`--no-allowed-gear-sizes`选项进行配置：
- en: '[PRE29]'
  id: totrans-215
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: See also
  id: totrans-216
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域添加查看员成员*食谱'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-218
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域添加管理员成员*食谱'
- en: The *Viewing all the members in a domain using* rhc recipe
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域中所有成员*食谱'
- en: Leaving a domain using rhc
  id: totrans-220
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc退出域
- en: You have now become a member of a domain that corresponds to the production
    environment. You have completed your work and now you want to leave the production
    domain.
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，您已成为对应于生产环境的域的成员。您已完成工作，现在想要退出生产域。
- en: Getting ready
  id: totrans-222
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete this recipe, you will need to have rhc installed on your machine.
    Please refer to the *Installing the OpenShift rhc command-line client* recipe
    in [Chapter 1](part0014_split_000.html#page "Chapter 1. Getting Started with OpenShift"),
    *Getting Started with OpenShift*, for instructions.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成此操作，您需要在您的计算机上安装rhc。请参阅[第1章](part0014_split_000.html#page "Chapter 1. Getting
    Started with OpenShift")，*开始使用OpenShift*中的*安装OpenShift rhc命令行客户端*食谱以获取详细说明。
- en: How to do it…
  id: totrans-224
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作……
- en: 'To leave a domain, you should run the following command. All the users are
    allowed to leave the domain they are a member of:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 要退出一个域，您应该运行以下命令。所有用户都被允许退出他们所在的域：
- en: '[PRE30]'
  id: totrans-226
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: How it works…
  id: totrans-227
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: The `rhc leave-domain` command requires only one mandatory argument, which is
    `--namespace`, the namespace you want to leave. It then removes the user from
    the domain members. The rhc client makes a REST delete request to remove the member
    from the namespace.
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc leave-domain`命令只需要一个必需的参数，即`--namespace`，即您要退出的命名空间。然后它会将用户从该域成员中移除。rhc客户端会发出REST删除请求，将成员从命名空间中移除。'
- en: See also
  id: totrans-229
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Adding viewer members to a domain using rhc* recipe
  id: totrans-230
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域添加查看员成员*食谱'
- en: The *Adding an admin member to a domain using rhc* recipe
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc向域添加管理员成员*食谱'
- en: The *Viewing all the members in a domain using rhc* recipe*s*
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc查看域中所有成员*食谱'
- en: Deleting a domain using rhc
  id: totrans-233
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用rhc删除域
- en: You created a domain for testing and now you no longer require it. Naturally,
    you would like to delete the domain.
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 您为测试创建了一个域，现在您不再需要它。自然，您想要删除该域。
- en: Getting ready
  id: totrans-235
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: To complete the steps in this recipe, you will need rhc to be installed on your
    machine.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 要完成本食谱中的步骤，你需要在你的机器上安装rhc。
- en: How to do it…
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'You should run the following command to delete a domain:'
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该运行以下命令来删除一个域：
- en: '[PRE31]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: Note
  id: totrans-240
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Once the domain is deleted, there is no way to undo it. So, please use this
    command with precaution.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦域被删除，就无法撤销。所以，请谨慎使用此命令。
- en: How it works…
  id: totrans-242
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的…
- en: 'The `rhc delete-domain` command will delete the domain by making a REST delete
    call to the OpenShift service. If your domain contains an application, you will
    not be able to delete the domain. Instead, you will get an error message:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: '`rhc delete-domain`命令通过向OpenShift服务发出REST删除请求来删除域。如果你的域中包含应用程序，你将无法删除该域。相反，你将收到一条错误消息：'
- en: '[PRE32]'
  id: totrans-244
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: Therefore, to delete a domain with an application, you have to pass a `–force`
    flag. This will delete the domain and all the applications associated with it.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，要通过应用程序删除一个域，你必须传递一个`–force`标志。这将删除该域及其所有相关的应用程序。
- en: There's more…
  id: totrans-246
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 更多内容…
- en: 'The OpenShift web console also allows you to delete members from a domain.
    Go to [https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)
    and replace `{domain-name}` with the domain name in which you want to delete a
    member. Click on the **Delete this domain…** button to delete it. This is shown
    in the following screenshot:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: OpenShift Web控制台也允许你从域中删除成员。访问[https://openshift.redhat.com/app/console/domain/{domain-name}](https://openshift.redhat.com/app/console/domain/%7Bdomain-name%7D)，并将`{domain-name}`替换为你要删除成员的域名。点击**删除此域…**按钮来删除它。以下截图展示了这一过程：
- en: '![There''s more…](img/00020.jpeg)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![更多内容…](img/00020.jpeg)'
- en: See also
  id: totrans-249
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 另见
- en: The *Renaming a domain using rhc* recipe
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*使用rhc重命名域*食谱'
