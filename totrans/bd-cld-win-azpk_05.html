<html><head></head><body>
<div id="page" style="height:0pt"/><div class="book" title="Chapter&#xA0;5.&#xA0;Assigning Cloud Services &#x2013; Plans, Add-Ons, Tenant Accounts, and Subscriptions"><div class="book" id="1GKCM2-b479cf466c26404ca54119871a9b2715"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05" class="calibre1"/>Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions</h1></div></div></div><p class="calibre8">In the previous chapter, we built VM Clouds and IaaS services for our WAP-based cloud. In this chapter, we will move ahead toward completing a ready-to-use cloud solution by learning about methods of assigning these services to tenants. We will cover planning and the implementation of cloud plans to which tenants need to be subscribed to use services. We will also cover add-ons, the tenant's subscriptions, and the tenant's user account management.</p><p class="calibre8">We will be covering the following topics in this chapter:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Windows Azure Pack plans and add-ons – overview and planning</li><li class="listitem">Creating and managing Windows Azure Pack Cloud plans and add-ons</li><li class="listitem">Creating and managing tenants' user accounts</li><li class="listitem">Tenant subscriptions – an overview and management</li></ul></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;Assigning Cloud Services &#x2013; Plans, Add-Ons, Tenant Accounts, and Subscriptions">
<div class="book" title="Windows Azure Pack plans and add-ons – overview and planning"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_1"><a id="ch05lvl1sec44" class="calibre1"/>Windows Azure Pack plans and add-ons – overview and planning</h1></div></div></div><p class="calibre8">Windows Azure Pack plan, also<a id="id619" class="calibre1"/> known as hosting plan, is a mechanism of assigning cloud service offerings to tenants as per their <a id="id620" class="calibre1"/>deal or contract agreement<a id="id621" class="calibre1"/> considerations, such as a variety of services, quota, the amount of resources available, the quality of service, and <a id="id622" class="calibre1"/>so on. The cloud provider creates and <a id="id623" class="calibre1"/>configures the plan as per the deal or cloud offering strategy; tenants subscribe to the plan to get access to configured cloud service offerings. A plan usually contains a collection of services to be made available along with defined restrictions or limits.</p><p class="calibre8">A single plan can be subscribed by multiple tenants having the same requirements. A plan may consist of multiple resource provider services, such as<a id="id624" class="calibre1"/> <span class="strong"><strong class="calibre9">VM Clouds</strong></span> (<span class="strong"><strong class="calibre9">IaaS</strong></span>), websites and <a id="id625" class="calibre1"/>
<span class="strong"><strong class="calibre9">Service Bus</strong></span> (<span class="strong"><strong class="calibre9">PaaS</strong></span>), <span class="strong"><strong class="calibre9">Databases</strong></span> (<span class="strong"><strong class="calibre9">DBaaS</strong></span>), or <a id="id626" class="calibre1"/>other custom offerings.</p><p class="calibre8">Tenants cannot access cloud services without subscribing to at least one plan. They may subscribe to multiple plans as per requirements. When a tenant user subscribes to WAP plans, a new subscription is generated and is dedicated for that particular tenant. This subscription is used to<a id="id627" class="calibre1"/> identify and access tenants' resources across the cloud.</p><p class="calibre8">Normally, plans are also mapped with the pricing of services. Multiple plans with different pricing schemes <a id="id628" class="calibre1"/>and services can be created. There are multiple billing adaptors or solutions available that can be used along with WAP plans for offering cloud services as per the pricing defined by cloud providers.</p><p class="calibre8">Add-ons are used to provide additional capabilities and limits over a plan, such as additional quotas for using any additional number of virtual machines or compute resources. Add-ons are linked to plans and can only be subscribed if the tenant has an active subscription to the plan.</p><p class="calibre8">One add-on can be linked to multiple plans.</p></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;Assigning Cloud Services &#x2013; Plans, Add-Ons, Tenant Accounts, and Subscriptions">
<div class="book" title="Windows Azure Pack plans and add-ons – overview and planning">
<div class="book" title="Planning Windows Azure Pack Cloud plans"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec83" class="calibre1"/>Planning Windows Azure Pack Cloud plans</h2></div></div></div><p class="calibre8">Windows Azure Pack plan, offering IaaS services, using VM Clouds can be configured with only one SCVMM server and SCVMM cloud. That is, if a cloud provider is having multiple SCVMM stamps or <a id="id629" class="calibre1"/>clouds, there has to be separate plans for these. This is also one of the reasons behind keeping single or fewer number of SCVMM cloud's recommendation in the <a id="id630" class="calibre1"/>previous chapter.</p><p class="calibre8">Before talking about planning WAP plans, let's have a look at all the options or configurations that we can<a id="id631" class="calibre1"/> add up in the plan offering IaaS services using VM Clouds resource providers:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Services or resource provider offerings</strong></span>: A plan can<a id="id632" class="calibre1"/> consists of one or multiple resource providers'<a id="id633" class="calibre1"/> cloud services, such as IaaS (VM Clouds), DBaaS (SQL/MySQL), websites, or any custom resource providers.</li><li class="listitem"><span class="strong"><strong class="calibre9">VMM Management server and VM Cloud</strong></span>: WAP plans, offering IaaS services, using <a id="id634" class="calibre1"/>VM Clouds are mapped to VMM<a id="id635" class="calibre1"/> management server and VMM Cloud. Separate plans need to be created for other management servers or VM Clouds.</li><li class="listitem"><span class="strong"><strong class="calibre9">Usage limit</strong></span>: A WAP plan may contain limits of using resources such as the following:<div class="book"><ul class="itemizedlist1"><li class="listitem">Number of virtual machines</li><li class="listitem">CPU cores</li><li class="listitem">RAM(MB)</li><li class="listitem">Storage (GB)</li><li class="listitem">Number of virtual networks</li><li class="listitem">MB per second network in and out</li><li class="listitem">Site to site VPN per network</li><li class="listitem">Storage IOPS</li></ul></div><p class="calibre15">These limits must be<a id="id636" class="calibre1"/> in line with limits configured at cloud level<a id="id637" class="calibre1"/> in SCVMM.</p></li><li class="listitem"><span class="strong"><strong class="calibre9">Networks</strong></span>: Network here refers to the logical network created in SCVMM. This can be used to restrict tenants<a id="id638" class="calibre1"/> in a plan to a specific network depending upon performance and features, such as isolation, virtualized networks, and so on. All the networks are created and configured in the SCVMM fabric.</li><li class="listitem"><span class="strong"><strong class="calibre9">Hardware profiles</strong></span>: Hardware <a id="id639" class="calibre1"/>profiles contain virtual machines' hardware configuration options, such as the amount of CPU/RAM, and more. Hardware profiles in WAP plans directly refer to the hardware profiles created in SCVMM. These hardware profiles are available to tenants while provisioning a standalone VM. A plan may contain multiple hardware profiles as per business decision to provide flexibility to tenants in terms of the VM size.</li><li class="listitem"><span class="strong"><strong class="calibre9">Templates</strong></span>: Templates<a id="id640" class="calibre1"/> here directly refer to VM templates created in SCVMM for WAP standalone VM offerings. A plan may contain multiple templates as per the business decision to provide flexibility to tenants in terms of the variety of virtual machines. See the previous chapter to learn more about the planning of VM templates.</li><li class="listitem"><span class="strong"><strong class="calibre9">Gallery</strong></span>: In gallery, cloud <a id="id641" class="calibre1"/>providers can choose which gallery VM role resources are to be provided for tenants. A plan may contain multiple galleries as per the business decision to provide flexibility to tenants in terms of the variety of virtual machines and applications. See <a class="calibre1" title="Chapter 4. Building VM Clouds and IaaS Offerings" href="part0040_split_000.html#164MG1-b479cf466c26404ca54119871a9b2715">Chapter 4</a>, <span class="strong"><em class="calibre12">Building VM Clouds and IaaS Offerings</em></span> to learn more about the planning of gallery resources.</li><li class="listitem"><span class="strong"><strong class="calibre9">Additional settings</strong></span>: This allows<a id="id642" class="calibre1"/> cloud providers to configure if certain operations mentioned here are to be made available to tenants.<div class="book"><ul class="itemizedlist1"><li class="listitem">Create, view, and restore Virtual Machine Checkpoints (also known as Hyper-V VM Checkpoints or snapshots)</li><li class="listitem">Save the virtual machine state</li><li class="listitem">Store VM to the library and deploy it from there</li><li class="listitem">Connect to the console of the virtual machine (Azure Pack Console Connect)</li></ul></div></li><li class="listitem"><span class="strong"><strong class="calibre9">Custom settings</strong></span>: This allows<a id="id643" class="calibre1"/> cloud providers to configure custom settings given here for tenants and their resources:<div class="book"><ul class="itemizedlist1"><li class="listitem">Disable built-in network extension for tenants</li><li class="listitem">Use templates to define computer names</li><li class="listitem">Enable protection for all virtual machines</li></ul></div></li></ul></div><div class="informalexample" title="Note"><h3 class="title2"><a id="note28" class="calibre1"/>Note</h3><p class="calibre8">WAP plans configuration for other resource providers, such as websites and databases, which will be covered in the coming chapter along with their building services.</p></div><div class="book" title="Planning Windows Azure Pack plans"><div class="book"><div class="book"><div class="book"><h3 class="title2"><a id="ch05lvl3sec31" class="calibre1"/>Planning Windows Azure Pack plans</h3></div></div></div><p class="calibre8">The number of plans and<a id="id644" class="calibre1"/> their configurations in a cloud solution depends upon cloud providers' business decisions or strategy, offerings, and capability in terms of the variety of cloud services and resources availability. Usually, multiple plans can be created having different <a id="id645" class="calibre1"/>service offerings and resources capability. For example, strategically, plans can be designed in multiple ways such as the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Standard packs plans or public plans</strong></span>: These type of plans are pre-configured including specific service<a id="id646" class="calibre1"/> offerings and limits with defined pricing models. Multiple plans can be created targeting<a id="id647" class="calibre1"/> different industries, business sizes, or use cases. For example, a plan designed for hosting small website services may include IaaS resources of up to 5 VMs, 2 DB, and more where a plan dedicated for a hosting application server may include up to 50 Windows or Linux VMs.</li><li class="listitem"><span class="strong"><strong class="calibre9">Customized plans</strong></span>: When <a id="id648" class="calibre1"/>standard plans don't suit the needs for any specific organization, customized plans can also be created and dedicated for particular organizations having services and limits configured as per the business deal.</li><li class="listitem"><span class="strong"><strong class="calibre9">Plans with special services or features</strong></span>: Separate plans can be created for special features or offerings, such as some custom application services or capabilities including<a id="id649" class="calibre1"/> backup or DR.</li><li class="listitem"><span class="strong"><strong class="calibre9">Financials</strong></span>: All plans<a id="id650" class="calibre1"/> created as per any of the previous strategies can be mapped to pricing; thus, multiple plans are created in each type of plan for different pricing as per business decisions.</li></ul></div></div></div></div></div>

<div class="book" title="Chapter&#xA0;5.&#xA0;Assigning Cloud Services &#x2013; Plans, Add-Ons, Tenant Accounts, and Subscriptions">
<div class="book" title="Windows Azure Pack plans and add-ons – overview and planning">
<div class="book" title="Planning Windows Azure Pack Cloud add-ons"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch05lvl2sec84" class="calibre1"/>Planning Windows Azure Pack Cloud add-ons</h2></div></div></div><p class="calibre8">Add-ons are linked to plans and provide additional capability at the top of the services configured in plans. Add-ons are <a id="id651" class="calibre1"/>optional and can be subscribed by tenants as per requirements. Add-ons only increase quota or start services in a plan; they cannot be used to provide additional services that aren't included in a plan. Quotas provide limits for services offered in a plan.</p><p class="calibre8">Multiple add-ons can be created and linked to plans. Add-ons can be planned in a similar manner as plans including standard packages available for public usage, customized add-ons for customized tenants' needs, and specialized add-ons for particular features.</p></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Creating and managing Windows Azure Pack plans and add-ons"><div class="book" id="1HIT82-b479cf466c26404ca54119871a9b2715"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec45" class="calibre1"/>Creating and managing Windows Azure Pack plans and add-ons</h1></div></div></div><p class="calibre8">Windows <a id="id652" class="calibre1"/>Azure Pack cloud administrators can create and manage plans or add-ons using the WAP <a id="id653" class="calibre1"/>management portal. Before creating a plan or an add-on, a cloud <a id="id654" class="calibre1"/>provider must plan and decide the number of plans and<a id="id655" class="calibre1"/> add-ons for their configuration.</p></div>

<div class="book" title="Creating and managing Windows Azure Pack plans and add-ons">
<div class="book" title="Creating a WAP plan"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec85" class="calibre1"/>Creating a WAP plan</h2></div></div></div><p class="calibre8">Let's carry out the<a id="id656" class="calibre1"/> following steps to create a WAP plan:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Navigate to the <span class="strong"><strong class="calibre9">plans</strong></span> workspace.</li><li class="listitem" value="3">Click on <span class="strong"><strong class="calibre9">CREATE A NEW HOSTING PLAN</strong></span>.<div class="mediaobject"><img src="../images/00101.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="4">Provide a friendly name for the hosting plan; by default, this name will be visible to tenants while signing up.<div class="mediaobject"><img src="../images/00102.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="5">Select<a id="id657" class="calibre1"/> the services or the type of resource providers to be made available in the plan.<div class="mediaobject"><img src="../images/00103.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="6">Select any <span class="strong"><strong class="calibre9">add-on</strong></span> to be linked to the plan. This can also be configured later.</li><li class="listitem" value="7">Click on the checkmark to create the plan.</li><li class="listitem" value="8">By default, any plan gets created in a private state. It has to be changed to <span class="strong"><strong class="calibre9">Public</strong></span> manually to<a id="id658" class="calibre1"/> make it available for tenants.</li><li class="listitem" value="9">Click on the <span class="strong"><strong class="calibre9">NAME</strong></span> plan to start configuring the plan for selected services.<div class="mediaobject"><img src="../images/00104.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="10">The WAP portal will display the plan dashboard stating that it's not configured. Click on <span class="strong"><strong class="calibre9">Virtual Machine Clouds</strong></span> at the bottom of the screen to start the configuration. Additional services can also be added using the <span class="strong"><strong class="calibre9">ADD SERVICE</strong></span> button.<div class="mediaobject"><img src="../images/00105.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="11">Select <span class="strong"><strong class="calibre9">VMM MANAGEMENT SERVER</strong></span> and <span class="strong"><strong class="calibre9">VIRTUAL MACHINE CLOUD</strong></span> that is to be associated with plan.<div class="mediaobject"><img src="../images/00106.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="12">Select <span class="strong"><strong class="calibre9">USAGE LIMIT</strong></span> as applicable. Keep VMM cloud level limits in consideration while configuring<a id="id659" class="calibre1"/> these settings. The portal will display the available configuration as per the limits configured at the SCVMM cloud level.<div class="mediaobject"><img src="../images/00107.jpeg" alt="Creating a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="13">Add logical networks created in SCVMM to be made available to the tenants subscribing to this plan.</li><li class="listitem" value="14">Add hardware profiles to be added to the plan. These hardware profiles will be available for tenants to choose from while requesting a standalone VM.</li><li class="listitem" value="15">Add VM templates profiles to the plan. These VM templates will be available for tenants as a standalone VM to choose from while requesting a standalone VM.</li><li class="listitem" value="16">Add gallery items to the plan. These gallery items will be available for tenants to choose from while requesting the VM Role resources.</li><li class="listitem" value="17">Configure the <a id="id660" class="calibre1"/>additional setting to allow tenants-specific operations and custom settings for additional features.</li><li class="listitem" value="18">Click on <span class="strong"><strong class="calibre9">Save</strong></span> to finish configuring the plan.</li><li class="listitem" value="19">Additional plans can be created in a similar manner.</li></ol><div class="calibre27"/></div></div></div>

<div class="book" title="Creating and managing Windows Azure Pack plans and add-ons">
<div class="book" title="Publishing, configuring, advertising, and cloning a WAP plan"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec86" class="calibre1"/>Publishing, configuring, advertising, and cloning a WAP plan</h2></div></div></div><p class="calibre8">Now, we already have a <a id="id661" class="calibre1"/>plan configured for offering cloud services to tenants. Before starting to assign plans to tenants; let's review a few management operations on<a id="id662" class="calibre1"/> the plans.</p><p class="calibre8">For publishing a plan by default, newly <a id="id663" class="calibre1"/>created plans are in private mode, that is, not visible to tenants for subscriptions. In order to make plans visible to tenants, they must be<a id="id664" class="calibre1"/> published first:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Publishing a plan</strong></span>: Select <span class="strong"><strong class="calibre9">Plan</strong></span> and click on <span class="strong"><strong class="calibre9">CHANGE ACCESS</strong></span> to make the plan public. The plan can also be decommissioned or made private in a similar manner.<div class="mediaobject"><img src="../images/00108.jpeg" alt="Publishing, configuring, advertising, and cloning a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem"><span class="strong"><strong class="calibre9">SETTINGS</strong></span>: This page contains additional configurations such as:<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre9">INVITATION CODE</strong></span>: This can be used to verify the authenticity of tenants while signing up for the plan. A cloud provider can create invite codes and share them with tenants. Tenants will <a id="id665" class="calibre1"/>not be able to subscribe to the plan without this code.</li><li class="listitem"><span class="strong"><strong class="calibre9">MAXIMUM ALLOWED SUBSCRIPTIONS PER ACCOUNT</strong></span>: This defines the maximum number of subscriptions one <a id="id666" class="calibre1"/>account can have using this. This allows users to sign up for the plan more than once.</li></ul></div><div class="mediaobject"><img src="../images/00109.jpeg" alt="Publishing, configuring, advertising, and cloning a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem"><span class="strong"><strong class="calibre9">ADVERTISE</strong></span>: Localized plan advertisements can be configured using this page. The plan display<a id="id667" class="calibre1"/> name and description visible to tenants can be modified using this page:<div class="book"><ul class="itemizedlist1"><li class="listitem">By default, WAP uses the plan name as the display name, which can be modified using the edit advertisement button.</li><li class="listitem">Additional localized advertisements can be created using the <span class="strong"><strong class="calibre9">ADD ADVERTISEMENT</strong></span> button, and then providing a locale, display name, and description.<div class="mediaobject"><img src="../images/00110.jpeg" alt="Publishing, configuring, advertising, and cloning a WAP plan" class="calibre10"/></div><p class="calibre11"> </p></li><li class="listitem">Plans can be published on the Microsoft web hosting gallery directly from the WAP portal or by exporting plans into XML and uploading this<a id="id668" class="calibre1"/> XML manually.</li></ul></div><div class="mediaobject"><img src="../images/00111.jpeg" alt="Publishing, configuring, advertising, and cloning a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem"><span class="strong"><strong class="calibre9">Cloning a plan</strong></span>: Windows<a id="id669" class="calibre1"/> Azure Pack plans can be cloned to create new plans having existing plans settings preconfigured. Cloned plans will have all the settings preconfigured as per the original plan including advertisements and so on. The following steps are carried out to clone a plan:<div class="book"><ol class="orderedlist1"><li class="listitem" value="1">Log into the WAP management portal and browse to the <span class="strong"><strong class="calibre9">plans</strong></span> workspace.</li><li class="listitem" value="2">Select the plan to<a id="id670" class="calibre1"/> be cloned and click on <span class="strong"><strong class="calibre9">CLONE</strong></span>, which is in the bottom pane.</li><li class="listitem" value="3">Provide a new plan name and click on <span class="strong"><strong class="calibre9">Finish</strong></span> to clone the plan. The cloned plan will be visible in the <span class="strong"><strong class="calibre9">plans</strong></span> workspace.</li></ol><div class="calibre27"/></div><div class="mediaobject"><img src="../images/00112.jpeg" alt="Publishing, configuring, advertising, and cloning a WAP plan" class="calibre10"/></div><p class="calibre26"> </p></li></ul></div></div></div>

<div class="book" title="Creating and managing Windows Azure Pack plans and add-ons">
<div class="book" title="Creating and managing add-ons"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch05lvl2sec87" class="calibre1"/>Creating and managing add-ons</h2></div></div></div><p class="calibre8">Follow these<a id="id671" class="calibre1"/> steps to create an add-on:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the<a id="id672" class="calibre1"/> WAP administration portal and browse to the <span class="strong"><strong class="calibre9">plans</strong></span> workspace.</li><li class="listitem" value="2">Go to the <span class="strong"><strong class="calibre9">ADD-ONS</strong></span> tab.</li><li class="listitem" value="3">Click on <span class="strong"><strong class="calibre9">CREATE A NEW ADD-ON</strong></span> to provision add-ons.<div class="mediaobject"><img src="../images/00113.jpeg" alt="Creating and managing add-ons" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="4">Provide a friendly name for the add-on. This name will be visible to the tenants.</li><li class="listitem" value="5">Select <span class="strong"><strong class="calibre9">Services</strong></span> and <a id="id673" class="calibre1"/>the add-on will extend. Note that the plan with which this add-on will be linked must provide these services.</li><li class="listitem" value="6">Click on the add-on name to start configuring the settings.</li><li class="listitem" value="7">For IaaS using VM Clouds add-on, select <span class="strong"><strong class="calibre9">VMM Management Server</strong></span> and <span class="strong"><strong class="calibre9">VMM Cloud</strong></span> as per the original plan of configuration.</li><li class="listitem" value="8">Configure the usage limit that the add-on will provide.</li><li class="listitem" value="9">Add additional networks, hardware profiles, templates, and gallery items that this add-on will provide.</li><li class="listitem" value="10">Select additional and custom settings as applicable.</li><li class="listitem" value="11">Click on <span class="strong"><strong class="calibre9">SAVE</strong></span> to configure the add-on with defined settings.</li><li class="listitem" value="12">Additional add-ons can be created in a similar manner.</li></ol><div class="calibre27"/></div><p class="calibre8">The following add-on management operations can be performed in a similar manner as per the plans, operations:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Making an add-on public or private</li><li class="listitem">Adding or removing services</li><li class="listitem">Cloning an add-on to create new add-on</li><li class="listitem">Maximum times an add-on can be subscribed on the top of specific plan</li><li class="listitem">Advertisement configuration</li></ul></div></div></div>

<div class="book" title="Creating and managing Windows Azure Pack plans and add-ons">
<div class="book" title="Linking an add-on to a plan"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_4"><a id="ch05lvl2sec88" class="calibre1"/>Linking an add-on to a plan</h2></div></div></div><p class="calibre8">Let's follow these steps to<a id="id674" class="calibre1"/> link an add-on to a plan:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP<a id="id675" class="calibre1"/> administration portal and browse to the <span class="strong"><strong class="calibre9">plans</strong></span> workspace.</li><li class="listitem" value="2">Go to the <span class="strong"><strong class="calibre9">Add-Ons</strong></span> tab.</li><li class="listitem" value="3">Select the add-on and click on the <span class="strong"><strong class="calibre9">Link a plan</strong></span> button on the bottom pane.</li><li class="listitem" value="4">Select the plan to which the add-on needs to be linked.<div class="mediaobject"><img src="../images/00114.jpeg" alt="Linking an add-on to a plan" class="calibre10"/></div><p class="calibre26"> </p></li></ol><div class="calibre27"/></div><div class="book"><ul class="itemizedlist"><li class="listitem">Click<a id="id676" class="calibre1"/> on <span class="strong"><strong class="calibre9">Finish</strong></span> to link the<a id="id677" class="calibre1"/> add-on to the plan.</li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Creating and managing tenants' user accounts"><div class="book" id="1IHDQ2-b479cf466c26404ca54119871a9b2715"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec46" class="calibre1"/>Creating and managing tenants' user accounts</h1></div></div></div><p class="calibre8">While signing <a id="id678" class="calibre1"/>up on Windows Azure Pack tenant portal, tenants must provide an email address and password. This creates an account for tenants in Windows<a id="id679" class="calibre1"/> Azure Pack directory (ASP .Net or ADFS as applicable).</p><p class="calibre8">Tenant user<a id="id680" class="calibre1"/> accounts can be created in Windows Azure Pack in two<a id="id681" class="calibre1"/> ways:</p><div class="book"><ul class="itemizedlist"><li class="listitem">They can be created by a tenant's self-sign up operation</li><li class="listitem">They can be created by a cloud administrator</li></ul></div></div>

<div class="book" title="Creating and managing tenants' user accounts">
<div class="book" title="Creating user accounts for tenants"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec89" class="calibre1"/>Creating user accounts for tenants</h2></div></div></div><p class="calibre8">The following <a id="id682" class="calibre1"/>steps are to be carried out for creating user accounts for tenants:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Browse the <span class="strong"><strong class="calibre9">user accounts</strong></span> workspace.</li><li class="listitem" value="3">Click on <span class="strong"><strong class="calibre9">CREATE A NEW USER</strong></span>.<div class="mediaobject"><img src="../images/00115.jpeg" alt="Creating user accounts for tenants" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="4">Provide user details<a id="id683" class="calibre1"/> including email address, password, and <a id="id684" class="calibre1"/>a plan to subscribe. Note that a plan made public will only be available here.<div class="mediaobject"><img src="../images/00116.jpeg" alt="Creating user accounts for tenants" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="5">Tenants can use this account now for logging into the tenant portal and using services under the selected plan.</li></ol><div class="calibre27"/></div><p class="calibre8">An administrator can perform additional operations on user accounts such as:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Suspend account</li><li class="listitem">Reset password</li><li class="listitem">Delete account</li></ul></div><div class="informalexample" title="Note"><h3 class="title2"><a id="note29" class="calibre1"/>Note</h3><p class="calibre8">Note that all tenant user account-related operations aren't applicable when any other authentication and federation services are used, such as ADFS. These are applicable only with <a id="id685" class="calibre1"/>WAP built-in ASP .Net provider user accounts.</p></div></div></div>

<div class="book" title="Creating and managing tenants' user accounts">
<div class="book" title="Configuring notification settings and rules"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec90" class="calibre1"/>Configuring notification settings and rules</h2></div></div></div><p class="calibre8">Windows Azure Pack<a id="id686" class="calibre1"/> provides notification features for standard user account management operations such as the following:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Verifying user <a id="id687" class="calibre1"/>email account by sending a verification link on the users' email addresses</li><li class="listitem">Sending a new password to users</li><li class="listitem">Sending users a link to reset the password</li></ul></div><p class="calibre8">Additional rules can be created as per requirement. Activating any rule requires SMTP settings to be configured first as notifications require a mail server to send emails to tenants' users. Let's have a look at the steps for configuring SMTP settings and notification rules:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Browse through the <span class="strong"><strong class="calibre9">user accounts</strong></span> workspace and then the <span class="strong"><strong class="calibre9">SETTINGS</strong></span> tab.<div class="mediaobject"><img src="../images/00117.jpeg" alt="Configuring notification settings and rules" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="3">Click on <span class="strong"><strong class="calibre9">ADD A NEW SMTP SETTING</strong></span>.</li><li class="listitem" value="4">Add the server address and port number.</li><li class="listitem" value="5">Select the <span class="strong"><strong class="calibre9">Authentication</strong></span> type (basic or anonymous).</li><li class="listitem" value="6">If applicable, provide a username and password to be used to connect to the SMTP server.<div class="mediaobject"><img src="../images/00118.jpeg" alt="Configuring notification settings and rules" class="calibre10"/></div><p class="calibre26"> </p></li></ol><div class="calibre27"/></div><p class="calibre8">To configure notification<a id="id688" class="calibre1"/> rules, perform the following<a id="id689" class="calibre1"/> steps:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Browse the <span class="strong"><strong class="calibre9">user accounts</strong></span> workspace and the <span class="strong"><strong class="calibre9">RULES</strong></span> tab.<div class="mediaobject"><img src="../images/00119.jpeg" alt="Configuring notification settings and rules" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="3">Click on any existing rule to configure settings or add rules to create a new rule.</li><li class="listitem" value="4">Configure email setting for the rule, such as the following:<div class="book"><ul class="itemizedlist1"><li class="listitem">Enabled status: yes or no</li><li class="listitem">Reply to the email address: This will be used if tenants wish to reply to autogenerated emails</li><li class="listitem">Email subject: Email subject for notifications messages</li><li class="listitem">Email body: Cloud providers can modify existing templates as per requirements</li><li class="listitem">SMTP account to use</li></ul></div></li></ol><div class="calibre27"/></div><p class="calibre8">Additional rules for<a id="id690" class="calibre1"/> notifications can be created and <a id="id691" class="calibre1"/>configured in a similar manner. The outbox tab can be used by the administrator to see all the notifications sent to users.</p></div></div>

<div class="book" title="Creating and managing tenants' user accounts">
<div class="book" title="Configuring additional accounts management settings"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_3"><a id="ch05lvl2sec91" class="calibre1"/>Configuring additional accounts management settings</h2></div></div></div><p class="calibre8">The <span class="strong"><strong class="calibre9">CONFIGURE</strong></span> tab<a id="id692" class="calibre1"/> on the user account workspace in the WAP portal allows cloud providers to select a generic control over user accounts as per their choice:</p><div class="book"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong class="calibre9">Required Password Strength</strong></span>: Weak/Fair/Strong</li><li class="listitem"><span class="strong"><strong class="calibre9">Tenant Self Service Subscription Management</strong></span>: Enable or Disable<p class="calibre15">This allows cloud administrators to choose if tenants can subscribe to plans in a self-service manner (using invite code), or whether it has to be through cloud administrator only</p></li><li class="listitem"><span class="strong"><strong class="calibre9">Account Validation Required</strong></span>: Yes/No<p class="calibre15">This setting requires corresponding notification rules and SMTP settings to configure</p></li><li class="listitem"><span class="strong"><strong class="calibre9">Forgot Password Enabled</strong></span>: Yes/No<p class="calibre15">This setting requires corresponding notification rules and SMTP settings to configure</p></li></ul></div></div></div>

<div id="page" style="height:0pt"/><div class="book" title="Tenant subscriptions &#x2013; an overview and management" id="1JFUC1-b479cf466c26404ca54119871a9b2715"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec47" class="calibre1"/>Tenant subscriptions – an overview and management</h1></div></div></div><p class="calibre8">A subscription is an object that defines a tenant's access to a plan and is used to identify the tenant's resources and access across the cloud. A subscription is created when tenants sign up for <a id="id693" class="calibre1"/>any plan or add-on.</p><p class="calibre8">A subscription is<a id="id694" class="calibre1"/> one-to-one mapping between tenant user and plan access. One subscription can be attached to only one plan, whereas single tenants can have multiple subscriptions. Windows Azure Pack provides self-services access to tenants for creating and managing subscriptions as defined by cloud administrators. In this<a id="id695" class="calibre1"/> topic, you will learn about subscription management from a cloud administrator's point of view; the tenant's point of view will be covered in the next <a id="id696" class="calibre1"/>chapter.</p></div>

<div class="book" title="Tenant subscriptions &#x2013; an overview and management" id="1JFUC1-b479cf466c26404ca54119871a9b2715">
<div class="book" title="Subscription management operations – administrators"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_1"><a id="ch05lvl2sec92" class="calibre1"/>Subscription management operations – administrators</h2></div></div></div><p class="calibre8">The Windows Azure Pack administration portal allows management operations on subscription, which<a id="id697" class="calibre1"/> can be performed by a cloud <a id="id698" class="calibre1"/>administrator. The following management operations can be performed:</p><div class="book"><ul class="itemizedlist"><li class="listitem">Viewing a list of all the subscriptions per plan or throughout a cloud</li><li class="listitem">Dashboard showing resource usage in a subscription</li><li class="listitem">Suspending or deleting a subscription</li><li class="listitem">Migrating a subscription from one plan to another plan</li><li class="listitem">Adding a co-administrator (tenant) to any subscription</li><li class="listitem">Linking any add-on to a subscription</li></ul></div><p class="calibre8">The following steps are to be carried out for subscription management operations:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Browse the <span class="strong"><strong class="calibre9">plans</strong></span> workspace and the <span class="strong"><strong class="calibre9">SUBSCRIPTIONS</strong></span> tab.</li><li class="listitem" value="3">All <span class="strong"><strong class="calibre9">SUBSCRIPTION</strong></span> under the WAP cloud will be visible.<div class="mediaobject"><img src="../images/00120.jpeg" alt="Subscription management operations – administrators" class="calibre10"/></div><p class="calibre26"> </p></li><li class="listitem" value="4">Subscriptions<a id="id699" class="calibre1"/> management operations can be performed using buttons in the bottom pane. Operations include the following:<div class="book"><ul class="itemizedlist1"><li class="listitem"><span class="strong"><strong class="calibre9">SUSPEND SUBSCRIPTION</strong></span></li><li class="listitem"><span class="strong"><strong class="calibre9">MIGRATE SUBSCRIPTION TO A DIFFERENT PLAN</strong></span></li><li class="listitem"><span class="strong"><strong class="calibre9">DELETE SUBSCRIPTION</strong></span></li></ul></div></li><li class="listitem" value="5">Click on the subscription name to get a dashboard of the subscription usage.</li><li class="listitem" value="6">Additional co-administrators can be created using the <span class="strong"><strong class="calibre9">ADMINISTRATORS</strong></span> tab.</li><li class="listitem" value="7">Add-ons can be mapped using the <span class="strong"><strong class="calibre9">Add-Ons</strong></span> tab.</li></ol><div class="calibre27"/></div></div></div>

<div class="book" title="Tenant subscriptions &#x2013; an overview and management" id="1JFUC1-b479cf466c26404ca54119871a9b2715">
<div class="book" title="Adding a new subscription to the tenant's user account"><div class="book"><div class="book"><div class="book"><h2 class="title1" id="calibre_pb_2"><a id="ch05lvl2sec93" class="calibre1"/>Adding a new subscription to the tenant's user account</h2></div></div></div><p class="calibre8">Usually, subscriptions <a id="id700" class="calibre1"/>are automatically created when any tenant signs up for any plan or add-on. Cloud administrators can also create additional subscription, for the existing or new tenant users as per requirement.</p><p class="calibre8">Carry out the following steps for adding a new subscription for the existing tenant account:</p><div class="book"><ol class="orderedlist"><li class="listitem" value="1">Log into the WAP management portal for administrators.</li><li class="listitem" value="2">Browse the <span class="strong"><strong class="calibre9">User Accounts</strong></span> workspace.</li><li class="listitem" value="3">Click on the user account to add a new subscription to the existing account. A new user can be created using the <span class="strong"><strong class="calibre9">Add User</strong></span> button.</li><li class="listitem" value="4">Clicking on the user account will display subscriptions associated with that tenant user.</li><li class="listitem" value="5">Additional<a id="id701" class="calibre1"/> subscriptions can be created using the <span class="strong"><strong class="calibre9">Add Subscription</strong></span> button.<div class="mediaobject"><img src="../images/00121.jpeg" alt="Adding a new subscription to the tenant's user account" class="calibre10"/></div><p class="calibre26"> </p></li></ol><div class="calibre27"/></div></div></div>
<div class="book" title="Summary" id="1KEEU1-b479cf466c26404ca54119871a9b2715"><div class="book"><div class="book"><div class="book"><h1 class="title" id="calibre_pb_0"><a id="ch05lvl1sec48" class="calibre1"/>Summary</h1></div></div></div><p class="calibre8">In this chapter, you learned the ways of delivering cloud services to tenants created in the previous chapters. We covered the planning of Windows Azure Pack hosting plans and add-ons along with their implementation. You also learned about user account management for tenant's accounts and subscriptions.</p><p class="calibre8">At the end of this chapter, we have our cloud solution ready with IaaS services configured with plans for the tenants' usage. In the next chapter, we will access this solution as a cloud tenant, which is also known as a customer. We will experience the cloud services provisioning and management operations.</p></div></body></html>