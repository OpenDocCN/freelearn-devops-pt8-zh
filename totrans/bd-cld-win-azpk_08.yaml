- en: Chapter 8. Delivering Database as a Service
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第8章：提供数据库即服务
- en: The Database as a Service in cloud computing service models, delivers relational
    databases for applications and websites without worrying about its infrastructure
    and middleware layer. Developers or application owners are only required to create
    their databases in a self-service manner. This reduces the delivery time drastically
    and allows organizations to focus more on applications.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在云计算服务模型中，数据库即服务提供应用程序和网站所需的关系型数据库，用户无需关心其基础设施和中间件层。开发人员或应用程序所有者只需以自助方式创建数据库。这大大减少了交付时间，并使组织能够更多地专注于应用程序。
- en: Windows Azure Pack supports a variety of databases servers and versions including
    Microsoft SQL Server and MySQL in an integrated and self-service manner. With
    a little more effort, almost every database supported on Hyper-V can be delivered.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack支持多种数据库服务器和版本，包括Microsoft SQL Server和MySQL，以集成和自助的方式进行管理。通过稍加努力，几乎可以交付所有在Hyper-V上支持的数据库。
- en: 'In this chapter, we will be covering the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论以下主题：
- en: Windows Azure Pack DBaaS offerings overview
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows Azure Pack DBaaS产品概览
- en: Planning the DBaaS platform fabric
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划DBaaS平台架构
- en: Implementing SQL DBaaS
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现SQL DBaaS
- en: Implementing the MySQL resource provider fabric
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实现MySQL资源提供者架构
- en: SQL and MySQL DBaaS management operations – service providers
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL和MySQL DBaaS管理操作—服务提供商
- en: Enabling DB QoS – the SQL resource governor
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用数据库服务质量（QoS）—SQL资源管理器
- en: Authoring DBaaS plans
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建DBaaS计划
- en: DBaaS – tenant experience
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: DBaaS - 租户体验
- en: Dedicating DBaaS offerings
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专用DBaaS产品
- en: Windows Azure Pack DBaaS offerings overview and capabilities
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Windows Azure Pack DBaaS产品概览及其功能
- en: Windows Azure Pack Express natively includes APIs for DBaaS resource providers
    for SQL and MySQL. In addition, these two APIs are the only supported DBaaS resource
    providers available by default with WAP.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack Express原生包含SQL和MySQL的DBaaS资源提供者API。此外，这两个API是WAP默认支持的唯一DBaaS资源提供者。
- en: 'WAP DBaaS offerings provide the following features and capabilities on both
    private and service provider''s cloud solutions:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: WAP DBaaS产品在私有云和服务提供商云解决方案中提供以下功能和能力：
- en: High density and resilient DBaaS services
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高密度且具弹性的DBaaS服务
- en: Default support for SQL and MySQL with extension capabilities for other databases
    offerings
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 默认支持SQL和MySQL，并提供扩展能力以支持其他数据库产品
- en: Multitenants and shared models
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多租户和共享模型
- en: The quality of service with granual control
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务质量与细粒度控制
- en: Self-service and automation
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 自助服务和自动化
- en: Multiple service models including shared and dedicated services with IaaS and
    PaaS
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 多种服务模型，包括共享和专用服务，支持IaaS和PaaS
- en: Usage and metering
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用和计量
- en: Supports multiple HA technologies such as Always On
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持多种高可用性技术，如Always On
- en: 'Looking from a tenant''s perspective, WAP DBaaS services offer the following
    features:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 从租户的角度看，WAP DBaaS服务提供以下功能：
- en: It provides a simple, faster database provisioning and management in a self-service
    manner
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它以自助方式提供简单、快速的数据库提供和管理
- en: It runs on invisible infrastructure and platform; that is, there is no need
    to worry about hardware/OS/DB server layer provisioning, management, or updates
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它运行在隐形的基础设施和平台上；即无需担心硬件/操作系统/数据库服务器层的提供、管理或更新
- en: It provides a variety of options with respect to database versions, sizing,
    and features
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 它提供了关于数据库版本、规模和功能的多种选项
- en: Shared and dedicated database services
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 共享和专用数据库服务
- en: Depending upon business-to-business needs and compliance, there can be both
    shared and dedicated databases required by tenants. In shared service models,
    a single database server usually hosts databases from multiple tenants. Tenants
    share the same computing power and other resources along with databases engines.
    The shared service model is common in public cloud solutions and is widely used.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 根据业务需求和合规性，租户可能需要共享或专用数据库。在共享服务模型中，单一数据库服务器通常会托管来自多个租户的数据库。租户共享计算能力和其他资源以及数据库引擎。共享服务模型在公共云解决方案中非常常见，并被广泛使用。
- en: 'In the case of dedicated services, a single server or a set of resources including
    hardware and software host the databases of a single tenant only. Use cases for
    dedicated services usually include the following:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 对于专用服务，单个服务器或一组资源（包括硬件和软件）仅托管单一租户的数据库。专用服务的典型用例包括：
- en: Customized requirements by tenants in terms of infrastructure and software that
    isn't available or possible in a shared mode
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 租户根据基础设施和软件的定制需求，这些需求在共享模式下无法提供或实现
- en: Security or compliance related requirements
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与安全性或合规性相关的要求
- en: Customized QoS requirements and many more
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定制的 QoS 要求及其他更多
- en: While shared database services are natively available in Windows Azure Pack,
    dedicated services can be achieved using VM Roles and dedicated fabric. We will
    be covering these in detail in the upcoming topics.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然 Windows Azure Pack 中本地提供共享数据库服务，但可以通过 VM 角色和专用织物实现专用服务。我们将在接下来的主题中详细讨论这些内容。
- en: The architectural components of WAP DBaaS
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: WAP DBaaS 的架构组件
- en: 'Windows Azure Pack DBaaS solution in shared mode usually includes the following
    components:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack DBaaS 解决方案在共享模式下通常包括以下组件：
- en: SQL or MySQL database servers and clusters
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL 或 MySQL 数据库服务器和集群
- en: Windows Azure Pack server SQL and MySQL extension API servers
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows Azure Pack 服务器 SQL 和 MySQL 扩展 API 服务器
- en: WAP SQL/MySQL groups, plans, and the tenant's subscription
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WAP SQL/MySQL 组、计划和租户订阅
- en: Any other database services related monitoring, management, or automation solutions
    such as SCOM
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 任何其他与数据库服务相关的监控、管理或自动化解决方案，如 SCOM
- en: WAP resource provider's API is responsible for communicating with the DB server's
    fabric for management and tenant-related provisioning operations. All databases
    are created and managed by the resource provider's API.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: WAP 资源提供者的 API 负责与数据库服务器的织物进行通信，用于管理和租户相关的配置操作。所有数据库由资源提供者的 API 创建和管理。
- en: The communication from the tenant's application to DB servers is direct; that
    is, it does not involve any WAP component.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 租户应用程序与数据库服务器之间的通信是直接的；也就是说，它不涉及任何 WAP 组件。
- en: Planning the DBaaS platform fabric
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 规划 DBaaS 平台织物
- en: In this topic, we will be discussing the planning of the shared DBaaS platform
    fabric for both SQL and MySQL database services.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 本主题将讨论 SQL 和 MySQL 数据库服务的共享 DBaaS 平台织物的规划。
- en: Planning the database server's groups
  id: totrans-45
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 规划数据库服务器的组
- en: In Windows Azure Pack, both SQL and MySQL DB servers are categorized under groups.
    A group may contain multiple, standalone, or clustered database servers that can
    be either virtual or physical. WAP plans are configured to provide cloud database
    offerings services to tenants using groups. Both SQL and MySQL groups work independently;
    that is, a group cannot have a mix of both SQL and MySQL databases.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Windows Azure Pack 中，SQL 和 MySQL 数据库服务器都被分类到组中。一个组可以包含多个独立的或集群的数据库服务器，这些服务器可以是虚拟的或物理的。WAP
    计划配置为通过组向租户提供云数据库服务。SQL 和 MySQL 组是独立工作的；也就是说，一个组不能同时包含 SQL 和 MySQL 数据库。
- en: DB server groups work in a shared mode; that is, they host databases for multiple
    users or tenants in a shared instance.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 数据库服务器组以共享模式工作；也就是说，它们为多个用户或租户托管数据库，且为共享实例。
- en: Organizations or service providers can plan to create multiple groups depending
    upon requirements and strategies, such as one group is for high-end database hosting
    in terms of size and performance, whereas another can be a non-HA group.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 组织或服务提供商可以根据需求和策略规划创建多个组，例如，某个组用于提供高端数据库托管（在大小和性能方面），而另一个则可以是非 HA 组。
- en: 'Organizations utilizing Windows Azure Pack database services for private cloud
    requirements may plan to create multiple groups for SQL resource providers for
    different business units depending upon the type or workload, such as production
    and **T&D** (**test and development**) environments. A few examples are as follows:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Windows Azure Pack 数据库服务来满足私有云需求的组织，可能会根据工作负载或类型（如生产环境和**T&D**（**测试与开发**）环境）计划为
    SQL 资源提供者创建多个组。以下是一些示例：
- en: Categorizing on the basis of business units or departments
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基于业务单元或部门的分类
- en: Categorizing on the basis of criticality, which directly relates to the performance
    and availability capabilities of the fabric
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据关键性进行分类，这与织物的性能和可用性能力直接相关
- en: Separate groups for T&D applications or any other separate exclusive database
    needs
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为 T&D 应用程序或任何其他独立的专用数据库需求创建单独的组
- en: Separate groups for different versions or features' availability, such s DR,
    backups, and so on
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为不同版本或功能的可用性创建单独的组，例如 DR、备份等
- en: Separate groups for different geo locations or datacenters
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为不同的地理位置或数据中心创建单独的组
- en: 'While most of the previous examples are applicable for service providers, service
    providers may choose to have groups based on the following:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然大多数前述示例适用于服务提供商，但服务提供商可以选择根据以下内容创建组：
- en: Separate groups for shared and dedicated database services for tenants
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为租户创建独立和共享的数据库服务组
- en: Separate groups for standalone and clustered servers that provide high availability
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为提供高可用性的独立和集群服务器创建不同的组
- en: Separate groups depending upon performance and additional features such as backups
  id: totrans-58
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据性能和额外功能（如备份）将组分开
- en: As per database sizes; that is, separate groups for hosting large-sized databases
    and small-sized databases
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据数据库大小划分；即为托管大型数据库和小型数据库创建不同的组
- en: Planning the SQL Server's fabric deployment
  id: totrans-60
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 规划 SQL Server 的部署结构
- en: 'Windows Azure Pack SQL resource provider supports the following SQL database
    servers'' versions:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack SQL 资源提供者支持以下 SQL 数据库服务器版本：
- en: SQL Server 2014
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL Server 2014
- en: SQL Server 2012 SP1
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL Server 2012 SP1
- en: SQL Server 2008 R2 SP2 and SP3
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL Server 2008 R2 SP2 和 SP3
- en: 'While almost all planning and best practices followed for a Microsoft SQL Server
    deployment are applicable, the following guidelines can be followed for a Windows
    Azure Pack DBaaS SQL fabric group. See Microsoft''s official documentation at
    [https://msdn.microsoft.com/en-us/library/bb545450.aspx](https://msdn.microsoft.com/en-us/library/bb545450.aspx)
    to learn more about MS SQL:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然几乎所有适用于 Microsoft SQL Server 部署的规划和最佳实践都适用，但可以遵循以下指南来创建 Windows Azure Pack
    DBaaS SQL 部署结构。请参阅 Microsoft 官方文档 [https://msdn.microsoft.com/en-us/library/bb545450.aspx](https://msdn.microsoft.com/en-us/library/bb545450.aspx)
    了解更多关于 MS SQL 的信息：
- en: '**Using SQL availability techniques**: Windows Azure Pack SQL Resource provider
    can be deployed with the following types of SQL database servers. It is recommended
    to use SQL high availability technologies for SQL Server groups as design decisions:'
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用 SQL 可用性技术**：Windows Azure Pack SQL 资源提供者可以与以下类型的 SQL 数据库服务器一起部署。建议为 SQL
    Server 组使用 SQL 高可用性技术作为设计决策：'
- en: Standalone SQL Server
  id: totrans-67
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 独立 SQL Server
- en: SQL Always ON
  id: totrans-68
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL Always ON
- en: '**Utilizing the SQL resource governor**: WAP supports the utilizing resource
    governor feature of SQL Server 2014 for enabling QOS control for the tenant''s
    databases'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**利用 SQL 资源治理器**：WAP 支持使用 SQL Server 2014 的资源治理器功能，为租户的数据库启用 QOS 控制'
- en: '**Using virtual machines for SQL Servers**: It''s a good idea to use virtual
    machines to host SQL Server virtual machines to take advantage of the hypervisor
    level availability and other technologies such as mobility'
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**使用虚拟机来托管 SQL Server**：使用虚拟机托管 SQL Server 虚拟机是个不错的主意，这样可以利用虚拟化层的高可用性和其他技术，如迁移性'
- en: '**Additional requirements**: WAP requires SQL authentication to be enabled
    in SQL Servers'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**附加要求**：WAP 要求在 SQL Server 中启用 SQL 身份验证'
- en: Planning the MySQL Server's fabric deployment
  id: totrans-72
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 规划 MySQL Server 的部署结构
- en: 'Windows Azure Pack MySQL Resource provider supports the following versions
    of MySQL Server for tenants'' databases:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack MySQL 资源提供者支持租户数据库的以下 MySQL Server 版本：
- en: MySQL 5.1 for Windows
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows 版 MySQL 5.1
- en: MySQL 5.5 for Windows
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows 版 MySQL 5.5
- en: 'Refer to the MySQL documentation ([https://dev.mysql.com/doc/](https://dev.mysql.com/doc/))
    to know more about planning and sizing for MySQL databases servers. Normally,
    MySQL Servers can be deployed in two manners for WAP DBaaS services:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 参阅 MySQL 文档 ([https://dev.mysql.com/doc/](https://dev.mysql.com/doc/)) 了解更多关于
    MySQL 数据库服务器的规划和规模化。通常，MySQL 服务器可以通过两种方式部署到 WAP DBaaS 服务：
- en: Standalone MySQL Servers are installed using the WEB PI
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 WEB PI 安装独立 MySQL 服务器
- en: Highly available MySQL Servers are installed with Windows Cluster and MySQL
    Enterprise
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高可用的 MySQL 服务器通过 Windows 集群和 MySQL Enterprise 安装
- en: Implementing SQL DBaaS
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实施 SQL DBaaS
- en: 'Implementing SQL Server DBaaS services involves the following steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 实施 SQL Server DBaaS 服务包括以下步骤：
- en: Planning SQL Server fabric groups
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划 SQL Server 部署结构
- en: Installing and configuring SQL Server Standalone or Always On Servers
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置 SQL Server 独立或 Always On 服务器
- en: Creating SQL Server groups
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建 SQL Server 组
- en: Adding SQL Servers to the groups
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将 SQL Server 添加到各个组中
- en: Creating plans and assigning services
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建计划并分配服务
- en: The installation and configuration of SQL Standalone or Always On isn't covered
    in this book. It is recommended to follow Microsoft's standard guidelines and
    best practices for installing and configuring SQL Servers. The SQL Server installation
    guides can be found at [https://msdn.microsoft.com/en-us/library/bb500442.aspx](https://msdn.microsoft.com/en-us/library/bb500442.aspx).
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 本书未涵盖 SQL 独立或 Always On 的安装与配置。建议遵循 Microsoft 的标准指南和最佳实践来安装和配置 SQL 服务器。SQL 服务器安装指南可以在[https://msdn.microsoft.com/en-us/library/bb500442.aspx](https://msdn.microsoft.com/en-us/library/bb500442.aspx)找到。
- en: Creating SQL groups
  id: totrans-87
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 SQL 组
- en: 'The following steps outline the process to create SQL groups:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了创建 SQL 组的过程：
- en: Log into the Windows Azure Pack management portal for administrators.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用管理员身份登录到 Windows Azure Pack 管理门户。
- en: Browse the **sql servers** workspace.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览**sql 服务器**工作区。
- en: Click on **Create a SQL Server Group**.![Creating SQL groups](img/00213.jpeg)
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**创建 SQL 服务器组**。![创建 SQL 组](img/00213.jpeg)
- en: Provide **GROUP** **NAME**, choose the type that is **Standalone servers** or**High
    availability (Always on enabled)** and select the checkbox to enable the SQL resource
    governance (this will be discussed in the upcoming topics).![Creating SQL groups](img/00214.jpeg)
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供**组** **名称**，选择类型为**独立服务器**或**高可用性（启用 Always On）**，并选中复选框以启用 SQL 资源治理（将在后续章节讨论）。![创建
    SQL 组](img/00214.jpeg)
- en: The newly created group will now be listed nder the **GROUPS** tab in the **sql
    servers** workspace.![Creating SQL groups](img/00215.jpeg)
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新创建的组将现在列在**sql 服务器**工作区的**组**选项卡下。![创建 SQL 组](img/00215.jpeg)
- en: Adding SQL Servers to groups
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将 SQL 服务器添加到组
- en: 'The following steps outline the process to add SQL Servers to a group:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了将 SQL 服务器添加到组的过程：
- en: Log into the Windows Azure Pack management portal for administrators
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用管理员身份登录到 Windows Azure Pack 管理门户
- en: Browse the **sql** **servers** workspace.![Adding SQL Servers to groups](img/00216.jpeg)
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览**sql** **服务器**工作区。![将 SQL 服务器添加到组](img/00216.jpeg)
- en: Click on the **ADDA NEW SQL SERVER** option.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加新 SQL 服务器**选项。
- en: Enter the server name and credentials (SQL authentication and total database
    size of DB hosting capacity).![Adding SQL Servers to groups](img/00217.jpeg)
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入服务器名称和凭证（SQL 身份验证及数据库托管容量的总数据库大小）。![将 SQL 服务器添加到组](img/00217.jpeg)
- en: The newly added SQL Server will now be available in the **SERVERS** tab.![Adding
    SQL Servers to groups](img/00218.jpeg)
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新添加的 SQL 服务器现在将在**服务器**选项卡中显示。![将 SQL 服务器添加到组](img/00218.jpeg)
- en: Implementing the MySQL resource provider fabric
  id: totrans-101
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 实施 MySQL 资源提供程序架构
- en: 'MySQL database engines for Windows Azure Pack can be installed in two ways:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: MySQL 数据库引擎对于 Windows Azure Pack 可以通过两种方式安装：
- en: Using the traditional MySQL mechanism
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用传统的 MySQL 机制
- en: Using the Microsoft Web Platform installer
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用 Microsoft Web Platform 安装程序
- en: The Microsoft Web Platform installer contains both MySQL 5.1 and 5.5 versions
    in the community edition. It is installed in the standalone mode. Post installation,
    a remote access to MySQL Servers must be enabled manually to allow the WAP communication.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Web Platform 安装程序在社区版中包含了 MySQL 5.1 和 5.5 版本。它以独立模式安装。安装后，必须手动启用 MySQL
    服务器的远程访问，以允许 WAP 通信。
- en: Refer to the MySQL documentation to know more on production MySQL deployments.
    The MySQL documentation can be found at [https://dev.mysql.com/doc/](https://dev.mysql.com/doc/).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 查阅 MySQL 文档以了解有关生产环境 MySQL 部署的更多信息。MySQL 文档可以在[https://dev.mysql.com/doc/](https://dev.mysql.com/doc/)找到。
- en: Installing and configuring MySQL servers
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装和配置 MySQL 服务器
- en: 'The following steps outline the MySQL installation using Microsoft Web Platform
    Installer:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了使用 Microsoft Web Platform Installer 安装 MySQL 的过程：
- en: Log into the server designated for hosting the MySQL Server database with administrative
    credentials.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用管理员凭证登录到指定托管 MySQL 服务器数据库的服务器。
- en: Download and install the Microsoft Web Platform Installer.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载并安装 Microsoft Web Platform Installer。
- en: Search for MySQL 5.5.![Installing and configuring MySQL servers](img/00219.jpeg)
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索 MySQL 5.5。![安装和配置 MySQL 服务器](img/00219.jpeg)
- en: Select **MySQL Windows 5.5** and click on **Add**.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**MySQL Windows 5.5**并点击**添加**。
- en: Click on **Install** to proceed further.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**安装**以继续操作。
- en: Enter the root password for MySQL DB. This will be used while communicating
    with MySQL Server post installation.![Installing and configuring MySQL servers](img/00220.jpeg)
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入 MySQL 数据库的 root 密码。这将在安装后与 MySQL 服务器通信时使用。![安装和配置 MySQL 服务器](img/00220.jpeg)
- en: Accept the agreement and proceed further.
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受协议并继续操作。
- en: Now, the downloading and the installation procedure will start.
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，将开始下载和安装过程。
- en: Exit the wizard after a successful installation.![Installing and configuring
    MySQL servers](img/00221.jpeg)
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装成功后退出向导。![安装和配置 MySQL 服务器](img/00221.jpeg)
- en: Launch the MySQL command-line client from the **Start** menu.
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从 **开始** 菜单启动 MySQL 命令行客户端。
- en: Enter the password for the root user that was configured during the installation.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入在安装过程中配置的 root 用户的密码。
- en: 'Enable the remote access to remote the server by issuing the following command
    on the MySQL Server utility command line, which was installed on the MySQL Server
    by the WEB PI:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过在 MySQL 服务器的实用工具命令行上执行以下命令来启用远程访问，该命令行是通过 WEB PI 安装在 MySQL 服务器上的：
- en: '[PRE0]'
  id: totrans-121
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: This MySQL Server is now ready for integration with Windows Azure Pack.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，这个 MySQL 服务器已准备好与 Windows Azure Pack 集成。
- en: Creating MySQL groups
  id: totrans-123
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 创建 MySQL 组
- en: 'Creating Windows Azure Pack groups for MySQL Servers is fairly simple and similar
    to SQL Server groups. The following steps outline the requirements to create MySQL
    Servers:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 为 MySQL 服务器创建 Windows Azure Pack 组非常简单，类似于 SQL 服务器组。以下步骤概述了创建 MySQL 服务器的要求：
- en: Log into the Windows Azure Pack management portal for administrators.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到 Windows Azure Pack 管理门户以进行管理员操作。
- en: Browse the **MYSQL SERVERS** workspace.![Creating MySQL groups](img/00222.jpeg)
  id: totrans-126
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览 **MYSQL 服务器** 工作区。![创建 MySQL 组](img/00222.jpeg)
- en: Click on **CREATE A GROUP**.![Creating MySQL groups](img/00223.jpeg)
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **创建组**。![创建 MySQL 组](img/00223.jpeg)
- en: The newly created group will now be visible under MySQL groups.![Creating MySQL
    groups](img/00224.jpeg)
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新创建的组现在将在 MySQL 组下显示。![创建 MySQL 组](img/00224.jpeg)
- en: Adding MySQL Servers to groups
  id: totrans-129
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 将 MySQL 服务器添加到组
- en: 'The following steps outline the requirements to add MySQL Server in Windows
    Azure Pack MySQL Server groups:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了在 Windows Azure Pack MySQL 服务器组中添加 MySQL 服务器的要求：
- en: Log into the Windows Azure Pack management portal for administrators and browse
    the **mysql servers** workspace.![Adding MySQL Servers to groups](img/00225.jpeg)
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到 Windows Azure Pack 管理门户并浏览 **mysql 服务器** 工作区。![将 MySQL 服务器添加到组](img/00225.jpeg)
- en: Click on **ADD A NEW MYSQL SERVER**.![Adding MySQL Servers to groups](img/00226.jpeg)
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加新 MySQL 服务器**。![将 MySQL 服务器添加到组](img/00226.jpeg)
- en: Upon successful completion, MySQL Server will be listed under the **SERVERS**
    tab in the **mysql servers** workspace.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，MySQL 服务器将列在 **mysql 服务器** 工作区的 **服务器** 标签下。
- en: SQL and MySQL DBaaS management operations – service providers
  id: totrans-134
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: SQL 和 MySQL DBaaS 管理操作 – 服务提供商
- en: 'Windows Azure Pack provides a self-service portal for administrators for normal
    DBaaS management service operations. The following operations can be performed
    using the WAP portal for SQL and MySQL resource providers'' groups and servers:'
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 为管理员提供了一个自助服务门户，用于执行常规 DBaaS 管理服务操作。可以通过 WAP 门户为 SQL 和 MySQL
    资源提供商的组和服务器执行以下操作：
- en: 'Groups management operations are as follows:'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 组管理操作如下：
- en: Add group
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加组
- en: Delete group
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 删除组
- en: 'Database server management operations can be performed as follows:'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可以执行以下数据库服务器管理操作：
- en: View the utilization and count of the SQL database on the SQL Server.
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 查看 SQL 服务器上的 SQL 数据库的使用情况和数量。
- en: List all the databases created.
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 列出所有已创建的数据库。
- en: Change the DB servers group and the hosting capacity (only for SQL Servers and
    not MySQL).![SQL and MySQL DBaaS management operations – service providers](img/00227.jpeg)
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 更改 DB 服务器组和托管容量（仅适用于 SQL 服务器，不适用于 MySQL）。![SQL 和 MySQL DBaaS 管理操作 – 服务提供商](img/00227.jpeg)
- en: Repair the connection with the existing database servers:![SQL and MySQL DBaaS
    management operations – service providers](img/00228.jpeg)
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修复与现有数据库服务器的连接：![SQL 和 MySQL DBaaS 管理操作 – 服务提供商](img/00228.jpeg)
- en: Remove Server.
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
  zh: 删除服务器。
- en: Enabling DB QoS – the SQL resource governor
  id: totrans-145
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 启用 DB QoS – SQL 资源治理器
- en: As you learned, Windows Azure Pack database as a service offering works in a
    sharing mode; that is, multiple tenants can access databases hosted on the same
    servers. Assuring the quality of the service in a shared multitenant shared cloud
    is necessary. The SQL resource governor feature of SQL 2014 Enterprise edition
    enables Windows Azure Pack to provide the quality of service control on the tenant's
    database.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所学，Windows Azure Pack 的数据库即服务提供在共享模式下工作；即多个租户可以访问托管在同一服务器上的数据库。在共享的多租户云中保证服务质量是必要的。SQL
    2014 企业版的 SQL 资源治理器功能使 Windows Azure Pack 能够对租户的数据库提供服务质量控制。
- en: The resource governor avoids scenarios where one tenant may consume more or
    all the resources that may affect the performance of other tenants' databases.
    This ensures that each tenant gets an equal share of resources as per the subscription.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 资源治理器避免了某个租户消耗过多或全部资源，进而影响其他租户数据库性能的情况。这确保了每个租户根据订阅获得平等的资源份额。
- en: 'Windows Azure Pack with SQL resource governors provides flexibilities to cloud
    providers to apply limits on the following parameters:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 提供的 SQL 资源治理器为云服务提供商提供了灵活性，可以对以下参数设置限制：
- en: CPU
  id: totrans-149
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CPU
- en: Memory
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 内存
- en: IOPS
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: IOPS
- en: 'The following are the architectural components of a SQL resource governor deployment
    or Windows Azure Pack DBaaS services:'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是 SQL 资源治理器部署或 Windows Azure Pack DBaaS 服务的架构组件：
- en: SQL Server 2014 Enterprise edition servers
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL Server 2014 企业版服务器
- en: SQL governance enabled SQL Server groups created in WAP
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 WAP 中创建的启用了 SQL 治理的 SQL Server 组
- en: Configured resource pool templates with limits and settings
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置了带有限制和设置的资源池模板
- en: Windows Azure Pack plans associated with SQL Servers and resource pool template
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与 SQL Server 和资源池模板相关联的 Windows Azure Pack 计划
- en: Resource governor is a feature provided by SQL Server 2014 Enterprise edition
    only; this states that WAP DBaaS Service with QoS control can only be used with
    SQL Enterprise 2014 databases
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 资源治理器是 SQL Server 2014 企业版提供的一项功能；这意味着仅可以与 SQL Server 2014 企业版数据库一起使用 WAP DBaaS
    服务及其 QoS 控制。
- en: Implementing SQL resource governor for WAP
  id: totrans-158
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为 WAP 实现 SQL 资源治理器
- en: The following steps outline the processes required to deploy a Windows Azure
    Pack SQL DBaaS server with SQL governor.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了使用 SQL 治理器部署 Windows Azure Pack SQL DBaaS 服务器所需的过程：
- en: Creating SQL groups and adding SQL Servers
  id: totrans-160
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 创建 SQL 组并添加 SQL Servers
- en: 'To create SQL groups and adding SQL servers in groups perform the following
    steps:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建 SQL 组并向组中添加 SQL Server，请执行以下步骤：
- en: Install and configure SQL Server 2014 Enterprise edition servers.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装并配置 SQL Server 2014 企业版服务器。
- en: Create an SQL Server group in Windows Azure Pack with the **Enable Resource
    Governance** checked.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 Windows Azure Pack 中创建 SQL Server 组，并勾选**启用资源治理**选项。
- en: Add SQL Servers to the group. While adding SQL Servers, provide the number of
    CPU cores, installed memory, IOPs per volume, and the maximum number of resource
    pools to be created on the servers.
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 SQL Server 添加到组中。在添加 SQL Server 时，提供 CPU 核心数、已安装内存、每个卷的 IOPS 和在服务器上创建的最大资源池数量。
- en: The newly created SQL Server group and SQL Servers will be displayed in the
    WAP portal.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 新创建的 SQL Server 组和 SQL Server 将在 WAP 门户中显示。
- en: Note
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Maximum 18 pools can be created on a SQL Server.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 每个 SQL Server 最多可以创建 18 个池。
- en: Resource templates
  id: totrans-168
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 资源模板
- en: Resource templates are used to configure limits and values. They are associated
    with plans. These values are also passed to SQL Servers for creating and configuring
    a resource pool.
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 资源模板用于配置限制和数值，它们与计划关联。这些值也会传递到 SQL Server 用于创建和配置资源池。
- en: 'The following steps outline the requirement for creating resource templates:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了创建资源模板的要求：
- en: Log into the WAP management portal and browse the **mysql servers** workspace.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录 WAP 管理门户并浏览**mysql servers**工作区。
- en: Select the newly created **SQL SERVER** group and browse the resource template
    tab.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择新创建的**SQL SERVER**组并浏览资源模板选项卡。
- en: Click on the **new item** workspace and select the **CREATE A RESOURCE** template
    under SQL Server.![Resource templates](img/00229.jpeg)
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**新建项目**工作区，选择 SQL Server 下的**创建资源**模板。![资源模板](img/00229.jpeg)
- en: Enter a name to identify the template.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入一个名称来标识模板。
- en: 'Enter limit values for the following:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入以下限制值：
- en: '**MINIMUM CPU CORES**'
  id: totrans-176
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最小 CPU 核心数**'
- en: '**MAXIMUM CPU CORES (SOFT CAP)**'
  id: totrans-177
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大 CPU 核心数（软限制）**'
- en: '**MAXIMUM CPU CORES (HARD CAP)**'
  id: totrans-178
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大 CPU 核心数（硬限制）**'
- en: '**MINIMUM MEMORY (MB)**'
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最小内存（MB）**'
- en: '**MAXIMUM MEMORY (MB)**'
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大内存（MB）**'
- en: '**MINIMUM IOPS PER VOLUME**'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每个卷的最小 IOPS**'
- en: '**MAXIMUM IOPS PER VOLUME**'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每个卷的最大 IOPS**'
- en: '**MAXIMUM SUBSCRIPTIONS PER POOL**'
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每池最大订阅数**'
- en: '![Resource templates](img/00230.jpeg)'
  id: totrans-184
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![资源模板](img/00230.jpeg)'
- en: 'Next provide a value for the following limits. These setting are applicable
    for workload groups created in the resource pool:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为以下限制提供值。这些设置适用于在资源池中创建的工作负载组：
- en: '**MAXIMUM MEMORY PER REQUEST (MB)**'
  id: totrans-186
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每个请求的最大内存（MB）**'
- en: '**MAXIMUM CPU TIME IN SECONDS PER REQUEST**'
  id: totrans-187
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每个请求的最大 CPU 时间（秒）**'
- en: '**MEMORY GRANT TIMEOUT IN SECONDS PER QUERY**'
  id: totrans-188
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**每个查询的内存授予超时（秒）**'
- en: '**MAXIMUM SIMULTANEOUS REQUESTS**'
  id: totrans-189
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大并发请求数**'
- en: '**MAXIMUM DEGREE OF PARALLELISM**'
  id: totrans-190
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**最大并行度**'
- en: '![Resource templates](img/00231.jpeg)'
  id: totrans-191
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![资源模板](img/00231.jpeg)'
- en: Finish the wizard; the resource pool template will now be available under the
    **mysql servers** workspace.![Resource templates](img/00232.jpeg)
  id: totrans-192
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成向导后，资源池模板将可在**mysql 服务器**工作区下使用。![资源模板](img/00232.jpeg)
- en: This resource template can now be associated with a WAP plan to assign QoS a
    control over tenants.
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 该资源模板现在可以与 WAP 计划关联，以便对租户分配 QoS 控制。
- en: Authoring DBaaS plans
  id: totrans-194
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 编写 DBaaS 计划
- en: Like all other Windows Azure Pack cloud services, DBaaS offerings are also assigned
    to tenants via Windows Azure Pack plans and add-ons. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-O* *s, Tenant Accounts, and Subscriptions*,
    to learn more about the planning of plans and add-ons.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 像所有其他 Windows Azure Pack 云服务一样，DBaaS 服务也是通过 Windows Azure Pack 计划和附加组件分配给租户的。请参阅[第5章](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "第5章. 分配云服务 – 计划、附加组件、租户帐户和订阅")，*分配云服务 – 计划、附加组件、租户帐户和订阅*，了解更多关于计划和附加组件的规划信息。
- en: Creating plans for SQL and MySQL DBaaS
  id: totrans-196
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为 SQL 和 MySQL DBaaS 创建计划
- en: 'The following steps outline the requirement to create WAP plans for SQL and
    MySQL databases:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了为 SQL 和 MySQL 数据库创建 WAP 计划的要求：
- en: Log into the WAP management portal and browse the new item workspace.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录 WAP 管理门户并浏览新项目工作区。
- en: Select **Plans** to start creating a plan.
  id: totrans-199
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**计划**开始创建计划。
- en: Enter a friendly name for the plan identification.
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入计划标识的友好名称。
- en: Select **SQL Servers**, **MySQL Servers**, or both as applicable.![Creating
    plans for SQL and MySQL DBaaS](img/00233.jpeg)
  id: totrans-201
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**SQL 服务器**、**MySQL 服务器**，或根据需要选择两者。![为 SQL 和 MySQL DBaaS 创建计划](img/00233.jpeg)
- en: The newly created plan will now be visible under **plans** workspace as not
    configured.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新创建的计划现在将以未配置状态显示在**计划**工作区下。
- en: Click on the plan name to start the configuration.![Creating plans for SQL and
    MySQL DBaaS](img/00234.jpeg)
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击计划名称以开始配置。![为 SQL 和 MySQL DBaaS 创建计划](img/00234.jpeg)
- en: Click on SQL and MySQL Servers to start adding groups to the plans. Enter the
    database server information including group, template, and other settings, such
    as edition display name of the tenants, maximum number of databases, and database
    size in normal subscriptions along with add-ons.![Creating plans for SQL and MySQL
    DBaaS](img/00235.jpeg)
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 SQL 和 MySQL 服务器开始将组添加到计划中。输入数据库服务器信息，包括组、模板和其他设置，例如租户的版本显示名称、最大数据库数量、正常订阅中的数据库大小及附加功能。![为
    SQL 和 MySQL DBaaS 创建计划](img/00235.jpeg)
- en: For MySQL Servers, provide database group, edition name displayed to tenants,
    maximum numer of databases, and database size. Resizing isn't available for tenants'
    MySQL databases, removing the option of max addition size.
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 对于 MySQL 服务器，提供数据库组、显示给租户的版本名称、最大数据库数量和数据库大小。租户的 MySQL 数据库不支持调整大小，因此无法修改最大附加大小选项。
- en: '![Creating plans for SQL and MySQL DBaaS](img/00236.jpeg)'
  id: totrans-206
  prefs: []
  type: TYPE_IMG
  zh: '![为 SQL 和 MySQL DBaaS 创建计划](img/00236.jpeg)'
- en: Save the changes and configure the additional plan setting, such as invite code,
    advertisement, changing access to public, and so on. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions*,
    to know more on performing these operations on WAP plans.
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存更改并配置附加计划设置，例如邀请代码、广告、更改访问权限为公开等。请参阅[第5章](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "第5章. 分配云服务 – 计划、附加组件、租户帐户和订阅")，*分配云服务 – 计划、附加组件、租户帐户和订阅*，了解更多关于在 WAP 计划中执行这些操作的信息。
- en: Add-ons for SQL and MySQL DBaaS plans
  id: totrans-208
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: SQL 和 MySQL DBaaS 计划的附加组件
- en: 'Add-ons can be created and associated with plans for WAP DBaaS services for
    the following increase in quotas and services:'
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 附加组件可以创建并与 WAP DBaaS 服务的计划关联，以增加配额和服务：
- en: 'For SQL Servers, we have the following:'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 SQL 服务器，我们有以下内容：
- en: The number of additional databases allowed
  id: totrans-211
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许的额外数据库数量
- en: Total additional capacity allowed (MB)
  id: totrans-212
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许的额外容量（MB）
- en: '![Add-ons for SQL and MySQL DBaaS plans](img/00237.jpeg)'
  id: totrans-213
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![SQL 和 MySQL DBaaS 计划的附加组件](img/00237.jpeg)'
- en: 'For MySQL Servers, we have the following:'
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于 MySQL 服务器，我们有以下内容：
- en: The number of additional databases allowed
  id: totrans-215
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 允许的额外数据库数量
- en: '![Add-ons for SQL and MySQL DBaaS plans](img/00238.jpeg)'
  id: totrans-216
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![SQL 和 MySQL DBaaS 计划的附加组件](img/00238.jpeg)'
- en: DBaaS – tenant experience
  id: totrans-217
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: DBaaS – 租户体验
- en: Using the tenant portal, tenants can provision and manage their databases on
    Windows Azure Pack website's cloud in a self-service and automated manner. In
    this topic, we will walkthrough the tenant experience for MySQL and SQL databases
    provisioning and management operations.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 通过租户门户，租户可以在 Windows Azure Pack 网站的云端以自服务和自动化的方式提供和管理他们的数据库。在本主题中，我们将详细介绍租户在
    MySQL 和 SQL 数据库提供及管理操作中的体验。
- en: Database provisioning and access
  id: totrans-219
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据库提供和访问
- en: 'The following steps outline the process followed by tenants to provision and
    access databases:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了租户为提供和访问数据库所遵循的流程：
- en: Log into the Windows Azure pack tenant portal.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到 Windows Azure Pack 租户门户。
- en: Subscribe to the DBaaS plans using the configured invite code.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用配置的邀请代码订阅 DBaaS 计划。
- en: The SQL and MySQL workspaces will not be visible in the management portal as
    configured in the plan.![Database provisioning and access](img/00239.jpeg)
  id: totrans-223
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: SQL 和 MySQL 工作区将不会在管理门户中显示，因为它们已经按照计划配置。![数据库提供和访问](img/00239.jpeg)
- en: Click on **AD** **A NEW DATABASE** to start creating a SQL DB. Provide the database
    **NAME** and select **EDITION** as configured by the provider in the plan settings:![Database
    provisioning and access](img/00240.jpeg)
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **添加新数据库** 来开始创建 SQL 数据库。提供数据库 **名称** 并选择按提供者在计划设置中配置的 **版本**：![数据库提供和访问](img/00240.jpeg)
- en: Enter the database admin username and credentials. A corresponding SQL and MySQL
    account will get created with this.![Database provisioning and access](img/00241.jpeg)
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入数据库管理员用户名和凭据。对应的 SQL 和 MySQL 账户将会随之创建。![数据库提供和访问](img/00241.jpeg)
- en: The newly created databases will now be visible under databasesand **all items**
    workspace.![Database provisioning and access](img/00242.jpeg)
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新创建的数据库现在将在数据库和 **所有项** 工作区中显示。![数据库提供和访问](img/00242.jpeg)
- en: Select the database and click on **View info** at the bottom pane to view the
    connection info to integrate it into applications. Note that network connectivity
    must be available between the DB connectivity client and DB servers hosted inside
    the cloud. This can be via the Internet or VPN, depending upon architecture to
    architecture.![Database provisioning and access](img/00243.jpeg)
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择数据库并点击底部窗格中的 **查看信息**，以查看连接信息并将其集成到应用程序中。请注意，数据库连接客户端与托管在云中的数据库服务器之间必须有网络连接。根据架构的不同，这可以通过互联网或
    VPN 来实现。![数据库提供和访问](img/00243.jpeg)
- en: Database management operations – tenants
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 数据库管理操作 – 租户
- en: Windows Azure Pack provides a self-service portal that can be used by tenants
    to perform basic management operations on created databases.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 提供一个自服务门户，租户可以使用该门户执行已创建数据库的基本管理操作。
- en: 'The following operations can be performed using WAP portal for SQL and MySQL
    databases.The SQL and MySQL database management operations are as follows:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 以下操作可以通过 WAP 门户执行，用于 SQL 和 MySQL 数据库。SQL 和 MySQL 数据库管理操作如下：
- en: '**VIEW INFO**: This views the connection info and includes an admin user created
    by the tenant'
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**查看信息**：此操作查看连接信息，并包括由租户创建的管理员用户'
- en: '**DELETE**: This deletes a database'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**删除**：此操作删除一个数据库'
- en: '**CHANGE PASSWORD**: This changes the admin user password![Database management
    operations – tenants](img/00244.jpeg)'
  id: totrans-233
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**更改密码**：此操作更改管理员用户密码！[数据库管理操作 – 租户](img/00244.jpeg)'
- en: '**RESIZE**: This resizes the database size (only for SQL databases and not
    MySQL)![Database management operations – tenants](img/00245.jpeg)'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**调整大小**：此操作调整数据库大小（仅适用于 SQL 数据库，不适用于 MySQL）![数据库管理操作 – 租户](img/00245.jpeg)'
- en: Dedicating DBaaS offerings
  id: totrans-235
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 专用 DBaaS 提供
- en: Dedicating or reserving database server(s) for a single tenant usage, in terms
    of infrastructure and software, comes under a dedicated database as a service
    offering.
  id: totrans-236
  prefs: []
  type: TYPE_NORMAL
  zh: 为单个租户使用预留或专用数据库服务器（包括基础设施和软件）属于专用数据库即服务提供的范畴。
- en: 'Natively, neither SQL nor MySQL resource providers have capabilities to reserve
    database servers for a single tenant. The following options can be leveraged for
    providing dedicated DBaaS services by organizations and service providers:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 本地的 SQL 或 MySQL 资源提供商无法为单个租户预留数据库服务器。以下选项可以被组织和服务提供商用于提供专用的 DBaaS 服务：
- en: VM Role gallery item (IaaS and DBaaS)
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VM 角色库项（IaaS 和 DBaaS）
- en: Dedicated groups and plans (this is not recommended in large deployments)
  id: totrans-239
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专用组和计划（在大规模部署中不推荐使用）
- en: DBaaS VM Role gallery items (IaaS and database software)
  id: totrans-240
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: DBaaS VM 角色库项（IaaS 和数据库软件）
- en: VM Role gallery items providing database services include a combination of both
    IaaS and DBaaS service models. Service providers can have gallery items, which
    include automated OS and DB Servers deployment and configurations as per the parameters
    provided by tenants in a self-service portal. In this scenario, both OS and DB
    layers have to managed by tenants only.
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 提供数据库服务的 VM 角色库项目包括 IaaS 和 DBaaS 服务模型的组合。服务提供商可以有库项目，其中包括根据租户在自服务门户中提供的参数自动化操作系统和数据库服务器的部署和配置。在这种情况下，操作系统和数据库层只能由租户进行管理。
- en: A supported database list is also increased in this option; that is, it can
    support all the databases that are supported to run on Hyper-V virtual machines.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 该选项中支持的数据库列表也得到了增加；也就是说，它可以支持所有可以在 Hyper-V 虚拟机上运行的数据库。
- en: There are multiple gallery items available on Web PI, including a few for DB
    Servers comprising SQL and oracle databases. Custom gallery items can be developed
    for any other customized needs. See [Chapter 4](part0040_split_000.html#164MG1-b479cf466c26404ca54119871a9b2715
    "Chapter 4. Building VM Clouds and IaaS Offerings"), *Building VM Clouds and IaaS
    Offerings*, to know more on VM Role gallery items.
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 在 Web PI 上有多个库项目可用，其中包括一些 DB 服务器的项目，涵盖 SQL 和 Oracle 数据库。可以为任何其他自定义需求开发自定义库项目。请参见
    [第4章](part0040_split_000.html#164MG1-b479cf466c26404ca54119871a9b2715 "第4章. 构建虚拟机云和
    IaaS 服务")，*构建虚拟机云和 IaaS 服务*，了解更多关于 VM 角色库项目的信息。
- en: While this provides dedicated servers for a tenant's database hosting, this
    isn't a true PaaS offering as it has infrastructure service visible to the tenant.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这为租户的数据库托管提供了专用服务器，但这并不是一个真正的 PaaS 提供，因为它对租户可见基础设施服务。
- en: Dedicated groups and plans
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 专用的组和计划
- en: Service providers may also choose to provide dedicated databases as a service
    using SQL and MySQL resource providers without adding any IaaS complexity.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 服务提供商还可以选择通过 SQL 和 MySQL 资源提供商提供专用数据库作为服务，而无需添加任何 IaaS 复杂性。
- en: 'Service providers can achieve this by creating the following:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 服务提供商可以通过创建以下内容来实现这一点：
- en: Dedicated servers groups per tenant
  id: totrans-248
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个租户的专用服务器组
- en: Dedicated WAP plans and add-ons per tenant, corresponding to their server groups
  id: totrans-249
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个租户的专用 WAP 计划和附加组件，对应他们的服务器组
- en: Though this looks a simple, straightforward solution, it is not a good idea
    to choose in large-scale deployments. This adds complexity and management overheads
    for cloud providers in terms of managing the fabric along with billing and usage
    solutions.
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这看起来是一个简单直接的解决方案，但在大规模部署中选择它并不是一个好主意。这会增加云服务提供商在管理基础设施、计费和使用解决方案方面的复杂性和管理开销。
- en: Summary
  id: totrans-251
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, you learned about Database as the Service offerings of Windows
    Azure Pack. We completed planning, deployment of groups, and fabric for both SQL
    and MySQL database servers along with management operations in Windows Azure Pack.
  id: totrans-252
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，您了解了 Windows Azure Pack 的数据库即服务（DBaaS）提供。我们完成了 SQL 和 MySQL 数据库服务器的组规划、部署和基础设施管理操作。
- en: You also learned about SQL resource governor and its use cases. Later, we covered
    authoring plans and add-ons along with tenant experience of DBaaS services.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 您还了解了 SQL 资源治理器及其用例。之后，我们讨论了撰写计划和附加组件以及租户体验的 DBaaS 服务。
- en: n the net chapter, we will cover automation and authentication solutions for
    Window Azure Pack, that is, **SMA** (**Service Management Automation**) and **ADFS**
    (**Active Directory Federation Services**).
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一个章节中，我们将介绍 Windows Azure Pack 的自动化和认证解决方案，即 **SMA**（**服务管理自动化**）和 **ADFS**（**活动目录联合服务**）。
