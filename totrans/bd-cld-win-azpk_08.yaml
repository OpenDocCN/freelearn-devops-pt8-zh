- en: Chapter 8. Delivering Database as a Service
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The Database as a Service in cloud computing service models, delivers relational
    databases for applications and websites without worrying about its infrastructure
    and middleware layer. Developers or application owners are only required to create
    their databases in a self-service manner. This reduces the delivery time drastically
    and allows organizations to focus more on applications.
  prefs: []
  type: TYPE_NORMAL
- en: Windows Azure Pack supports a variety of databases servers and versions including
    Microsoft SQL Server and MySQL in an integrated and self-service manner. With
    a little more effort, almost every database supported on Hyper-V can be delivered.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will be covering the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Windows Azure Pack DBaaS offerings overview
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Planning the DBaaS platform fabric
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing SQL DBaaS
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing the MySQL resource provider fabric
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL and MySQL DBaaS management operations – service providers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Enabling DB QoS – the SQL resource governor
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Authoring DBaaS plans
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DBaaS – tenant experience
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dedicating DBaaS offerings
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Azure Pack DBaaS offerings overview and capabilities
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Windows Azure Pack Express natively includes APIs for DBaaS resource providers
    for SQL and MySQL. In addition, these two APIs are the only supported DBaaS resource
    providers available by default with WAP.
  prefs: []
  type: TYPE_NORMAL
- en: 'WAP DBaaS offerings provide the following features and capabilities on both
    private and service provider''s cloud solutions:'
  prefs: []
  type: TYPE_NORMAL
- en: High density and resilient DBaaS services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Default support for SQL and MySQL with extension capabilities for other databases
    offerings
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Multitenants and shared models
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The quality of service with granual control
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Self-service and automation
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Multiple service models including shared and dedicated services with IaaS and
    PaaS
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Usage and metering
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Supports multiple HA technologies such as Always On
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Looking from a tenant''s perspective, WAP DBaaS services offer the following
    features:'
  prefs: []
  type: TYPE_NORMAL
- en: It provides a simple, faster database provisioning and management in a self-service
    manner
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It runs on invisible infrastructure and platform; that is, there is no need
    to worry about hardware/OS/DB server layer provisioning, management, or updates
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It provides a variety of options with respect to database versions, sizing,
    and features
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Shared and dedicated database services
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Depending upon business-to-business needs and compliance, there can be both
    shared and dedicated databases required by tenants. In shared service models,
    a single database server usually hosts databases from multiple tenants. Tenants
    share the same computing power and other resources along with databases engines.
    The shared service model is common in public cloud solutions and is widely used.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the case of dedicated services, a single server or a set of resources including
    hardware and software host the databases of a single tenant only. Use cases for
    dedicated services usually include the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Customized requirements by tenants in terms of infrastructure and software that
    isn't available or possible in a shared mode
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Security or compliance related requirements
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Customized QoS requirements and many more
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: While shared database services are natively available in Windows Azure Pack,
    dedicated services can be achieved using VM Roles and dedicated fabric. We will
    be covering these in detail in the upcoming topics.
  prefs: []
  type: TYPE_NORMAL
- en: The architectural components of WAP DBaaS
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Windows Azure Pack DBaaS solution in shared mode usually includes the following
    components:'
  prefs: []
  type: TYPE_NORMAL
- en: SQL or MySQL database servers and clusters
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Azure Pack server SQL and MySQL extension API servers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: WAP SQL/MySQL groups, plans, and the tenant's subscription
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Any other database services related monitoring, management, or automation solutions
    such as SCOM
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: WAP resource provider's API is responsible for communicating with the DB server's
    fabric for management and tenant-related provisioning operations. All databases
    are created and managed by the resource provider's API.
  prefs: []
  type: TYPE_NORMAL
- en: The communication from the tenant's application to DB servers is direct; that
    is, it does not involve any WAP component.
  prefs: []
  type: TYPE_NORMAL
- en: Planning the DBaaS platform fabric
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this topic, we will be discussing the planning of the shared DBaaS platform
    fabric for both SQL and MySQL database services.
  prefs: []
  type: TYPE_NORMAL
- en: Planning the database server's groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: In Windows Azure Pack, both SQL and MySQL DB servers are categorized under groups.
    A group may contain multiple, standalone, or clustered database servers that can
    be either virtual or physical. WAP plans are configured to provide cloud database
    offerings services to tenants using groups. Both SQL and MySQL groups work independently;
    that is, a group cannot have a mix of both SQL and MySQL databases.
  prefs: []
  type: TYPE_NORMAL
- en: DB server groups work in a shared mode; that is, they host databases for multiple
    users or tenants in a shared instance.
  prefs: []
  type: TYPE_NORMAL
- en: Organizations or service providers can plan to create multiple groups depending
    upon requirements and strategies, such as one group is for high-end database hosting
    in terms of size and performance, whereas another can be a non-HA group.
  prefs: []
  type: TYPE_NORMAL
- en: 'Organizations utilizing Windows Azure Pack database services for private cloud
    requirements may plan to create multiple groups for SQL resource providers for
    different business units depending upon the type or workload, such as production
    and **T&D** (**test and development**) environments. A few examples are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Categorizing on the basis of business units or departments
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Categorizing on the basis of criticality, which directly relates to the performance
    and availability capabilities of the fabric
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Separate groups for T&D applications or any other separate exclusive database
    needs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Separate groups for different versions or features' availability, such s DR,
    backups, and so on
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Separate groups for different geo locations or datacenters
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'While most of the previous examples are applicable for service providers, service
    providers may choose to have groups based on the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Separate groups for shared and dedicated database services for tenants
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Separate groups for standalone and clustered servers that provide high availability
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Separate groups depending upon performance and additional features such as backups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: As per database sizes; that is, separate groups for hosting large-sized databases
    and small-sized databases
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Planning the SQL Server's fabric deployment
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Windows Azure Pack SQL resource provider supports the following SQL database
    servers'' versions:'
  prefs: []
  type: TYPE_NORMAL
- en: SQL Server 2014
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server 2012 SP1
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server 2008 R2 SP2 and SP3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'While almost all planning and best practices followed for a Microsoft SQL Server
    deployment are applicable, the following guidelines can be followed for a Windows
    Azure Pack DBaaS SQL fabric group. See Microsoft''s official documentation at
    [https://msdn.microsoft.com/en-us/library/bb545450.aspx](https://msdn.microsoft.com/en-us/library/bb545450.aspx)
    to learn more about MS SQL:'
  prefs: []
  type: TYPE_NORMAL
- en: '**Using SQL availability techniques**: Windows Azure Pack SQL Resource provider
    can be deployed with the following types of SQL database servers. It is recommended
    to use SQL high availability technologies for SQL Server groups as design decisions:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Standalone SQL Server
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Always ON
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Utilizing the SQL resource governor**: WAP supports the utilizing resource
    governor feature of SQL Server 2014 for enabling QOS control for the tenant''s
    databases'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Using virtual machines for SQL Servers**: It''s a good idea to use virtual
    machines to host SQL Server virtual machines to take advantage of the hypervisor
    level availability and other technologies such as mobility'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Additional requirements**: WAP requires SQL authentication to be enabled
    in SQL Servers'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Planning the MySQL Server's fabric deployment
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Windows Azure Pack MySQL Resource provider supports the following versions
    of MySQL Server for tenants'' databases:'
  prefs: []
  type: TYPE_NORMAL
- en: MySQL 5.1 for Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: MySQL 5.5 for Windows
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Refer to the MySQL documentation ([https://dev.mysql.com/doc/](https://dev.mysql.com/doc/))
    to know more about planning and sizing for MySQL databases servers. Normally,
    MySQL Servers can be deployed in two manners for WAP DBaaS services:'
  prefs: []
  type: TYPE_NORMAL
- en: Standalone MySQL Servers are installed using the WEB PI
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Highly available MySQL Servers are installed with Windows Cluster and MySQL
    Enterprise
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing SQL DBaaS
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Implementing SQL Server DBaaS services involves the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Planning SQL Server fabric groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing and configuring SQL Server Standalone or Always On Servers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating SQL Server groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Adding SQL Servers to the groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating plans and assigning services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The installation and configuration of SQL Standalone or Always On isn't covered
    in this book. It is recommended to follow Microsoft's standard guidelines and
    best practices for installing and configuring SQL Servers. The SQL Server installation
    guides can be found at [https://msdn.microsoft.com/en-us/library/bb500442.aspx](https://msdn.microsoft.com/en-us/library/bb500442.aspx).
  prefs: []
  type: TYPE_NORMAL
- en: Creating SQL groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the process to create SQL groups:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack management portal for administrators.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **sql servers** workspace.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Create a SQL Server Group**.![Creating SQL groups](img/00213.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide **GROUP** **NAME**, choose the type that is **Standalone servers** or**High
    availability (Always on enabled)** and select the checkbox to enable the SQL resource
    governance (this will be discussed in the upcoming topics).![Creating SQL groups](img/00214.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created group will now be listed nder the **GROUPS** tab in the **sql
    servers** workspace.![Creating SQL groups](img/00215.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Adding SQL Servers to groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the process to add SQL Servers to a group:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack management portal for administrators
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **sql** **servers** workspace.![Adding SQL Servers to groups](img/00216.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **ADDA NEW SQL SERVER** option.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the server name and credentials (SQL authentication and total database
    size of DB hosting capacity).![Adding SQL Servers to groups](img/00217.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly added SQL Server will now be available in the **SERVERS** tab.![Adding
    SQL Servers to groups](img/00218.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Implementing the MySQL resource provider fabric
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'MySQL database engines for Windows Azure Pack can be installed in two ways:'
  prefs: []
  type: TYPE_NORMAL
- en: Using the traditional MySQL mechanism
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using the Microsoft Web Platform installer
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The Microsoft Web Platform installer contains both MySQL 5.1 and 5.5 versions
    in the community edition. It is installed in the standalone mode. Post installation,
    a remote access to MySQL Servers must be enabled manually to allow the WAP communication.
  prefs: []
  type: TYPE_NORMAL
- en: Refer to the MySQL documentation to know more on production MySQL deployments.
    The MySQL documentation can be found at [https://dev.mysql.com/doc/](https://dev.mysql.com/doc/).
  prefs: []
  type: TYPE_NORMAL
- en: Installing and configuring MySQL servers
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the MySQL installation using Microsoft Web Platform
    Installer:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the server designated for hosting the MySQL Server database with administrative
    credentials.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download and install the Microsoft Web Platform Installer.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Search for MySQL 5.5.![Installing and configuring MySQL servers](img/00219.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **MySQL Windows 5.5** and click on **Add**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Install** to proceed further.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the root password for MySQL DB. This will be used while communicating
    with MySQL Server post installation.![Installing and configuring MySQL servers](img/00220.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Accept the agreement and proceed further.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, the downloading and the installation procedure will start.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Exit the wizard after a successful installation.![Installing and configuring
    MySQL servers](img/00221.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch the MySQL command-line client from the **Start** menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the password for the root user that was configured during the installation.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enable the remote access to remote the server by issuing the following command
    on the MySQL Server utility command line, which was installed on the MySQL Server
    by the WEB PI:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This MySQL Server is now ready for integration with Windows Azure Pack.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Creating MySQL groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Creating Windows Azure Pack groups for MySQL Servers is fairly simple and similar
    to SQL Server groups. The following steps outline the requirements to create MySQL
    Servers:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack management portal for administrators.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **MYSQL SERVERS** workspace.![Creating MySQL groups](img/00222.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **CREATE A GROUP**.![Creating MySQL groups](img/00223.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created group will now be visible under MySQL groups.![Creating MySQL
    groups](img/00224.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Adding MySQL Servers to groups
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the requirements to add MySQL Server in Windows
    Azure Pack MySQL Server groups:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack management portal for administrators and browse
    the **mysql servers** workspace.![Adding MySQL Servers to groups](img/00225.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **ADD A NEW MYSQL SERVER**.![Adding MySQL Servers to groups](img/00226.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Upon successful completion, MySQL Server will be listed under the **SERVERS**
    tab in the **mysql servers** workspace.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: SQL and MySQL DBaaS management operations – service providers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Windows Azure Pack provides a self-service portal for administrators for normal
    DBaaS management service operations. The following operations can be performed
    using the WAP portal for SQL and MySQL resource providers'' groups and servers:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Groups management operations are as follows:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Add group
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Delete group
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Database server management operations can be performed as follows:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: View the utilization and count of the SQL database on the SQL Server.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: List all the databases created.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Change the DB servers group and the hosting capacity (only for SQL Servers and
    not MySQL).![SQL and MySQL DBaaS management operations – service providers](img/00227.jpeg)
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Repair the connection with the existing database servers:![SQL and MySQL DBaaS
    management operations – service providers](img/00228.jpeg)
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Remove Server.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Enabling DB QoS – the SQL resource governor
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As you learned, Windows Azure Pack database as a service offering works in a
    sharing mode; that is, multiple tenants can access databases hosted on the same
    servers. Assuring the quality of the service in a shared multitenant shared cloud
    is necessary. The SQL resource governor feature of SQL 2014 Enterprise edition
    enables Windows Azure Pack to provide the quality of service control on the tenant's
    database.
  prefs: []
  type: TYPE_NORMAL
- en: The resource governor avoids scenarios where one tenant may consume more or
    all the resources that may affect the performance of other tenants' databases.
    This ensures that each tenant gets an equal share of resources as per the subscription.
  prefs: []
  type: TYPE_NORMAL
- en: 'Windows Azure Pack with SQL resource governors provides flexibilities to cloud
    providers to apply limits on the following parameters:'
  prefs: []
  type: TYPE_NORMAL
- en: CPU
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Memory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: IOPS
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following are the architectural components of a SQL resource governor deployment
    or Windows Azure Pack DBaaS services:'
  prefs: []
  type: TYPE_NORMAL
- en: SQL Server 2014 Enterprise edition servers
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL governance enabled SQL Server groups created in WAP
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configured resource pool templates with limits and settings
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Azure Pack plans associated with SQL Servers and resource pool template
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Resource governor is a feature provided by SQL Server 2014 Enterprise edition
    only; this states that WAP DBaaS Service with QoS control can only be used with
    SQL Enterprise 2014 databases
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Implementing SQL resource governor for WAP
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The following steps outline the processes required to deploy a Windows Azure
    Pack SQL DBaaS server with SQL governor.
  prefs: []
  type: TYPE_NORMAL
- en: Creating SQL groups and adding SQL Servers
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'To create SQL groups and adding SQL servers in groups perform the following
    steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Install and configure SQL Server 2014 Enterprise edition servers.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Create an SQL Server group in Windows Azure Pack with the **Enable Resource
    Governance** checked.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add SQL Servers to the group. While adding SQL Servers, provide the number of
    CPU cores, installed memory, IOPs per volume, and the maximum number of resource
    pools to be created on the servers.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created SQL Server group and SQL Servers will be displayed in the
    WAP portal.
  prefs: []
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Maximum 18 pools can be created on a SQL Server.
  prefs: []
  type: TYPE_NORMAL
- en: Resource templates
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Resource templates are used to configure limits and values. They are associated
    with plans. These values are also passed to SQL Servers for creating and configuring
    a resource pool.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following steps outline the requirement for creating resource templates:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the WAP management portal and browse the **mysql servers** workspace.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the newly created **SQL SERVER** group and browse the resource template
    tab.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **new item** workspace and select the **CREATE A RESOURCE** template
    under SQL Server.![Resource templates](img/00229.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a name to identify the template.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Enter limit values for the following:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**MINIMUM CPU CORES**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM CPU CORES (SOFT CAP)**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM CPU CORES (HARD CAP)**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MINIMUM MEMORY (MB)**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM MEMORY (MB)**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MINIMUM IOPS PER VOLUME**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM IOPS PER VOLUME**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM SUBSCRIPTIONS PER POOL**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Resource templates](img/00230.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'Next provide a value for the following limits. These setting are applicable
    for workload groups created in the resource pool:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**MAXIMUM MEMORY PER REQUEST (MB)**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM CPU TIME IN SECONDS PER REQUEST**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MEMORY GRANT TIMEOUT IN SECONDS PER QUERY**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM SIMULTANEOUS REQUESTS**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MAXIMUM DEGREE OF PARALLELISM**'
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Resource templates](img/00231.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: Finish the wizard; the resource pool template will now be available under the
    **mysql servers** workspace.![Resource templates](img/00232.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This resource template can now be associated with a WAP plan to assign QoS a
    control over tenants.
  prefs: []
  type: TYPE_NORMAL
- en: Authoring DBaaS plans
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Like all other Windows Azure Pack cloud services, DBaaS offerings are also assigned
    to tenants via Windows Azure Pack plans and add-ons. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-O* *s, Tenant Accounts, and Subscriptions*,
    to learn more about the planning of plans and add-ons.
  prefs: []
  type: TYPE_NORMAL
- en: Creating plans for SQL and MySQL DBaaS
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the requirement to create WAP plans for SQL and
    MySQL databases:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the WAP management portal and browse the new item workspace.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **Plans** to start creating a plan.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a friendly name for the plan identification.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **SQL Servers**, **MySQL Servers**, or both as applicable.![Creating
    plans for SQL and MySQL DBaaS](img/00233.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created plan will now be visible under **plans** workspace as not
    configured.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the plan name to start the configuration.![Creating plans for SQL and
    MySQL DBaaS](img/00234.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on SQL and MySQL Servers to start adding groups to the plans. Enter the
    database server information including group, template, and other settings, such
    as edition display name of the tenants, maximum number of databases, and database
    size in normal subscriptions along with add-ons.![Creating plans for SQL and MySQL
    DBaaS](img/00235.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: For MySQL Servers, provide database group, edition name displayed to tenants,
    maximum numer of databases, and database size. Resizing isn't available for tenants'
    MySQL databases, removing the option of max addition size.
  prefs: []
  type: TYPE_NORMAL
- en: '![Creating plans for SQL and MySQL DBaaS](img/00236.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Save the changes and configure the additional plan setting, such as invite code,
    advertisement, changing access to public, and so on. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions*,
    to know more on performing these operations on WAP plans.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Add-ons for SQL and MySQL DBaaS plans
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Add-ons can be created and associated with plans for WAP DBaaS services for
    the following increase in quotas and services:'
  prefs: []
  type: TYPE_NORMAL
- en: 'For SQL Servers, we have the following:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The number of additional databases allowed
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Total additional capacity allowed (MB)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Add-ons for SQL and MySQL DBaaS plans](img/00237.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: 'For MySQL Servers, we have the following:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The number of additional databases allowed
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Add-ons for SQL and MySQL DBaaS plans](img/00238.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: DBaaS – tenant experience
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Using the tenant portal, tenants can provision and manage their databases on
    Windows Azure Pack website's cloud in a self-service and automated manner. In
    this topic, we will walkthrough the tenant experience for MySQL and SQL databases
    provisioning and management operations.
  prefs: []
  type: TYPE_NORMAL
- en: Database provisioning and access
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the process followed by tenants to provision and
    access databases:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure pack tenant portal.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Subscribe to the DBaaS plans using the configured invite code.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The SQL and MySQL workspaces will not be visible in the management portal as
    configured in the plan.![Database provisioning and access](img/00239.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **AD** **A NEW DATABASE** to start creating a SQL DB. Provide the database
    **NAME** and select **EDITION** as configured by the provider in the plan settings:![Database
    provisioning and access](img/00240.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the database admin username and credentials. A corresponding SQL and MySQL
    account will get created with this.![Database provisioning and access](img/00241.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created databases will now be visible under databasesand **all items**
    workspace.![Database provisioning and access](img/00242.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the database and click on **View info** at the bottom pane to view the
    connection info to integrate it into applications. Note that network connectivity
    must be available between the DB connectivity client and DB servers hosted inside
    the cloud. This can be via the Internet or VPN, depending upon architecture to
    architecture.![Database provisioning and access](img/00243.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Database management operations – tenants
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Windows Azure Pack provides a self-service portal that can be used by tenants
    to perform basic management operations on created databases.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following operations can be performed using WAP portal for SQL and MySQL
    databases.The SQL and MySQL database management operations are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**VIEW INFO**: This views the connection info and includes an admin user created
    by the tenant'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**DELETE**: This deletes a database'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**CHANGE PASSWORD**: This changes the admin user password![Database management
    operations – tenants](img/00244.jpeg)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**RESIZE**: This resizes the database size (only for SQL databases and not
    MySQL)![Database management operations – tenants](img/00245.jpeg)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dedicating DBaaS offerings
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Dedicating or reserving database server(s) for a single tenant usage, in terms
    of infrastructure and software, comes under a dedicated database as a service
    offering.
  prefs: []
  type: TYPE_NORMAL
- en: 'Natively, neither SQL nor MySQL resource providers have capabilities to reserve
    database servers for a single tenant. The following options can be leveraged for
    providing dedicated DBaaS services by organizations and service providers:'
  prefs: []
  type: TYPE_NORMAL
- en: VM Role gallery item (IaaS and DBaaS)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dedicated groups and plans (this is not recommended in large deployments)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: DBaaS VM Role gallery items (IaaS and database software)
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: VM Role gallery items providing database services include a combination of both
    IaaS and DBaaS service models. Service providers can have gallery items, which
    include automated OS and DB Servers deployment and configurations as per the parameters
    provided by tenants in a self-service portal. In this scenario, both OS and DB
    layers have to managed by tenants only.
  prefs: []
  type: TYPE_NORMAL
- en: A supported database list is also increased in this option; that is, it can
    support all the databases that are supported to run on Hyper-V virtual machines.
  prefs: []
  type: TYPE_NORMAL
- en: There are multiple gallery items available on Web PI, including a few for DB
    Servers comprising SQL and oracle databases. Custom gallery items can be developed
    for any other customized needs. See [Chapter 4](part0040_split_000.html#164MG1-b479cf466c26404ca54119871a9b2715
    "Chapter 4. Building VM Clouds and IaaS Offerings"), *Building VM Clouds and IaaS
    Offerings*, to know more on VM Role gallery items.
  prefs: []
  type: TYPE_NORMAL
- en: While this provides dedicated servers for a tenant's database hosting, this
    isn't a true PaaS offering as it has infrastructure service visible to the tenant.
  prefs: []
  type: TYPE_NORMAL
- en: Dedicated groups and plans
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Service providers may also choose to provide dedicated databases as a service
    using SQL and MySQL resource providers without adding any IaaS complexity.
  prefs: []
  type: TYPE_NORMAL
- en: 'Service providers can achieve this by creating the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Dedicated servers groups per tenant
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dedicated WAP plans and add-ons per tenant, corresponding to their server groups
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Though this looks a simple, straightforward solution, it is not a good idea
    to choose in large-scale deployments. This adds complexity and management overheads
    for cloud providers in terms of managing the fabric along with billing and usage
    solutions.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, you learned about Database as the Service offerings of Windows
    Azure Pack. We completed planning, deployment of groups, and fabric for both SQL
    and MySQL database servers along with management operations in Windows Azure Pack.
  prefs: []
  type: TYPE_NORMAL
- en: You also learned about SQL resource governor and its use cases. Later, we covered
    authoring plans and add-ons along with tenant experience of DBaaS services.
  prefs: []
  type: TYPE_NORMAL
- en: n the net chapter, we will cover automation and authentication solutions for
    Window Azure Pack, that is, **SMA** (**Service Management Automation**) and **ADFS**
    (**Active Directory Federation Services**).
  prefs: []
  type: TYPE_NORMAL
