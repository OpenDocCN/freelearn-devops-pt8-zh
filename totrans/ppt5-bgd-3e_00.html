<html><head></head><body><div class="preface" title="Preface"><div class="titlepage"><div><div><h1 class="title"><a id="pref07"/>Preface</h1></div></div></div><p>There are many bad ways to write a technical book. One simply rehashes the official documentation. Another walks the reader through a large and complex example, which doesn't necessarily do anything useful, except show how clever the author is. Yet another exhaustively sets out every available feature of the technology, and every possible way you can use them, without much guidance as to which features you'll really use, or which are best avoided.</p><p>Like you, I read a lot of technical books as part of my job. I don't need a paraphrase of the documentation: I can read it online. I also don't want huge blocks of code for something that I don't need to do. And I certainly don't want an uncritical exposition of every single feature.</p><p>What I do want is for the author to give me a cogent and readable explanation of how the tool works, in enough detail that I can get started using it straight away, but not so much detail that I get bogged down. I want to learn about features in the order in which I'm likely to use them, and I want to be able to start building something that runs and delivers business value from the very first chapters.</p><p>That's what you can expect from this book. Whether you're a developer, a system administrator, or merely Puppet-curious, you're going to learn Puppet skills you can put into practice right away. Without going into lots of theory or background detail, I'll show you how to install packages and config files, create users, set up scheduled jobs, provision cloud instances, build containers, and so on. Every example deals with something real and practical that you're likely to need in your work, and you'll see the complete Puppet code to make it happen, along with step-by-step instructions for what to type and what output you'll see. All the examples are available in a GitHub repo for you to download and adapt.</p><p>After each exercise, I'll explain in detail what each line of code does and how it works, so that you can adapt it to your own purposes, and feel confident that you understand everything that's happened. By the end of the book, you will have all the skills you need to do real, useful, everyday work with Puppet, and there's a complete demo Puppet repository you can use to get your infrastructure up and running with minimum effort.</p><p>So let's get started.</p><div class="section" title="What this book covers"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec02"/>What this book covers</h1></div></div></div><p>
<a class="link" href="ch01.html" title="Chapter 1. Getting started with Puppet">Chapter 1</a>, <span class="emphasis"><em>Getting started with Puppet</em></span>, introduces Puppet and gets you up and running with the Vagrant virtual machine that accompanies this book.</p><p>
<a class="link" href="ch02.html" title="Chapter 2. Creating your first manifests">Chapter 2</a>, <span class="emphasis"><em>Creating your first manifests</em></span>, shows you how Puppet works, and how to write code to manage packages, files, and services.</p><p>
<a class="link" href="ch03.html" title="Chapter 3. Managing your Puppet code with Git">Chapter 3</a>, <span class="emphasis"><em>Managing your Puppet code with Git</em></span>, introduces the Git version control tool, shows you how to create a repository to store your code, and how to distribute it to your Puppet-managed nodes.</p><p>
<a class="link" href="ch04.html" title="Chapter 4. Understanding Puppet resources">Chapter 4</a>, <span class="emphasis"><em>Understanding Puppet resources</em></span>, goes into more detail about the <code class="literal">package</code>, <code class="literal">file</code>, and <code class="literal">service</code> resources, as well as introducing resources to manage users, SSH keys, scheduled jobs, and commands.</p><p>
<a class="link" href="ch05.html" title="Chapter 5. Variables, expressions, and facts">Chapter 5</a>, <span class="emphasis"><em>Variables, expressions, and facts</em></span>, introduces Puppet's variables, data types, expressions, and conditional statements, shows you how to get data about the node using Facter, and how to create your own custom facts.</p><p>
<a class="link" href="ch06.html" title="Chapter 6. Managing data with Hiera">Chapter 6</a>, <span class="emphasis"><em>Managing data with Hiera</em></span>, explains Puppet's key-value database and how to use it to store and retrieve data, including secrets, and how to create Puppet resources from Hiera data.</p><p>
<a class="link" href="ch07.html" title="Chapter 7. Mastering modules">Chapter 7</a>, <span class="emphasis"><em>Mastering modules</em></span>, teaches you how to install ready-to-use modules from the Puppet Forge using the <code class="literal">r10k</code> tool, introduces you to four key modules including the standard library, and shows you how to build your own modules.</p><p>
<a class="link" href="ch08.html" title="Chapter 8. Classes, roles, and profiles">Chapter 8</a>, <span class="emphasis"><em>Classes, roles, and profiles</em></span>, introduces you to classes and defined resource types, and shows you the best way to organize your Puppet code using roles and profiles.</p><p>
<a class="link" href="ch09.html" title="Chapter 9. Managing files with templates">Chapter 9</a>, <span class="emphasis"><em>Managing files with templates</em></span>, shows you how to build complex configuration files with dynamic data using Puppet's EPP template mechanism.</p><p>
<a class="link" href="ch10.html" title="Chapter 10. Controlling containers">Chapter 10</a>, <span class="emphasis"><em>Controlling containers</em></span>, introduces Puppet's powerful new support for Docker containers, and shows you how to download, build, and run containers using Puppet resources.</p><p>
<a class="link" href="ch11.html" title="Chapter 11. Orchestrating cloud resources">Chapter 11</a>, <span class="emphasis"><em>Orchestrating cloud resources</em></span>, explains how you can use Puppet to provision cloud servers on Amazon AWS, and introduces a fully-automated cloud infrastructure based on Hiera data.</p><p>
<a class="link" href="ch12.html" title="Chapter 12. Putting it all together">Chapter 12</a>, <span class="emphasis"><em>Putting it all together</em></span>, takes you through a complete example Puppet infrastructure that you can download and modify for your own projects, using ideas from all the previous chapters.</p></div></div>
<div class="section" title="What you need for this book"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec03"/>What you need for this book</h1></div></div></div><p>You'll need a reasonably modern computer system and access to the Internet. You won't need to be a Unix expert or an experienced sysadmin; I'll assume you can install software, run commands, and edit files, but otherwise I'll explain everything you need as we go.</p></div>
<div class="section" title="Who this book is for"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec04"/>Who this book is for</h1></div></div></div><p>The main audience for this book are those who are new to Puppet, including system administrators and developers who are looking to manage computer server systems for configuration management. No prior programming or system administration experience is assumed. However, if you have used Puppet before, you'll get a thorough grounding in all the latest features and modules, and I hope you'll still find plenty of new things to learn.</p></div>
<div class="section" title="Conventions"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec05"/>Conventions</h1></div></div></div><p>In this book, you will find a number of styles of text that distinguish between different kinds of information. Here are some examples of these styles, and an explanation of their meaning.</p><p>Code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Puppet can manage files on a node using the <code class="literal">file</code> resource"</p><p>A block of code is set as follows:</p><div class="informalexample"><pre class="programlisting">file { '/tmp/hello.txt':
  ensure  =&gt; file,
  content =&gt; "hello, world\n",
}</pre></div><p>When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p><div class="informalexample"><pre class="programlisting">file { '/tmp/hello.txt':
<span class="strong"><strong>  ensure  =&gt; file,</strong></span>
  content =&gt; "hello, world\n",
}</pre></div><p>Any command-line input or output is written as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo puppet apply /vagrant/examples/file_hello.pp</strong></span>
Notice: Compiled catalog for ubuntu-xenial in environment production in 0.07 seconds</pre></div><p>
<span class="strong"><strong>New terms</strong></span> and <span class="strong"><strong>important words</strong></span> are shown in bold. Words that you see on the screen, in menus or dialog boxes for example, appear in the text like this: "In the AWS console, select <span class="strong"><strong>VPC</strong></span> from the <span class="strong"><strong>Services</strong></span> menu".</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note01"/>Note</h3><p>Warnings or important notes appear in a box like this.</p></div></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip01"/>Tip</h3><p>Tips and tricks appear like this.</p></div></div></div>
<div class="section" title="Reader feedback"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec06"/>Reader feedback</h1></div></div></div><p>Feedback from our readers is always welcome. Let us know what you think about this book—what you liked or disliked. Reader feedback is important for us as it helps us develop titles that you will really get the most out of.</p><p>To send us general feedback, simply e-mail <code class="email">&lt;<a class="email" href="mailto:feedback@packtpub.com">feedback@packtpub.com</a>&gt;</code>, and mention the book's title in the subject of your message.</p><p>If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, see our author guide at <a class="ulink" href="http://www.packtpub.com/authors">www.packtpub.com/authors</a>.</p></div>
<div class="section" title="Customer support"><div class="titlepage"><div><div><h1 class="title"><a id="ch00lvl1sec07"/>Customer support</h1></div></div></div><p>Now that you are the proud owner of a Packt book, we have a number of things to help you to get the most from your purchase.</p><div class="section" title="Downloading the example code"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec02"/>Downloading the example code</h2></div></div></div><p>You can download the example code files for this book from your account at <a class="ulink" href="http://www.packtpub.com">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p><p>You can download the code files by following these steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in or register to our website using your e-mail address and password.</li><li class="listitem">Hover the mouse pointer on the <span class="strong"><strong>SUPPORT</strong></span> tab at the top.</li><li class="listitem">Click on <span class="strong"><strong>Code Downloads &amp; Errata</strong></span>.</li><li class="listitem">Enter the name of the book in the <span class="strong"><strong>Search</strong></span> box.</li><li class="listitem">Select the book for which you're looking to download the code files.</li><li class="listitem">Choose from the drop-down menu where you purchased this book from.</li><li class="listitem">Click on <span class="strong"><strong>Code Download</strong></span>.</li></ol></div><p>You can also download the code files by clicking on the <span class="strong"><strong>Code Files</strong></span> button on the book's webpage at the Packt Publishing website. This page can be accessed by entering the book's name in the <span class="strong"><strong>Search</strong></span> box. Please note that you need to be logged in to your Packt account.</p><p>Once the file is downloaded, please make sure that you unzip or extract the folder using the latest version of:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">WinRAR / 7-Zip for Windows</li><li class="listitem" style="list-style-type: disc">Zipeg / iZip / UnRarX for Mac</li><li class="listitem" style="list-style-type: disc">7-Zip / PeaZip for Linux</li></ul></div><p>The code bundle for the book is also hosted on GitHub at the following URLs:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://github.com/bitfield/puppet-beginners-guide-3.git">https://github.com/bitfield/puppet-beginners-guide-3.git</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://github.com/bitfield/pbg_ntp.git">https://github.com/bitfield/pbg_ntp.git</a></li><li class="listitem" style="list-style-type: disc"><a class="ulink" href="https://github.com/bitfield/control-repo-3.git">https://github.com/bitfield/control-repo-3.git</a></li></ul></div><p>You can use the code bundle on GitHub from the Packt Publishing repository as well:</p><p>
<a class="ulink" href="https://github.com/PacktPublishing/Puppet-5-Beginners-Guide-Third-Edition">https://github.com/PacktPublishing/Puppet-5-Beginners-Guide-Third-Edition</a>
</p><p>We also have other code bundles from our rich catalog of books and videos available at <a class="ulink" href="https://github.com/PacktPublishing/">https://github.com/PacktPublishing/</a>. Check them out!</p></div><div class="section" title="Errata"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec03"/>Errata</h2></div></div></div><p>Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you find a mistake in one of our books—maybe a mistake in the text or the code—we would be grateful if you could report this to us. By doing so, you can save other readers from frustration and help us improve subsequent versions of this book. If you find any errata, please report them by visiting <a class="ulink" href="http://www.packtpub.com/submit-errata">http://www.packtpub.com/submit-errata</a>, selecting your book, clicking on the <span class="strong"><strong>Errata Submission Form</strong></span> link, and entering the details of your errata. Once your errata are verified, your submission will be accepted and the errata will be uploaded to our website or added to any list of existing errata under the Errata section of that title.</p><p>To view the previously submitted errata, go to <a class="ulink" href="https://www.packtpub.com/books/content/support">https://www.packtpub.com/books/content/support</a> and enter the name of the book in the search field. The required information will appear under the <span class="strong"><strong>Errata</strong></span> section.</p></div><div class="section" title="Piracy"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec04"/>Piracy</h2></div></div></div><p>Piracy of copyrighted material on the Internet is an ongoing problem across all media. At Packt, we take the protection of our copyright and licenses very seriously. If you come across any illegal copies of our works in any form on the Internet, please provide us with the location address or website name immediately so that we can pursue a remedy.</p><p>Please contact us at <code class="email">&lt;<a class="email" href="mailto:copyright@packtpub.com">copyright@packtpub.com</a>&gt;</code> with a link to the suspected pirated material.</p><p>We appreciate your help in protecting our authors and our ability to bring you valuable content.</p></div><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="ch00lvl2sec05"/>Questions</h2></div></div></div><p>If you have a problem with any aspect of this book, you can contact us at <code class="email">&lt;<a class="email" href="mailto:questions@packtpub.com">questions@packtpub.com</a>&gt;</code>, and we will do our best to address the problem.</p></div></div></body></html>