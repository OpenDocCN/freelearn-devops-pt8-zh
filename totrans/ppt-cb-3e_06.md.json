["```\n    node 'cookbook' {\n      cron { 'run-backup':\n        ensure  => present,\n        command => '/usr/local/bin/backup',\n        hour    => inline_template('<%= @hostname.sum % 24 %>'),\n        minute  => '00',\n      }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413730771'\n    Notice: /Stage[main]/Main/Node[cookbook]/Cron[run-backup]/ensure: created\n    Notice: Finished catalog run in 0.11 seconds\n\n    ```", "```\n    [root@cookbook ~]# crontab -l\n    # HEADER: This file was autogenerated at Sun Oct 19 10:59:32 -0400 2014 by puppet.\n    # HEADER: While it can still be managed manually, it is definitely not recommended.\n    # HEADER: Note particularly that the comments starting with 'Puppet Name' should\n    # HEADER: not be deleted, as doing so could cause duplicate cron jobs.\n    # Puppet Name: run-backup\n    0 15 * * * /usr/local/bin/backup\n\n    ```", "```\ncron { 'dump-database':\n  ensure  => present,\n  command => '/usr/local/bin/dump_database',\n  hour    => inline_template('<%= @hostname.sum % 24 %>'),\n  minute  => '00',\n}\n\ncron { 'run-backup':\n  ensure  => present,\n  command => '/usr/local/bin/backup',\n  hour    => inline_template('<%= ( @hostname.sum + 1) % 24 %>'),\n  minute  => '00',\n}\n```", "```\n    class cron {\n      file { '/etc/cron.hourly/run-backup':\n        content => template('cron/run-backup'),\n        mode    => 0755,\n      }\n    }\n    ```", "```\n    node cookbook {\n      include cron\n    }\n    ```", "```\n    #!/bin/bash\n\n    runhour=<%= @hostname.sum%24 %>\n    hour=$(date +%H)\n    if [ \"$runhour\" -ne \"$hour\" ]; then\n      exit 0\n    fi\n\n    echo run-backup\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413732254'\n    Notice: /Stage[main]/Cron/File[/etc/cron.hourly/run-backup]/ensure: defined content as '{md5}5e50a7b586ce774df23301ee72904dda'\n    Notice: Finished catalog run in 0.11 seconds\n\n    ```", "```\n    #!/bin/bash\n\n    runhour=15\n    hour=$(date +%H)\n    if [ \"$runhour\" -ne \"$hour\" ]; then\n      exit 0\n    fi\n\n    echo run-backup\n    ```", "```\nMAXWAIT=600\nsleep $((RANDOM%MAXWAIT))\n```", "```\nexec { \"/usr/bin/apt-get update\":\n    schedule => daily,\n}\n```", "```\n    schedule { 'outside-office-hours':\n      period => daily,\n      range  => ['17:00-23:59','00:00-09:00'],\n      repeat => 1,\n    }\n    node 'cookbook' {\n      notify { 'Doing some maintenance':\n        schedule => 'outside-office-hours',\n      }\n    }\n    ```", "```\n    [root@cookbook ~]# date\n    Fri Jan  2 23:59:01 PST 2015\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413734477'\n    Notice: Doing some maintenance\n    Notice: /Stage[main]/Main/Node[cookbook]/Notify[Doing some maintenance]/message: defined 'message' as 'Doing some maintenance'\n    Notice: Finished catalog run in 0.07 seconds\n\n    ```", "```\n    [root@cookbook ~]# date\n    Fri Jan  2 09:59:01 PST 2015\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413734289'\n    Notice: Finished catalog run in 0.09 seconds\n\n    ```", "```\nschedule { 'outside-office-hours':\n  period => daily,\n  range  => ['17:00-23:59','00:00-09:00'],\n  repeat => 1,\n}\n```", "```\n17:00-23:59\n00:00-09:00\n```", "```\nnotify { 'Doing some maintenance':\n  schedule => 'outside-office-hours',\n}\n```", "```\nperiod => hourly,\nrepeat => 6,\n```", "```\n    node 'cookbook' {\n      host { 'packtpub.com':\n        ensure => present,\n        ip     => '83.166.169.231',\n      }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413781153'\n    Notice: /Stage[main]/Main/Node[cookbook]/Host[packtpub.com]/ensure: created\n    Info: Computing checksum on file /etc/hosts\n    Notice: Finished catalog run in 0.12 seconds\n\n    ```", "```\nclass admin::allhosts {\n  @host { 'db1.packtpub.com':\n    tag => 'database'\n    ...\n  }\n}\n```", "```\nclass admin::dbhosts {\n  Host <| tag=='database' |>\n}\n\nclass admin::webhosts {\n  Host <| tag=='web' |>\n}\n```", "```\n    t@mylaptop ~/puppet/modules $ mkdir -p db/manifests\n\n    ```", "```\n    class db::server {\n      @@host {\"$::fqdn\":\n        host_aliases => $::hostname,\n        ip           => $::ipaddress,\n        tag          => 'db::server',\n      }\n      # rest of db class\n    }\n    ```", "```\n    class db::client {\n      Host <<| tag == 'db::server' |>>\n    }\n    ```", "```\n    node 'dbserver1.example.com' {\n      class {'db::server': }\n    }\n    node 'dbserver2.example.com' {\n      class {'db::server': }\n    }\n    ```", "```\n    node 'cookbook' {\n      class {'db::client': }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413782501'\n    Notice: /Stage[main]/Db::Client/Host[dbserver2.example.com]/ensure: created\n    Info: Computing checksum on file /etc/hosts\n    Notice: /Stage[main]/Db::Client/Host[dbserver1.example.com]/ensure: created\n    Notice: Finished catalog run in 0.10 seconds\n\n    ```", "```\n    [root@cookbook ~]# cat /etc/hosts\n    # HEADER: This file was autogenerated at Mon Oct 20 01:21:42 -0400 2014\n    # HEADER: by puppet.  While it can still be managed manually, it\n    # HEADER: is definitely not recommended.\n    127.0.0.1\tlocalhost  localhost.localdomain localhost4 localhost4.localdomain4 \n    ::1  localhost  localhost.localdomain localhost6 localhost6.localdomain6\n    83.166.169.231  packtpub.com\n    192.168.122.150  dbserver2.example.com  dbserver2\n    192.168.122.151  dbserver1.example.com  dbserver1\n\n    ```", "```\n@@host {\"$::fqdn\":\n  host_aliases => $::hostname,\n  ip           => $::ipaddress,\n  tag          => 'db::server',\n}\n```", "```\nHost <<| tag == 'db::server' |>>\n```", "```\n    class greeting {\n      file { '/tmp/greeting':\n        source => [ 'puppet:///modules/greeting/hello.txt',\n                    'puppet:///modules/greeting/universal.txt'],\n      }\n    }\n    ```", "```\n    Hello, world.\n    ```", "```\n    Bah-weep-Graaaaagnah wheep ni ni bong\n    ```", "```\n    node cookbook {\n      class {'greeting': }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413784347'\n    Notice: /Stage[main]/Greeting/File[/tmp/greeting]/ensure: defined content as '{md5}54098b367d2e87b078671fad4afb9dbb'\n    Notice: Finished catalog run in 0.43 seconds\n\n    ```", "```\n    [root@cookbook ~]# cat /tmp/greeting \n    Hello, world.\n\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413784939'\n    Notice: /Stage[main]/Greeting/File[/tmp/greeting]/content: \n    --- /tmp/greeting\t2014-10-20 01:52:28.117999991 -0400\n    +++ /tmp/puppet-file20141020-4960-1o9g344-0\t2014-10-20 02:02:20.695999979 -0400\n    @@ -1 +1 @@\n    -Hello, world.\n    +Bah-weep-Graaaaagnah wheep ni ni bong\n\n    Info: Computing checksum on file /tmp/greeting\n    Info: /Stage[main]/Greeting/File[/tmp/greeting]: Filebucketed /tmp/greeting to puppet with sum 54098b367d2e87b078671fad4afb9dbb\n    Notice: /Stage[main]/Greeting/File[/tmp/greeting]/content: content changed '{md5}54098b367d2e87b078671fad4afb9dbb' to '{md5}933c7f04d501b45456e830de299b5521'\n    Notice: Finished catalog run in 0.77 seconds\n\n    ```", "```\nsource => [\n  'puppet:///modules/greeting/hello.txt',\n  'puppet:///modules/greeting/universal.txt'\n],\n```", "```\nHello, world.\n```", "```\nBah-weep-Graaaaagnah wheep ni ni bong\n```", "```\nclass rsyslog {\n  file { '/etc/rsyslog.conf':\n    source => [\n      \"puppet:///modules/rsyslog/rsyslog.conf.${::hostname}\",\n      'puppet:///modules/rsyslog/rsyslog.conf' ],\n  }\n```", "```\n    define admin_user ($key, $keytype) { \n     $username = $name\n     user { $username:\n     ensure     => present,\n     }\n     file { \"/home/${username}/.ssh\":\n     ensure  => directory,\n     mode    => '0700',\n     owner   => $username,\n     group   => $username,\n     require => File[\"/home/${username}\"],\n     }\n     ssh_authorized_key { \"${username}_key\":\n     key     => $key,\n     type    => \"$keytype\",\n     user    => $username,\n     require => File[\"/home/${username}/.ssh\"],\n     }\n     # copy in all the files in the subdirectory\n     file { \"/home/${username}\":\n     recurse => true,\n     mode    => '0700',\n     owner   => $username,\n     group   => $username,\n     source  => [\n     \"puppet:///modules/admin_user/${username}\",\n     'puppet:///modules/admin_user/base' ],\n     sourceselect => 'all',\n     require      => User[\"$username\"],\n     }\n    }\n\n    ```", "```\n    t@mylaptop ~/puppet/modules/admin_user/files $ cp -a /etc/skel base\n\n    ```", "```\n    node 'cookbook' {\n      admin_user {'steven':\n        key     => 'AAAAB3N...',\n        keytype => 'dsa',\n      }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413787159'\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/User[steven]/ensure: created\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven]/ensure: created\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven/.bash_logout]/ensure: defined content as '{md5}6a5bc1cc5f80a48b540bc09d082b5855'\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven/.emacs]/ensure: defined content as '{md5}de7ee35f4058681a834a99b5d1b048b3'\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven/.bashrc]/ensure: defined content as '{md5}2f8222b4f275c4f18e69c34f66d2631b'\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven/.bash_profile]/ensure: defined content as '{md5}f939eb71a81a9da364410b799e817202'\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/File[/home/steven/.ssh]/ensure: created\n    Notice: /Stage[main]/Main/Node[cookbook]/Admin_user[steven]/Ssh_authorized_key[steven_key]/ensure: created\n    Notice: Finished catalog run in 1.11 seconds\n\n    ```", "```\nadmin_user {'thomas':\n    key     => 'ABBA...',\n    keytype => 'rsa',\n  }\n```", "```\n[root@cookbook thomas]# puppet agent -t\nInfo: Caching catalog for cookbook.example.com\nInfo: Applying configuration version '1413787770'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bash_profile]/content: content changed '{md5}3e8337f44f84b298a8a99869ae8ca76a' to '{md5}f939eb71a81a9da364410b799e817202'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bash_profile]/group: group changed 'root' to 'thomas'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bash_profile]/mode: mode changed '0644' to '0700'\nNotice: /File[/home/thomas/.bash_profile]/seluser: seluser changed 'system_u' to 'unconfined_u'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bash_logout]/ensure: defined content as '{md5}6a5bc1cc5f80a48b540bc09d082b5855'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bashrc]/content: content changed '{md5}db2a20b2b9cdf36cca1ca4672622ddd2' to '{md5}033c3484e4b276e0641becc3aa268a3a'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bashrc]/group: group changed 'root' to 'thomas'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.bashrc]/mode: mode changed '0644' to '0700'\nNotice: /File[/home/thomas/.bashrc]/seluser: seluser changed 'system_u' to 'unconfined_u'\nNotice: /Stage[main]/Main/Node[cookbook]/Admin_user[thomas]/File[/home/thomas/.emacs]/ensure: defined content as '{md5}de7ee35f4058681a834a99b5d1b048b3'\nNotice: Finished catalog run in 0.86 seconds\n\n```", "```\nfile { '/etc/mcollective/ssl/clients':\n  purge   => true,\n  recurse => true,\n}\n```", "```\nfile { '/etc/mcollective/ssl/clients':\n  purge => true,\n  recurse => true,\n}\nfile { '/etc/mcollective/ssl/clients/local':\n  ensure => directory,\n}\n```", "```\n    node 'cookbook' {\n      tidy { '/var/lib/puppet/reports':\n        age     => '1w',\n        recurse => true,\n      }\n    }\n    ```", "```\n    [root@cookbook clients]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201409090637.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201409100556.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201409090631.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201408210557.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201409080557.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201409100558.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201408210546.yaml]/ensure: removed\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/var/lib/puppet/reports/cookbook.example.com/201408210539.yaml]/ensure: removed\n    Notice: Finished catalog run in 0.80 seconds\n\n    ```", "```\nsize => '100m',\n```", "```\n    node 'cookbook' {\n      file { '/etc/passwd':\n        audit => [ owner, mode ],\n      }\n    }\n    ```", "```\n    [root@cookbook clients]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413789080'\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/etc/passwd]/owner: audit change: newly-recorded value 0\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/etc/passwd]/mode: audit change: newly-recorded value 644\n    Notice: Finished catalog run in 0.55 seconds\n\n    ```", "```\n[root@cookbook ~]# chmod 666 /etc/passwd\n\n```", "```\nNotice: /Stage[main]/Main/Node[cookbook]/File[/etc/passwd]/mode: audit change: previously recorded value 0644 has been changed to 0666\n\n```", "```\nfile { '/etc/passwd':\n  audit => all,\n}\n```", "```\nnoop => true,\n```", "```\n    node 'cookbook' {\n      file { '/etc/resolv.conf':\n        content => \"nameserver 127.0.0.1\\n\",\n        noop    => true,\n      }\n    }\n    ```", "```\n    [root@cookbook ~]# puppet agent -t\n    Info: Caching catalog for cookbook.example.com\n    Info: Applying configuration version '1413789438'\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/etc/resolv.conf]/content: \n    --- /etc/resolv.conf  2014-10-20 00:27:43.095999975 -0400\n    +++ /tmp/puppet-file20141020-8439-1lhuy1y-0\t2014-10-20 03:17:18.969999979 -0400\n    @@ -1,3 +1 @@ \n    -; generated by /sbin/dhclient-script\n    -search example.com\n    -nameserver 192.168.122.1\n    +nameserver 127.0.0.1\n\n    Notice: /Stage[main]/Main/Node[cookbook]/File[/etc/resolv.conf]/content: current_value {md5}4c0d192511df253826d302bc830a371b, should be {md5}949343428bded6a653a85910f6bdb48e (noop)\n    Notice: Node[cookbook]: Would have triggered 'refresh' from 1 events\n    Notice: Class[Main]: Would have triggered 'refresh' from 1 events\n    Notice: Stage[main]: Would have triggered 'refresh' from 1 events\n    Notice: Finished catalog run in 0.50 seconds\n\n    ```", "```\n--- /etc/resolv.conf  2014-10-20 00:27:43.095999975 -0400\n+++ /tmp/puppet-file20141020-8439-1lhuy1y-0\t2014-10-20 03:17:18.969999979 -0400\n@@ -1,3 +1 @@\n-; generated by /sbin/dhclient-script\n-search example.com\n-nameserver 192.168.122.1\n+nameserver 127.0.0.1\n\n```"]