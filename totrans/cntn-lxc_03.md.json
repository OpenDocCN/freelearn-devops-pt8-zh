["```\nroot@ubuntu:~# apt-get install lvm2\n\n```", "```\n[root@centos ~]# yum install lvm2\n\n```", "```\nroot@ubuntu:~# fdisk -l /dev/xvdb \nDisk /dev/xvdb: 80.5 GB, 80530636800 bytes\n255 heads, 63 sectors/track, 9790 cylinders, total 157286400 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk identifier: 0x00000000\nDisk /dev/xvdb doesn't contain a valid partition table\nroot@ubuntu:~#\n\n```", "```\n     root@ubuntu:~# fdisk /dev/xvdb \n    Device contains neither a valid DOS partition table, nor \n          Sun, SGI or OSF disklabel \n    Building a new DOS disklabel with disk identifier    \n          0x115573cb. \n    Changes will remain in memory only, until you decide to \n          write them. \n    After that, of course, the previous content won't be \n          recoverable. \n    Warning: invalid flag 0x0000 of partition table 4 will be  \n          corrected by w(rite) \n    Command (m for help): p \n    Disk /dev/xvdb: 80.5 GB, 80530636800 bytes \n    255 heads, 63 sectors/track, 9790 cylinders, total \n          157286400 sectors \n    Units = sectors of 1 * 512 = 512 bytes \n    Sector size (logical/physical): 512 bytes / 512 bytes \n    I/O size (minimum/optimal): 512 bytes / 512 bytes \n    Disk identifier: 0x115573cb \n    Device Boot Start End Blocks Id System \n    Command (m for help): n \n    Partition type: \n    p primary (0 primary, 0 extended, 4 free) \n    e extended \n    Select (default p): p \n    Partition number (1-4, default 1): 1 \n    First sector (2048-157286399, default 2048): \n    Using default value 2048 \n    Last sector, +sectors or +size{K,M,G} (2048-157286399,    \n          default 157286399): \n    Using default value 157286399 \n    Command (m for help): t \n    Selected partition 1 \n    Hex code (type L to list codes): 8e \n    Changed system type of partition 1 to 8e (Linux LVM) \n    Command (m for help): p \n    Disk /dev/xvdb: 80.5 GB, 80530636800 bytes \n    255 heads, 63 sectors/track, 9790 cylinders, total \n          157286400 sectors \n    Units = sectors of 1 * 512 = 512 bytes \n    Sector size (logical/physical): 512 bytes / 512 bytes \n    I/O size (minimum/optimal): 512 bytes / 512 bytes \n    Disk identifier: 0x115573cb \n    Device Boot Start  End      Blocks    Id  System \n    /dev/xvdb1  2048  157286399 78642176  8e  Linux LVM \n    Command (m for help): w \n    The partition table has been altered! \n    Calling ioctl() to re-read partition table. \n    Syncing disks. \n    root@ubuntu:~#\n\n    ```", "```\nroot@ubuntu:~# pvcreate /dev/xvdb1 \nPhysical volume \"/dev/xvdb1\" successfully created \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# vgcreate lxc /dev/xvdb1 \nVolume group \"lxc\" successfully created \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-create --bdev lvm --fssize 10G --name lvm_container --template ubuntu \nLogical volume \"lvm_container\" created \nChecking cache download in /var/cache/lxc/trusty/rootfs-amd64 ... \nInstalling packages in template: apt-transport-https,ssh,vim,language-pack-en \nDownloading ubuntu trusty minimal ... \n... \n[root@centos ~]# lxc-create --bdev lvm --fssize 3G --name lvm_container --template centos \n...\n\n```", "```\nroot@ubuntu:~# lxc-ls -f \nNAME STATE AUTOSTART GROUPS IPV4 IPV6 \nlvm_container STOPPED 0 - - - \nroot@ubuntu:~# pvs \nPV VG Fmt Attr PSize PFree \n/dev/xvdb1 lxc lvm2 a-- 75.00g 65.00g \nroot@ubuntu:~# vgs \nVG #PV #LV #SN Attr VSize VFree \nlxc 1 1 0 wz--n- 75.00g 65.00g \nroot@ubuntu:~# lvs \nLV VG Attr LSize Pool Origin Data% Move Log Copy% Convert \nlvm_container lxc -wi-a---- 10.00g \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-start -n lvm_container \nroot@ubuntu:~# lxc-ls -f \nNAME          STATE  AUTOSTART GROUPS IPV4 IPV6 \nlvm_container RUNNING 0 - - - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# cat /var/lib/lxc/lvm_container/config | grep -vi ^# | grep lxc \nlxc.include = /usr/share/lxc/config/ubuntu.common.conf \nlxc.rootfs = /dev/lxc/lvm_container \nlxc.rootfs.backend = lvm \nlxc.utsname = lvm_container \nlxc.arch = amd64 \nlxc.network.type = veth \nlxc.network.link = lxcbr0 \nlxc.network.flags = up \nlxc.network.hwaddr = 00:16:3e:60:96:a2 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# ls -la /dev/lxc/ \ntotal 0 \ndrwxr-xr-x 2 root root 60 Sep 13 18:14 . \ndrwxr-xr-x 15 root root 4020 Sep 13 18:25 .. \nlrwxrwxrwx 1 root root 7 Sep 13 18:14 lvm_container -> ../dm-0 \nroot@ubuntu:~# ls -la /dev/mapper/ \ntotal 0 \ndrwxr-xr-x 2 root root 100 Sep 13 18:35 . \ndrwxr-xr-x 15 root root 4040 Sep 13 18:35 .. \ncrw------- 1 root root 10, 236 Aug 30 15:17 control \nlrwxrwxrwx 1 root root 7 Sep 13 18:14 lxc-lvm_container -> ../dm-0 \nroot@ubuntu:~# ls -la /dev/mapper/lxc-lvm_container \nlrwxrwxrwx 1 root root 7 Sep 13 18:14 /dev/mapper/lxc-lvm_container -> ../dm-0 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-create --bdev lvm --fssize 5G --name lvm_container_2 --template debian \nLogical volume \"lvm_container_2\" created \ndebootstrap is /usr/sbin/debootstrap \nChecking cache download in /var/cache/lxc/debian/rootfs-jessie-amd64 ... \n... \nroot@ubuntu:~# lvs \nLV VG Attr LSize Pool Origin Data% Move Log Copy% Convert \nlvm_container lxc -wi-ao--- 10.00g \nlvm_container_2 lxc -wi-a---- 5.00g \nroot@ubuntu:~# \nroot@ubuntu:~# ls -la /dev/lxc/ \ntotal 0 \ndrwxr-xr-x 2 root root 80 Sep 13 18:35 . \ndrwxr-xr-x 15 root root 4040 Sep 13 18:35 .. \nlrwxrwxrwx 1 root root 7 Sep 13 18:14 lvm_container -> ../dm-0 \nlrwxrwxrwx 1 root root 7 Sep 13 18:35 lvm_container_2 -> ../dm-1 \nroot@ubuntu:~# ls -la /dev/mapper/ \ntotal 0 \ndrwxr-xr-x 2 root root 100 Sep 13 18:35 . \ndrwxr-xr-x 15 root root 4040 Sep 13 18:35 .. \ncrw------- 1 root root 10, 236 Aug 30 15:17 control \nlrwxrwxrwx 1 root root 7 Sep 13 18:14 lxc-lvm_container -> ../dm-0 \nlrwxrwxrwx 1 root root 7 Sep 13 18:35 lxc-lvm_container_2 -> ../dm-1 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lvdisplay \n--- Logical volume --- \nLV Path             /dev/lxc/lvm_container \nLV Name             lvm_container \nVG Name             lxc \nLV UUID             oBiCEC-mHE7-FHGY-ikUI-tg10-rouD-NBWHVt \nLV Write Access     read/write \nLV Creation host, time ubuntu, 2016-09-13 18:14:42 +0000 \nLV Status            available \n# open               1 \nLV Size              10.00 GiB \nCurrent LE           2560 \nSegments             1 \nAllocation           inherit \nRead ahead sectors   auto \n- currently set to   256 \nBlock device         252:0 \n--- Logical volume --- \nLV Path              /dev/lxc/lvm_container_2 \nLV Name              lvm_container_2 \nVG Name              lxc \nLV UUID              ED06VK-xzWv-lGPL-Myff-gN3P-AD2l-8zTRko \nLV Write Access      read/write \nLV Creation host, time ubuntu, 2016-09-13 18:35:52 +0000 \nLV Status            available \n# open               0 \nLV Size              5.00 GiB \nCurrent LE           1280 \nSegments             1 \nAllocation           inherit \nRead ahead sectors   auto \n- currently set to   256 \nBlock device         252:1 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-copy --snapshot --name lvm_container_2 --newname container_2_copy\nLogical volume \"container_2_copy\" created\nroot@ubuntu:~# lxc-ls -f\nNAME             STATE AUTOSTART GROUPS IPV4 IPV6\ncontainer_2_copy STOPPED 0 - - -\nlvm_container    RUNNING 0 - 10.0.3.129 -\nlvm_container_2  STOPPED 0 - - -\nroot@ubuntu:~# lvs\nLV               VG Attr LSize Pool Origin Data% Move Log Copy% Convert\ncontainer_2_copy lxc swi-a-s-- 5.00g lvm_container_2 0.00\nlvm_container    lxc -wi-ao--- 10.00g\nlvm_container_2  lxc owi-a-s-- 5.00g\nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-copy --name lvm_container_2 --newname container_2_hard \nLogical volume \"container_2_hard\" created \nroot@ubuntu:~# lvs \nLV               VG  Attr LSize Pool Origin Data% Move Log Copy% Convert \ncontainer_2_copy lxc swi-a-s-- 5.00g lvm_container_2 0.11 \ncontainer_2_hard lxc -wi-a---- 5.00g \nlvm_container    lxc -wi-ao--- 10.00g \nlvm_container_2  lxc owi-a-s-- 5.00g \nroot@ubuntu:~#\n\n```", "```\n     root@ubuntu:~# truncate --size 5G xvdz.img \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# ls -la xvdz.img \n     -rw-r--r-- 1 root root 5368709120 Sep 13 19:01 xvdz.img \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# modprobe loop\n\n    ```", "```\n     root@ubuntu:~# losetup --find \n     /dev/loop0 \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# losetup /dev/loop0 xvdz.img \n     root@ubuntu:~# losetup --all \n     /dev/loop0: [ca01]:30352 (/root/xvdz.img) \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# pvcreate /dev/loop0 \n     Physical volume \"/dev/loop0\" successfully created \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# dd if=/dev/zero of=/block_device bs=1k \n          count=500000 \n     500000+0 records in \n     500000+0 records out \n     512000000 bytes (512 MB) copied, 2.33792 s, 219 MB/s \n     root@ubuntu:~# losetup --find \n     /dev/loop1 \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# losetup /dev/loop1 /block_device \n     root@ubuntu:~# pvcreate /dev/loop1 \n     Physical volume \"/dev/loop1\" successfully created \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# losetup --all \n     /dev/loop0: [ca01]:30352 (/root/xvdz.img) \n     /dev/loop1: [ca01]:38291 (/block_device) \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# losetup -d /dev/loop1\n     root@ubuntu:~# losetup -d /dev/loop0\n     root@ubuntu:~# losetup --all\n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# apt-get -y install btrfs-tools\n\n    ```", "```\n     [root@centos ~]# yum install -y btrfs-progs\n\n    ```", "```\n     root@ubuntu:~# modprobe btrfs \n     root@ubuntu:~# lsmod | grep btrfs \n     btrfs       840205  0 \n     raid6_pq    97812   1     btrfs \n     xor         21411   1     btrfs \n     libcrc32c   12644   2     xfs,btrfs \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# mkfs -t btrfs /dev/xvdd \n     fs created label (null) on /dev/xvdd \n     nodesize 16384 leafsize 16384 sectorsize 4096 size 75.00GiB \n     Btrfs v3.12 \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# file -s /dev/xvdd \n     /dev/xvdd: BTRFS Filesystem sectorsize 4096, nodesize 16384, \n          leafsize 16384,   \n          UUID=58ef810a-c009-4302-9579-a2a9ed7f7ced, 114688/80530636800 \n          bytes used, \n          1 devices \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# btrfs filesystem show \n     Label: none uuid: 9c84a092-4791-4031-ad16-2cb8488c5633 \n     Total devices 1 FS bytes used 331.25MiB \n     devid 1 size 75.00GiB used 3.04GiB path /dev/xvdb \n     Btrfs v3.12 \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# mkdir btrfs_c1 \n     root@ubuntu:~# mount /dev/xvdd btrfs_c1 \n     root@ubuntu:~# cat /proc/mounts | grep btrfs \n     /dev/xvdd /root/btrfs_c1 btrfs rw,relatime,ssd,space_cache 0 0 \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# btrfs subvolume show /root/btrfs_c1/ \n     /root/btrfs_c1 is btrfs root \n     root@ubuntu:~# \n     root@ubuntu:~# btrfs filesystem df /root/btrfs_c1 \n     Data, single: total=1.01GiB, used=309.14MiB \n     System, DUP: total=8.00MiB, used=16.00KiB \n     System, single: total=4.00MiB, used=0.00 \n     Metadata, DUP: total=1.00GiB, used=22.09MiB \n     Metadata, single: total=8.00MiB, used=0.00 \n     root@ubuntu:~#\n\n    ```", "```\nroot@ubuntu:~# lxc-create --bdev btrfs --lxcpath=btrfs_c1 --name btrfs_container --template ubuntu \nChecking cache download in /var/cache/lxc/trusty/rootfs-amd64 ... \nCopy /var/cache/lxc/trusty/rootfs-amd64 to btrfs_c1/btrfs_container/rootfs ... \nCopying rootfs to btrfs_c1/btrfs_container/rootfs ... \n... \nroot@ubuntu:~# lxc-ls --lxcpath=/root/btrfs_c1 -f \nNAME STATE AUTOSTART GROUPS IPV4 IPV6 \nbtrfs_container STOPPED 0 - - - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-config lxc.lxcpath \n/var/lib/lxc \nroot@ubuntu:~# echo \"lxc.lxcpath = /root/btrfs_c1\" >> /etc/lxc/lxc.conf \nroot@ubuntu:~# lxc-config lxc.lxcpath \n/root/btrfs_c1 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-ls -f \nNAME STATE AUTOSTART GROUPS IPV4 IPV6 \nbtrfs_container STOPPED 0 - - - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# ls -la btrfs_c1/btrfs_container/ \ntotal 20 \ndrwxrwx--- 1 root root 24 Sep 13 20:08 . \ndrwxr-xr-x 1 root root 30 Sep 13 20:07 .. \n-rw-r--r-- 1 root root 714 Sep 13 20:08 config \ndrwxr-xr-x 1 root root 132 Sep 13 18:18 rootfs \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# btrfs subvolume list /root/btrfs_c1/ \nID 257 gen 9 top level 5 path btrfs_container/rootfs \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-copy --lxcpath=/root/btrfs_c1 -s -n btrfs_container -N btrfs_cow_clone \nroot@ubuntu:~# lxc-ls --lxcpath=/root/btrfs_c1 -f \nNAME            STATE AUTOSTART GROUPS IPV4 IPV6 \nbtrfs_container STOPPED 0 - - - \nbtrfs_cow_clone STOPPED 0 - - - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# btrfs subvolume list /root/btrfs_c1/ \nID 257 gen 12 top level 5 path btrfs_container/rootfs \nID 259 gen 12 top level 5 path btrfs_cow_clone/rootfs \nroot@ubuntu:~# ls -la btrfs_c1/ \ntotal 20 \ndrwxr-xr-x 1 root root 60 Sep 13 20:23 . \ndrwx------ 6 root root 4096 Sep 13 19:58 .. \ndrwxrwx--- 1 root root 24 Sep 13 20:08 btrfs_container \ndrwxrwx--- 1 root root 24 Sep 13 20:23 btrfs_cow_clone \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# cat btrfs_c1/btrfs_container/config | grep -vi ^# | grep lxc \nlxc.include = /usr/share/lxc/config/ubuntu.common.conf \nlxc.rootfs = /root/btrfs_c1/btrfs_container/rootfs \nlxc.rootfs.backend = btrfs \nlxc.utsname = btrfs_container \nlxc.arch = amd64 \nlxc.network.type = veth \nlxc.network.link = lxcbr0 \nlxc.network.flags = up \nlxc.network.hwaddr = 00:16:3e:f2:a9:04 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-start --lxcpath=/root/btrfs_c1 -n btrfs_cow_clone \nroot@ubuntu:~# lxc-start --lxcpath=/root/btrfs_c1 -n btrfs_container \nroot@ubuntu:~# lxc-ls -f \nNAME            STATE AUTOSTART GROUPS IPV4 IPV6 \nbtrfs_container RUNNING 0 - 10.0.3.137 - \nbtrfs_cow_clone RUNNING 0 - 10.0.3.136 - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-stop --lxcpath=/root/btrfs_c1 -n btrfs_cow_clone \nroot@ubuntu:~# lxc-stop --lxcpath=/root/btrfs_c1 -n btrfs_container \nroot@ubuntu:~# umount /root/btrfs_c1 \nroot@ubuntu:~# echo \"lxc.lxcpath = /var/lib/lxc\" > /etc/lxc/lxc.conf \nroot@ubuntu:~# lxc-config lxc.lxcpath \n/var/lib/lxc \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# apt-add-repository ppa:zfs-native/daily \nroot@ubuntu:~# apt-get update \nroot@ubuntu:~# apt-get install ubuntu-zfs\n\n```", "```\n[root@centos ~]# yum update \n[root@centos ~]# reboot \n[root@centos ~]# yum localinstall --nogpgcheck http://archive.zfsonlinux.org/epel/zfs-release.el7.noarch.rpm \n[root@centos ~]# yum install kernel-devel \n[root@centos ~]# yum install zfs\n\n```", "```\nroot@ubuntu:~# modprobe zfs \nroot@ubuntu:~# lsmod | grep zfs \nzfs      3089200 0 \nzunicode 331170  1 zfs \nzcommon  66797   1 zfs \nznvpair  89131   2 zfs,zcommon \nspl      106271  3 zfs,zcommon,znvpair \nzavl     15236   1 zfs \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# zpool create -f lxc xvdb\n\n```", "```\nroot@ubuntu:~# zpool list \nNAME SIZE ALLOC FREE EXPANDSZ FRAG CAP DEDUP HEALTH ALTROOT \nlxc 74.5G 51.5K 74.5G - 0% 0% 1.00x ONLINE - \nroot@ubuntu:~# zpool status \npool: lxc \nstate: ONLINE \nscan: none requested \nconfig: \nNAME STATE READ WRITE CKSUM \nlxc ONLINE 0 0 0 \nxvdb ONLINE 0 0 0 \nerrors: No known data errors \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# zfs list \nNAME USED AVAIL REFER MOUNTPOINT \nlxc 56.5K 72.2G 19K /lxc \nroot@ubuntu:~# \nroot@ubuntu:~# df -h | grep -w lxc \nlxc 73G 0 73G 0% /lxc \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-create --bdev zfs --lxcpath=/lxc --name zfs_container --template ubuntu\nChecking cache download in /var/cache/lxc/trusty/rootfs-amd64 ...\nInstalling packages in template: apt-transport-https,ssh,vim,language-pack-en\nDownloading ubuntu trusty minimal ...\n... \nroot@ubuntu:~# lxc-ls --lxcpath=/lxc -f\nNAME          STATE AUTOSTART GROUPS IPV4 IPV6\nzfs_container STOPPED 0 - - -\nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# ls -la /lxc/\ntotal 5\ndrwxr-xr-x 3 root root 3 Sep 14 13:57 \ndrwxr-xr-x 23 root root 4096 Sep 14 13:54 ..\ndrwxrwx--- 3 root root 4 Sep 14 14:02 zfs_container\nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-copy --lxcpath=/lxc -s -n zfs_container -N zfs_cow_clone \nroot@ubuntu:~# lxc-ls --lxcpath=/lxc -f \nNAME STATE AUTOSTART GROUPS IPV4 IPV6 \nzfs_container STOPPED 0 - - - \nzfs_cow_clone STOPPED 0 - - - \nroot@ubuntu:~#\n\n```", "```\n     root@ubuntu:~# ls -la /lxc \n     total 6 \n     drwxr-xr-x 4 root root 4 Sep 14 14:03 . \n     drwxr-xr-x 23 root root 4096 Sep 14 13:54 .. \n     drwxrwx--- 3 root root 4 Sep 14 14:02 zfs_container \n     drwxrwx--- 3 root root 4 Sep 14 14:03 zfs_cow_clone \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-start --lxcpath=/lxc --name zfs_container \n     root@ubuntu:~# lxc-start --lxcpath=/lxc --name zfs_cow_clone \n     root@ubuntu:~# lxc-ls --lxcpath=/lxc -f \n     NAME STATE AUTOSTART GROUPS IPV4 IPV6 \n     zfs_container RUNNING 0 - 10.0.3.238 - \n     zfs_cow_clone RUNNING 0 - 10.0.3.152 - \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-stop --lxcpath=/lxc --name zfs_cow_clone \n     root@ubuntu:~# lxc-stop --lxcpath=/lxc --name zfs_container \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-destroy --lxcpath=/lxc --name zfs_cow_clone \n     Destroyed container zfs_cow_clone \n     root@ubuntu:~# lxc-destroy --lxcpath=/lxc --name zfs_container \n     cannot destroy 'lxc/zfs_container': filesystem has children \n     use '-r' to destroy the following datasets: \n     lxc/zfs_container@zfs_cow_clone \n     lxc-destroy: lxccontainer.c: container_destroy: 2376 Error destroying \n          rootfs for    \n          zfs_container \n     Destroying zfs_container failed \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# zfs destroy lxc/zfs_container@zfs_cow_clone \n     root@ubuntu:~# lxc-destroy --lxcpath=/lxc --name zfs_container \n     Destroyed container zfs_container \n     root@ubuntu:~# lxc-ls --lxcpath=/lxc -f \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# zpool destroy lxc \n     root@ubuntu:~# zpool status \n     no pools available \n     root@ubuntu:~# zfs list \n     no datasets available \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-create --name autostart_container --template \n          ubuntu \n     root@ubuntu:~# lxc-ls -f \n     NAME STATE AUTOSTART GROUPS IPV4 IPV6 \n     autostart_container STOPPED 0 - - - \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# echo \"lxc.start.auto = 1\" >> \n          /var/lib/lxc/autostart_container/config \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-autostart --list \n     autostart_container \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-autostart --all\n     root@ubuntu:~# lxc-ls -f\n     NAME                STATE AUTOSTART GROUPS IPV4 IPV6\n     autostart_container RUNNING 1 - 10.0.3.98 -\n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-stop --name autostart_container \n     root@ubuntu:~# echo \"lxc.start.delay = 5\" >> \n          /var/lib/lxc/autostart_container/config \n     root@ubuntu:~# echo \"lxc.group = high_priority\" >> \n          /var/lib/lxc/autostart_container/config \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-autostart --list \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-autostart --list --group high_priority\n     autostart_container 5\n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-autostart --group high_priority \n     root@ubuntu:~# lxc-ls -f \n     NAME                STATE AUTOSTART GROUPS IPV4 IPV6 \n     autostart_container RUNNING 1 high_priority 10.0.3.98 - \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-destroy --name autostart_container \n     Destroyed container autostart_container \n     root@ubuntu:~# lxc-ls -f \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-create --name hooks_container --template \n          ubuntu \n     root@ubuntu:~# echo \"lxc.hook.pre-start =   \n          /var/lib/lxc/hooks_container/pre_start.sh\" >> /var/lib\n          /lxc/hooks_container/config \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# vi /var/lib/lxc/hooks_container/pre_start.sh \n     #!/bin/bash \n     LOG_FILE=/tmp/container.log \n     echo \"Container name: $LXC_NAME\" | tee -a $LOG_FILE \n     echo \"Container mounted rootfs: $LXC_ROOTFS_MOUNT\" | tee -a \n          $LOG_FILE \n     echo \"Container config file $LXC_CONFIG_FILE\" | tee -a $LOG_FILE \n     echo \"Container rootfs: $LXC_ROOTFS_PATH\" | tee -a $LOG_FILE \n     root@ubuntu:~# \n     root@ubuntu:~# chmod u+x /var/lib/lxc/hooks_container\n          /pre_start.sh \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-start --name hooks_container \n     root@ubuntu:~# lxc-ls -f \n     NAME            STATE AUTOSTART GROUPS IPV4 IPV6 \n     hooks_container RUNNING 0 - 10.0.3.237 - \n     root@ubuntu:~# cat /tmp/container.log \n     Container name: hooks_container \n     Container mounted rootfs: /usr/lib/x86_64-linux-gnu/lxc \n     Container config file /var/lib/lxc/hooks_container/config \n     Container rootfs: /var/lib/lxc/hooks_container/rootfs \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# mkdir /tmp/export_to_container \n     root@ubuntu:~# hostname -f > /tmp/export_to_container/file \n     root@ubuntu:~# lxc-create --name mount_container --template \n          ubuntu \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# echo \"lxc.mount.entry = /tmp/export_to_container/   \n          /var/lib/lxc/mount_container/rootfs/mnt none ro,bind 0 0\" >>    \n          /var/lib/lxc/mount_container/config \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-start --name mount_container\n     root@ubuntu:~# lxc-attach --name mount_container\n     root@mount_container:~# cat /mnt/file\n     ubuntu\n     root@mount_containerr:~# exit\n     exit\n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# lxc-info --name mount_container \n     Name:        mount_container \n     State:       RUNNING \n     PID:         8594 \n     IP:          10.0.3.237 \n     CPU use:     1.96 seconds \n     BlkIO use:   212.00 KiB \n     Memory use:  8.50 MiB \n     KMem use:    0 bytes \n     Link:        vethBXR2HO \n     TX bytes:    4.74 KiB \n     RX bytes:    4.73 KiB \n     Total bytes: 9.46 KiB \n     root@ubuntu:~#\n\n    ```", "```\n     root@ubuntu:~# ls -la /proc/8594/root/run/ \n     total 44 \n     drwxr-xr-x 10 root root 420 Sep 14 23:28 . \n     drwxr-xr-x 21 root root 4096 Sep 14 23:28 .. \n     -rw-r--r-- 1 root root 4 Sep 14 23:28 container_type \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 crond.pid \n     ---------- 1 root root 0 Sep 14 23:28 crond.reboot \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 dhclient.eth0.pid \n     drwxrwxrwt 2 root root 40 Sep 14 23:28 lock \n     -rw-r--r-- 1 root root 112 Sep 14 23:28 motd.dynamic \n     drwxr-xr-x 3 root root 180 Sep 14 23:28 network \n     drwxr-xr-x 3 root root 100 Sep 14 23:28 resolvconf \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 rsyslogd.pid \n     drwxr-xr-x 2 root root 40 Sep 14 23:28 sendsigs.omit.d \n     drwxrwxrwt 2 root root 40 Sep 14 23:28 shm \n     drwxr-xr-x 2 root root 40 Sep 14 23:28 sshd \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 sshd.pid \n     drwxr-xr-x 2 root root 80 Sep 14 23:28 udev \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 upstart-file-bridge.pid \n     -rw-r--r-- 1 root root 4 Sep 14 23:28 upstart-socket-bridge.pid \n     -rw-r--r-- 1 root root 5 Sep 14 23:28 upstart-udev-bridge.pid \n     drwxr-xr-x 2 root root 40 Sep 14 23:28 user \n     -rw-rw-r-- 1 root utmp 2688 Sep 14 23:28 utmp \n     root@ubuntu:~#\n\n    ```", "```\nroot@ubuntu:~# lxc-ls -f \nNAME            STATE AUTOSTART GROUPS IPV4 IPV6 \nhooks_container RUNNING 0 - 10.0.3 \nroot@ubuntu:~# cat /sys/fs/cgroup/freezer/lxc/hooks_container/freezer.state \nTHAWED \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-freeze -n hooks_container \nroot@ubuntu:~# lxc-ls -f \nNAME            STATE AUTOSTART GROUPS IPV4 IPV6 \nhooks_container FROZEN 0 - 10.0.3.237 - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# cat /sys/fs/cgroup/freezer/lxc/hooks_container/freezer.state \nFROZEN \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-unfreeze --name hooks_container \nroot@ubuntu:~# lxc-ls -f \nNAME            STATE AUTOSTART GROUPS IPV4 IPV6 \nhooks_container RUNNING 0 - 10.0.3.237 - \nroot@ubuntu:~# cat /sys/fs/cgroup/freezer/lxc/hooks_container/freezer.state \nTHAWED \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-monitor --name hooks_container \n'hooks_container' changed state to [FREEZING] \n'hooks_container' changed state to [FROZEN] \n'hooks_container' changed state to [THAWED]\n\n```", "```\nroot@ubuntu:~# lxc-cgroup -n hooks_container memory.limit_in_bytes 536870912 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# cat /sys/fs/cgroup/memory/lxc/hooks_container/memory.limit_in_bytes\n536870912\nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-cgroup -n hooks_container memory.limit_in_bytes 268435456 \nroot@ubuntu:~# cat /sys/fs/cgroup/memory/lxc/hooks_container/memory.limit_in_bytes \n268435456 \nroot@ubuntu:~# lxc-attach --name hooks_container \nroot@hooks_container:~# free -m \n total used free shared buffers cached \nMem: 256   63   192  0      0       54 \n-/+ buffers/cache: 9 246 \nSwap: 0 0 0 \nroot@hooks_container:~# exit \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# cat /proc/cpuinfo | grep processor \nprocessor : 0 \nprocessor : 1 \nroot@ubuntu:~# \nroot@ubuntu:~# lxc-cgroup -n hooks_container cpuset.cpus 0 \nroot@ubuntu:~# cat /sys/fs/cgroup/cpuset/lxc/hooks_container/cpuset.cpus \n0 \nroot@ubuntu:~# lxc-attach --name hooks_container \nroot@hooks_container:~# cat /proc/cpuinfo | grep processor \nprocessor : 0 \nroot@hooks_container:~# exit \nexit \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# echo \"lxc.cgroup.memory.limit_in_bytes = 536870912\" >> /var/lib/lxc/hooks_container/config \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# lxc-cgroup -n hooks_container cpu.shares 512 \nroot@ubuntu:~# lxc-cgroup -n hooks_container blkio.weight 500 \nroot@ubuntu:~# lxc-cgroup -n hooks_container blkio.weight \n500 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# apt-get update && apt-get -y install libvirt-bin python-libvirt virtinst cgmanager cgroup-lite \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# /etc/init.d/libvirt-bin status \nlibvirt-bin start/running, process 15987 \nroot@ubuntu:~#\n\n```", "```\n[root@centos ~]# yum install libvirt \n[root@centos ~]# \n\n```", "```\n[root@centos ~]# service libvirtd start\nRedirecting to /bin/systemctl start libvirtd.service\n[root@centos ~]# systemctl status libvirtd\n  libvirtd.service - Virtualization daemon\nLoaded: loaded (/usr/lib/systemd/system/libvirtd.service; enabled; vendor preset: enabled)\nActive: active (running) since Thu 2016-09-15 19:42:50 UTC; 59s ago\nDocs: man:libvirtd(8)\nhttp://libvirt.org\nMain PID: 10578 (libvirtd)\nCGroup: /system.slice/libvirtd.service\n|-10578 /usr/sbin/libvirtd\n|-10641 /sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/libexec/libvi...\n|-10642 /sbin/dnsmasq --conf-file=/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/libexec/libvi...\nSep 15 19:42:50 centos systemd[1]: Started Virtualization daemon.\nSep 15 19:42:51 centos dnsmasq[10641]: started, version 2.66 cachesize 150\nSep 15 19:42:51 centos dnsmasq[10641]: compile time options: IPv6 GNU-getopt DBus no-i18n IDN DHCP DHCPv6 no-Lua TFTP no-co...et auth\nSep 15 19:42:51 centos dnsmasq-dhcp[10641]: DHCP, IP range 192.168.122.2 -- 192.168.122.254, lease time 1h\nSep 15 19:42:51 centos dnsmasq[10641]: reading /etc/resolv.conf\nSep 15 19:42:51 centos dnsmasq[10641]: using nameserver 173.203.4.8#53\nSep 15 19:42:51 centos dnsmasq[10641]: using nameserver 173.203.4.9#53\nSep 15 19:42:51 centos dnsmasq[10641]: read /etc/hosts - 5 addresses\nSep 15 19:42:51 centos dnsmasq[10641]: read /var/lib/libvirt/dnsmasq/default.addnhosts - 0 addresses\nSep 15 19:42:51 centos dnsmasq-dhcp[10641]: read /var/lib/libvirt/dnsmasq/default.hostsfile\nHint: Some lines were ellipsized, use -l to show in full.\n[root@centos ~]#\n\n```", "```\nroot@ubuntu:~# apt-get update && apt-get upgrade && reboot\n```", "```\nroot@ubuntu:~# apt-get install build-essential automake pkg-config git bridge-utils libcap-dev libcgmanager-dev cgmanager git cgmanager cgroup-lite\nroot@ubuntu:~# apt-get install libtool libxml2 libxml2-dev libxml2-utils autopoint xsltproc libyajl-dev libpciaccess-dev libdevmapper-dev libnl-dev gettext libgettextpo-dev ebtables dnsmasq dnsmasq-utils\n\n```", "```\nroot@ubuntu:~# cd /usr/src/ \nroot@ubuntu:/usr/src# git clone git://libvirt.org/libvirt.git \nroot@ubuntu:/usr/src# cd libvirt/ \nroot@ubuntu:/usr/src/libvirt#\n\n```", "```\nroot@ubuntu:/usr/src/libvirt# ./autogen.sh \nroot@ubuntu:/usr/src/libvirt# make \nroot@ubuntu:/usr/src/libvirt# make install \nroot@ubuntu:/usr/src/libvirt# \n\n```", "```\nroot@ubuntu:/usr/src/libvirt# ldconfig \nroot@ubuntu:/usr/src/libvirt# \n\n```", "```\nroot@ubuntu:~# libvirtd -d \nroot@ubuntu:~# libvirtd --version \nlibvirtd (libvirt) 2.3.0 \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# find / -name libvirt_lxc \n/usr/lib/libvirt/libvirt_lxc \nroot@ubuntu:~#\n\n```", "```\n[root@centos ~]# find / -name libvirt_lxc\n/usr/libexec/libvirt_lxc\n[root@centos ~]#\n\n```", "```\nroot@ubuntu:~# virsh uri \nqemu:///system \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# export LIBVIRT_DEFAULT_URI=lxc:/// \nroot@ubuntu:~# virsh uri \nlxc:/// \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh --connect lxc:/// list -all \nId Name State \n---------------------------------------------------- \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# apt-get install debootstrap \nroot@ubuntu:~# debootstrap --arch=amd64 --include=\"openssh-server vim\" stable /root/container http://httpredir.debian.org/debian/ \nI: Retrieving Release \nI: Retrieving Packages \nI: Validating Packages \n... \nI: Configuring systemd... \nI: Base system installed successfully. \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# vim libvirt_container1.xml \n<domain type='lxc'> \n <name>libvirt_container1</name> \n <uuid>902b56ed-969c-458e-8b55-58daf5ae97b3</uuid> \n <memory unit='KiB'>524288</memory> \n <currentMemory unit='KiB'>524288</currentMemory> \n <vcpu placement='static'>1</vcpu> \n <os> \n <type arch='x86_64'>exe</type> \n <init>/sbin/init</init> \n </os> \n <features> \n <capabilities policy='allow'> \n </capabilities> \n </features> \n <clock offset='utc'/> \n <on_poweroff>destroy</on_poweroff> \n <on_reboot>restart</on_reboot> \n <on_crash>destroy</on_crash> \n <devices> \n <emulator>/usr/local/libexec/libvirt_lxc</emulator> \n <filesystem type='mount' accessmode='passthrough'> \n <source dir='/root/container'/> \n <target dir='/'/> \n </filesystem> \n <interface type='bridge'> \n <mac address='00:17:4e:9f:36:f8'/> \n <source bridge='lxcbr0'/> \n <link state='up'/> \n </interface> \n <console type='pty' /> \n </devices> \n</domain>\n\n```", "```\nroot@ubuntu:~# virsh define libvirt_container1.xml \nDomain libvirt_container1 defined from libvirt_container1.xml \nroot@ubuntu:~# virsh list --all \nId Name State \n---------------------------------------------------- \n- libvirt_container1 shut off \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# brctl addbr lxcbr0 && ifconfig lxcbr0 up\n\n```", "```\nroot@ubuntu:~# virsh start libvirt_container1 \nDomain libvirt_container1 started \nroot@ubuntu:~# virsh list --all \nId Name State \n---------------------------------------------------- \n2618 libvirt_container1 running \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# chroot container\nroot@ubuntu:/# echo \"pts/0\" >> /etc/securetty\nroot@ubuntu:/# exit\nexit\nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh console libvirt_container1 \nConnected to domain libvirt_container1 \nEscape character is ^] \nsystemd 215 running in system mode. (+PAM +AUDIT +SELINUX +IMA +SYSVINIT +LIBCRYPTSETUP +GCRYPT +ACL +XZ -SECCOMP -APPARMOR) \nDetected virtualization 'lxc-libvirt'. \nDetected architecture 'x86-64'. \nWelcome to Debian GNU/Linux 8 (jessie)! \n... \n[ OK ] Reached target Graphical Interface. \nStarting Update UTMP about System Runlevel Changes... \n[ OK ] Started Update UTMP about System Runlevel Changes. \nDebian GNU/Linux 8 server-33 console \nubuntu login:\n\n```", "```\nroot@ubuntu:~# truncate --size 5G xvdz.img \nroot@ubuntu:~# modprobe loop \nroot@ubuntu:~# losetup --find \n/dev/loop0 \nroot@ubuntu:~# losetup /dev/loop0 xvdz.img \nroot@ubuntu:~# losetup --all \n/dev/loop0: [ca01]:1457 (/root/xvdz.img) \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# mkfs.ext4 /dev/loop0 \nroot@ubuntu:~# mount /dev/loop0 /mnt/ \nroot@ubuntu:~# echo test > /mnt/file \nroot@ubuntu:~# umount /mnt \n\n```", "```\nroot@ubuntu:~# vim new_disk.xml \n<disk type='block' device='disk'> \n <driver name='lxc' cache='none'/> \n <source dev='/dev/loop0'/> \n <target dev='vdb' bus='virtio'/> \n</disk>\n\n```", "```\nroot@ubuntu:~# virsh attach-device libvirt_container1 new_disk.xml \nDevice attached successfully \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh console libvirt_container1 \nConnected to domain libvirt_container1 \nEscape character is ^] \nroot@ubuntu:~# ls -la /dev/vdb \nbrwx------ 1 root root 7, 0 Sep 22 15:13 /dev/vdb \nroot@ubuntu:~# mount /dev/vdb /mnt \nroot@ubuntu:~# cat /mnt/file \ntest \nroot@ubuntu:~# exit \nexit \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh detach-device libvirt_container1 new_disk.xml --live \nDevice detached successfully \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh net-list --all \nName State Autostart Persistent \n---------------------------------------------------------- \ndefault active yes yes \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh net-dumpxml default \n<network> \n <name>default</name> \n <uuid>9995bf85-a6d8-4eb9-887d-656b7d44de6d</uuid> \n <forward mode='nat'> \n <nat> \n <port start='1024' end='65535'/> \n </nat> \n </forward> \n <bridge name='virbr0' stp='on' delay='0'/> \n <mac address='52:54:00:9b:72:83'/> \n <ip address='192.168.122.1' netmask='255.255.255.0'> \n <dhcp> \n <range start='192.168.122.2' end='192.168.122.254'/> \n </dhcp> \n </ip> \n</network> \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# vim lxc_net.xml \n<network> \n <name>lxc</name> \n <bridge name=\"br0\"/> \n <forward/> \n <ip address=\"192.168.0.1\" netmask=\"255.255.255.0\"> \n <dhcp> \n <range start=\"192.168.0.2\" end=\"192.168.0.254\"/> \n </dhcp> \n </ip> \n</network> \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh net-define lxc_net.xml \nNetwork lxc defined from lxc_net.xml: \nroot@ubuntu:~# virsh net-list --all \nName State Autostart Persistent \n---------------------------------------------------------- \ndefault active yes yes \nlxc active no no \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# brctl show \nbridge name bridge id STP enabled interfaces \nbr0 8000.525400628c5e yes br0-nic \nlxcbr0 8000.76ccc8474468 no vnet0 \nvirbr0 8000.5254009b7283 yes virbr0-nic \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# pgrep -lfa dnsmasq \n22521 /sbin/dnsmasq --conf-file=/usr/local/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/local/libexec/libvirt_leaseshelper \n22522 /sbin/dnsmasq --conf-file=/usr/local/var/lib/libvirt/dnsmasq/default.conf --leasefile-ro --dhcp-script=/usr/local/libexec/libvirt_leaseshelper \n22654 /sbin/dnsmasq --conf-file=/usr/local/var/lib/libvirt/dnsmasq/lxc.conf --leasefile-ro --dhcp-script=/usr/local/libexec/libvirt_leaseshelper \n22655 /sbin/dnsmasq --conf-file=/usr/local/var/lib/libvirt/dnsmasq/lxc.conf --leasefile-ro --dhcp-script=/usr/local/libexec/libvirt_leaseshelper \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# apt-get install -y lxc=2.0.3-0ubuntu1~ubuntu14.04.1 lxc1=2.0.3-0ubuntu1~ubuntu14.04.1 liblxc1=2.0.3-0ubuntu1~ubuntu14.04.1 python3-lxc=2.0.3-0ubuntu1~ubuntu14.04.1 cgroup-lite=1.11~ubuntu14.04.2 lxc-templates=2.0.3-0ubuntu1~ubuntu14.04.1 bridge-utils debootstrap \nroot@ubuntu:~# lxc-create --name lxc-container --template ubuntu \nroot@ubuntu:~# lxc-ls -f \nNAME STATE AUTOSTART GROUPS IPV4 IPV6 \nlxc-container STOPPED 0 - - - \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh domxml-from-native lxc-tools /var/lib/lxc/lxc-container/config | tee -a lxc-container.xml \n<domain type='lxc'> \n <name>lxc-container</name> \n <uuid>1ec0c47d-0399-4f8c-b2a4-924834e369e7</uuid> \n <memory unit='KiB'>65536</memory> \n <currentMemory unit='KiB'>65536</currentMemory> \n <vcpu placement='static'>1</vcpu> \n <os> \n <type arch='x86_64'>exe</type> \n <init>/sbin/init</init> \n </os> \n <features> \n <capabilities policy='allow'> \n </capabilities> \n </features> \n <clock offset='utc'/> \n <on_poweroff>destroy</on_poweroff> \n <on_reboot>restart</on_reboot> \n <on_crash>destroy</on_crash> \n <devices> \n <emulator>/usr/local/libexec/libvirt_lxc</emulator> \n <filesystem type='mount' accessmode='passthrough'> \n <source dir='/var/lib/lxc/lxc-container/rootfs'/> \n <target dir='/'/> \n </filesystem> \n <interface type='bridge'> \n <mac address='00:16:3e:0f:dc:ed'/> \n <source bridge='lxcbr0'/> \n <link state='up'/> \n </interface> \n </devices> \n</domain> \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# sed -i \"/<\\/devices>/i <console type='pty' \\/>\" lxc-container.xml \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh define lxc-container.xml \nDomain lxc-container defined from lxc-container.xml \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh start lxc-container \nDomain lxc-container started \nroot@ubuntu:~# virsh list --all \nId Name State \n---------------------------------------------------- \n18062 lxc-container running \n22958 libvirt_container1 running \n24893 libvirt_container2 running \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh destroy lxc-container \nDomain lxc-container destroyed \nroot@ubuntu:~# virsh destroy libvirt_container1 \nDomain libvirt_container1 destroyed \nroot@ubuntu:~# virsh destroy libvirt_container2 \nDomain libvirt_container2 destroyed \nroot@ubuntu:~# virsh list --all \nId Name State \n---------------------------------------------------- \n- libvirt_container1 shut off \n- libvirt_container2 shut off \n- lxc-container shut off \nroot@ubuntu:~#\n\n```", "```\nroot@ubuntu:~# virsh undefine lxc-container \nDomain lxc-container has been undefined \nroot@ubuntu:~# virsh undefine libvirt_container1 \nDomain libvirt_container1 has been undefined \nroot@ubuntu:~# virsh undefine libvirt_container2 \nDomain libvirt_container2 has been undefined \nroot@ubuntu:~# virsh list --all \nId Name State \n---------------------------------------------------- \nroot@ubuntu:~#\n\n```"]