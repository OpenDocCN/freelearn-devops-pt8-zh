<html><head></head><body><div class="chapter" title="Chapter&#xA0;4.&#xA0;Securing Access to Data and Data Validation"><div class="titlepage"><div><div><h1 class="title"><a id="ch04"/>Chapter 4. Securing Access to Data and Data Validation</h1></div></div></div><p>In the previous chapters, we have looked at how Salesforce controls access to information using the user profile mechanism. We have seen how the appropriate object level permissions, such as create, read, update, and delete have to be set on the user's profile to allow the user corresponding permissions to the records of that object type.</p><p>In this chapter, we will look at organization-wide sharing defaults, roles, and other sharing settings which compliment and extend the assigning of access permissions to users within the Salesforce CRM application.</p><p>This chapter also looks in detail at some of the mechanisms for controlling record updates and features that allow you to govern and control the quality of data entered into Salesforce CRM.</p><p>Finally, you will be presented with a number of questions about the key features of Salesforce CRM administration in the area of security and access which are covered in this chapter.</p><p>The following topics are being covered in this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Levels of data access and security</li><li class="listitem" style="list-style-type: disc">Data access security model</li><li class="listitem" style="list-style-type: disc">Organization-Wide Defaults</li><li class="listitem" style="list-style-type: disc">Granting access using hierarchies</li><li class="listitem" style="list-style-type: disc">Granting users additional access</li><li class="listitem" style="list-style-type: disc">Permission sets</li><li class="listitem" style="list-style-type: disc">Role hierarchy</li><li class="listitem" style="list-style-type: disc">Organization-wide defaults and sharing rules</li><li class="listitem" style="list-style-type: disc">Sharing rules</li><li class="listitem" style="list-style-type: disc">Groups</li><li class="listitem" style="list-style-type: disc">Public groups</li><li class="listitem" style="list-style-type: disc">Personal groups</li><li class="listitem" style="list-style-type: disc">Effects of adding or modifying sharing rules</li><li class="listitem" style="list-style-type: disc">Criteria-based sharing</li><li class="listitem" style="list-style-type: disc">Manual sharing</li><li class="listitem" style="list-style-type: disc">Queues</li></ul></div><div class="section" title="Levels of data access and security"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec63"/>Levels of data access and security</h1></div></div></div><p>There are various features within Salesforce CRM that provide data access and security that can be configured by system administrators and these can be applied at different levels in the platform. We will now look at the multiple levels that allow you to apply data access and security control to the information in your Salesforce org.</p><div class="section" title="Organization"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec113"/>Organization</h2></div></div></div><p>The first and highest level of data access and security is at the organization level. This allows for controlled access to Salesforce by authorized users where you can configure rules such as password policies and login access rules. These settings are covered in 
<a class="link" href="ch02.html" title="Chapter 2. Managing Users and Controlling System Access">Chapter 2</a>, 
<span class="emphasis"><em>Managing Users and Controlling System Access.</em></span>
</p></div><div class="section" title="Objects and fields"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec114"/>Objects and fields</h2></div></div></div><p>The second and third level of data access and security is at object and field level respectively. Data access and security at object level provides the most basic category of controlling which data users have access to. Objects can have permissions applied to allow or prevent users from creating, reading, updating, or deleting data records for that particular object. The third level is at field level. Here, you can use field-level security to control access to specific fields. You can restrict access to a particular field and prevent a user from accessing it even if they have full access to the associated object. These features are covered in <a class="link" href="ch03.html" title="Chapter 3. Configuring Objects and Apps">Chapter 3</a>, <span class="emphasis"><em>Configuring Objects and Apps</em></span>.</p></div><div class="section" title="Records"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec115"/>Records</h2></div></div></div><p>The lowest level of data access and security enables you to control access at record level. The mechanisms for record level access allow for control at the most precise level where you can allow particular users to view object and fields, but then restrict the actual records associated with that object. For example, record-level access can be set to allow a user to view and edit their own records, without exposing these records to other users in the system. This level of access is made possible in Salesforce CRM with the in-built data access security model.</p></div></div></div>
<div class="section" title="The data access security model"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec64"/>The data access security model</h1></div></div></div><p>There are several flexible options for you to control how records are accessed within your organization.</p><p>In the previous chapter, we looked at the broadest way that you can control data by setting properties for the objects that a user can view, edit, and create through the configuration and assignment of profiles.</p><p>We also looked at the creation of fields and field-level security which is set at profile level and is applied to records at the database level. Returning to the diagram, we will now look at the security model shown at the top-right corner of the following diagram:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_001.jpg" alt="The data access security model"/></div><p>
</p><p>The data access security model is the lowest level of data access and security, and enables you to control access at record level using the following four features:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Organization-Wide Defaults (OWDs)</li><li class="listitem" style="list-style-type: disc">Role hierarchy</li><li class="listitem" style="list-style-type: disc">Sharing rules</li><li class="listitem" style="list-style-type: disc">Manual sharing</li></ul></div><p>The following diagram shows how, with the addition of each extra feature shown, the scope of provided access to records widens:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_002.jpg" alt="The data access security model"/></div><p>
</p><p>We will now look at mechanisms to control access at record level using the following features: <span class="strong"><strong>Organization-Wide Defaults</strong></span> (<span class="strong"><strong>OWDs</strong></span>); Role hierarchy; Sharing rules; and Manual sharing. We will begin by describing the OWDs.</p></div>
<div class="section" title="Organization-Wide Defaults"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec65"/>Organization-Wide Defaults</h1></div></div></div><p>OWDs sharing settings are used to define the default sharing settings for an organization. For most objects, sharing settings can be set to <span class="strong"><strong>Private</strong></span>, <span class="strong"><strong>Public Read Only</strong></span>, or <span class="strong"><strong>Public Read/Write</strong></span>.</p><p>OWDs sharing settings, specify the default level of access to records and can be set separately for most of the objects in Salesforce such as accounts, contacts, and activities.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note166"/>Note</h3><p>When setting up the OWDs, you can set the access level for internal users using the <span class="strong"><strong>Default Internal Access</strong></span> settings and set a different default access level for external users using the <span class="strong"><strong>Default External Access</strong></span> settings.</p><p>Here, external users are part of the Community Management feature which is provided by Salesforce at additional cost and is used to collaborate with individuals associated with your company's ecosystem such as suppliers, vendors or any other third-party venture.</p></div></div><p>As shown in the preceding diagram, along with the user's profile, the OWD defines the baseline level of access to data records that users do not own. The diagram represents the visibility or data access which is increasing as the other features are incorporated to provide wider sharing settings.</p><p>To customize your OWD settings, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Security Controls</strong></span> | <span class="strong"><strong>Sharing Settings</strong></span>. Now click on <span class="strong"><strong>Edit</strong></span> in the Organization-Wide Defaults area and then for each object, select the <span class="strong"><strong>Default Internal Access</strong></span> you want as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_003.jpg" alt="Organization-Wide Defaults"/></div><p>
</p><div class="section" title="OWDs access level actions"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec116"/>OWDs access level actions</h2></div></div></div><p>The OWDs access levels allow the following actions to be applied to object records:</p><div class="informaltable"><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td>
<p>
<span class="strong"><strong>Access Level</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Action</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Public Full Access</strong></span> (Option for setting the <span class="strong"><strong>Campaign</strong></span> object only)</p>
</td><td>
<p>Change ownership of record</p>
</td></tr><tr><td>
</td><td>
<p>Search records</p>
</td></tr><tr><td>
</td><td>
<p>Report on records</p>
</td></tr><tr><td>
</td><td>
<p>Add related records</p>
</td></tr><tr><td>
</td><td>
<p>Edit details of record</p>
</td></tr><tr><td>
</td><td>
<p>Delete record</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Public Read/Write/Transfer</strong></span> (Option for setting the Lead and Case objects only)</p>
</td><td>
<p>Change ownership of record</p>
</td></tr><tr><td>
</td><td>
<p>Search records</p>
</td></tr><tr><td>
</td><td>
<p>Report on records</p>
</td></tr><tr><td>
</td><td>
<p>Add related records</p>
</td></tr><tr><td>
</td><td>
<p>Edit details of record</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Public Read/Write</strong></span>
</p>
</td><td>
<p>Search records</p>
</td></tr><tr><td>
</td><td>
<p>Report on records</p>
</td></tr><tr><td>
</td><td>
<p>Add related records</p>
</td></tr><tr><td>
</td><td>
<p>Edit details of record</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Public Read Only</strong></span>
</p>
</td><td>
<p>Search records</p>
</td></tr><tr><td>
</td><td>
<p>Report on records</p>
</td></tr><tr><td>
</td><td>
<p>Add related records</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Private</strong></span>
</p>
</td><td>
<p>No searching</p>
</td></tr><tr><td>
</td><td>
<p>No reporting</p>
</td></tr></tbody></table></div></div><div class="section" title="Public Full Access (Campaigns only)"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec117"/>Public Full Access (Campaigns only)</h2></div></div></div><p>Access levels for the Campaign OWDs can be set to <span class="strong"><strong>Private</strong></span>, <span class="strong"><strong>Public Read Only</strong></span>, <span class="strong"><strong>Public Read/Write</strong></span>, or <span class="strong"><strong>Public Full Access</strong></span>. When <span class="strong"><strong>Campaign</strong></span> is set to <span class="strong"><strong>Public Full Access</strong></span>, all users can view, edit, transfer, delete, and report on all Campaign records.</p><p>For example, in the scenario where John is the owner of a Campaign, all other users in the application can view, edit, transfer, or delete that Campaign.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note167"/>Note</h3><p>The <span class="strong"><strong>Public Full Access</strong></span> option is available only for the <span class="strong"><strong>Campaign</strong></span> object.</p></div></div></div><div class="section" title="Public Read/Write/Transfer (Cases Or Leads Only)"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec118"/>Public Read/Write/Transfer (Cases Or Leads Only)</h2></div></div></div><p>Access levels for <span class="strong"><strong>Case</strong></span> or <span class="strong"><strong>Lead</strong></span> OWDs can be set to <span class="strong"><strong>Private</strong></span>, <span class="strong"><strong>Public Read Only</strong></span>, <span class="strong"><strong>Public Read/Write</strong></span>, or <span class="strong"><strong>Public Read/Write/Transfer</strong></span>. When <span class="strong"><strong>Case</strong></span> or <span class="strong"><strong>Lead</strong></span> are set to <span class="strong"><strong>Public</strong></span>
<span class="strong"><strong>Read/Write/Transfer</strong></span>, all users can view, edit, transfer, and report on all Case or Lead records.</p><p>For example, if Lucy is the owner of WidgetX case number 101, all other users can view, edit, transfer ownership, and report on that case. But only Lucy can delete or change the sharing on case number 101 (see <span class="emphasis"><em>Manual sharing rules</em></span> later in this chapter).</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note168"/>Note</h3><p>The Public Read/Write/Transfer option is available only for Case or Lead.</p></div></div></div><div class="section" title="Public Read/Write"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec119"/>Public Read/Write</h2></div></div></div><p>All users can view, edit, and report on all records.</p><p>For example, if Mike is the owner of the Emerald Inc. Account record, all other users can view, edit, and report on the Emerald Inc. account. However, only Mike has the ability to delete the Emerald Inc. account record or alter the sharing settings.</p></div><div class="section" title="Public Read Only"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec120"/>Public Read Only</h2></div></div></div><p>All users can view and report on records but they cannot edit them. Here, only the record owner and if the Grant Access Using Hierarchies checkbox is enabled (see earlier Organization-Wide Sharing Defaults Edit screen screenshot) users above that user's role in the role hierarchy can edit the records.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note169"/>Note</h3><p>The <span class="strong"><strong>Grant Access Using Hierarchies</strong></span> checkbox is enabled by default for standard objects and cannot be disabled. The Grant Access Using Hierarchies checkbox can be enabled or disabled for custom objects.</p></div></div><p>For example, Nicole is the owner of the EuroCorp Inc. Account record and Nicole works in the International Sales department, reporting to Julia, who is the VP of International Sales. In this scenario, both Nicole and Julia have full read/write access to EuroCorp Inc.</p><p>Now, say Mike also works in International Sales; however, with the Public Read Only setting he can view and report on the EuroCorp Inc. account record, but cannot edit or delete it.</p></div><div class="section" title="Private"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec121"/>Private</h2></div></div></div><p>Only the record owner and if the Grant Access Using Hierarchies checkbox is enabled (see earlier Organization-Wide Sharing Defaults Edit screen screenshot) users above that role in the hierarchy can view, edit, and report on those records. For example, if Mike is the owner of an Account record, and he is assigned to the role of International Sales, reporting to Julia, who is the VP of International Sales, then Julia can also view, edit, and report on Mike's accounts.</p></div><div class="section" title="No Access, View Only, or Use (Price Book only)"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec122"/>No Access, View Only, or Use (Price Book only)</h2></div></div></div><p>Access levels for the <span class="strong"><strong>Price Book</strong></span> OWDs can be set to either, <span class="strong"><strong>No Access</strong></span>, <span class="strong"><strong>View Only</strong></span>, or <span class="strong"><strong>Use</strong></span>. Use is the default access level and allows all users to access the Price Book information as well as using the Price Book configuration for opportunities with products. View Only allows users to access Price Book information but not to use that Price Book detail in opportunities with products. No Access restricts users from accessing information for Price Books and Prices.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note170"/>Note</h3><p>The <span class="strong"><strong>No Access</strong></span>, <span class="strong"><strong>View Only</strong></span>, or <span class="strong"><strong>Use choice of</strong></span> options is available only for Price Books which is covered in <a class="link" href="ch08.html" title="Chapter 8. Introducing Sales Cloud, Service Cloud, and the Collaborative Features of Salesforce CRM">Chapter 8</a>, <span class="emphasis"><em>Introducing Sales Cloud, Service Cloud, and Collaborative Features of Salesforce CRM.</em></span>
</p></div></div></div><div class="section" title="Granting Access using Hierarchies"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec123"/>Granting Access using Hierarchies</h2></div></div></div><p>By default, Salesforce uses hierarchies, such as the role or territory hierarchy, to automatically grant record access to users above the record owner in the hierarchy.</p><p>This automatic granting of access to user's data to other users higher up in the Salesforce CRM hierarchy can be disabled for custom objects using the <span class="strong"><strong>Grant Access Using Hierarchies</strong></span> checkbox. When this checkbox is not selected, only the record owner and users granted access by the Organization-Wide Defaults gain access to the records. For standard objects the <span class="strong"><strong>Grant Access Using Hierarchies</strong></span> checkbox is set by default and cannot be unchecked.</p><p>Here we see the options available for an example custom object where, for the custom object <span class="strong"><strong>Country</strong></span>, we have set the default access to <span class="strong"><strong>Public Read/Write</strong></span> and the <span class="strong"><strong>Grant Access Using Hierarchies</strong></span> setting is checked as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_004.jpg" alt="Granting Access using Hierarchies"/></div><p>
</p></div><div class="section" title="Controlled by Parent"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec124"/>Controlled by Parent</h2></div></div></div><p>When <span class="strong"><strong>Controlled by Parent</strong></span> is set on an object, as a result of the object being the detail side of a master-detail relationship, a user can perform an action (such as view, edit, or delete) on the record based on whether they can perform that same action on the parent record associated with it. For example, if a Contact record is associated with the WidgetX account using <span class="strong"><strong>Controlled by Parent</strong></span>, then a user can only edit that contact if they can also only edit the WidgetX account record.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip171"/>Tip</h3><p><span class="strong"><strong>Allow users to update each other's activities:</strong></span></p><p><span class="strong"><strong>Tasks</strong></span> and <span class="strong"><strong>Events</strong></span> are by default set to Private (via the <span class="strong"><strong>Activity</strong></span> setting as shown in the preceding screenshot). To allow users to update each other's activities (for example, to permit a user to set a task that they do not own to complete), you will need to set the <span class="strong"><strong>Activity</strong></span> setting to be <span class="strong"><strong>Controlled by Parent</strong></span> and ensure that the object that is related to the activity is also accessible to that user.</p></div></div><p>When a custom object is on the detail side of a master-detail relationship with a standard object, its OWDs is automatically set to <span class="strong"><strong>Controlled by Parent</strong></span> and it is not editable, as shown in the following screenshot for the custom object <span class="strong"><strong>Book</strong></span>:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_005.jpg" alt="Controlled by Parent"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note172"/>Note</h3><p>Although Grant Access Using Hierarchies can be deselected to prevent users that are higher in the role or territory hierarchy having automatic access, users with the <span class="strong"><strong>
<span class="strong"><strong>View All</strong></span>
</strong></span> and <span class="strong"><strong>
<span class="strong"><strong>Modify All</strong></span>
</strong></span>object permissions and the <span class="strong"><strong>
<span class="strong"><strong>View All Data</strong></span>
</strong></span> and <span class="strong"><strong>
<span class="strong"><strong>Modify All Data</strong></span>
</strong></span> profile permissions can still access records they do not own.</p></div></div><p>OWDs need to be defined separately for any custom objects that are created in the Salesforce CRM application.</p><p>For some standard objects, you cannot actually change the<span class="strong"><strong> O</strong></span>
<span class="strong"><strong>rganization-Wide Sharing Default</strong></span> setting.</p><p>For example, the OWDs for the Solution object in Salesforce is preset to Public Read/Write which cannot be changed.</p><p>You can use OWDs to set the default level of record access for the following standard objects where the default organization-wide sharing settings are:</p><div class="informaltable"><table border="1"><colgroup><col/><col/></colgroup><tbody><tr><td>
<p>
<span class="strong"><strong>Object</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Default Access</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Accounts</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Activities</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Private</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Assets</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Calendar</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Hide Details and Add Events</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Campaigns</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Full Access</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Cases</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write/Transfer</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Contacts</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Controlled by Parent</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Contracts</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Custom Objects</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Leads</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read/Write/Transfer</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Opportunities</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Public Read Only</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Price Books</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Use</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Service Contracts</strong></span>
</p>
</td><td>
<p>
<span class="strong"><strong>Contracts Private</strong></span>
</p>
</td></tr><tr><td>
<p>
<span class="strong"><strong>Users</strong></span>
</p>
</td><td>

<p>
<span class="strong"><strong>Public Read Only</strong></span>
</p>
<p>
<span class="strong"><strong>Private for external users</strong></span>
</p>
</td></tr></tbody></table></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note173"/>Note</h3><p>Activities behave differently to other objects and in spite of the Private setting for the <span class="strong"><strong>Organization-Wide Sharing Default</strong></span>, users with read access to the parent record to which the activity is associated can view all the activities regardless of who owns the activity. Therefore if you share an account record to a user or set of users all the activities on that record become visible to the user or set of users.</p></div></div></div><div class="section" title="External OWDs for sharing"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec125"/>External OWDs for sharing</h2></div></div></div><p>Organization-Wide Defaults often referred to in Salesforce CRM as OWDs, specify the default level of access to records and can be set separately for most of the objects in Salesforce such as accounts, contacts, and activities.</p><p>External OWDs allow you to apply a different default access level for external users such as Chatter external users, Community users, Customer Portal users, and so on.</p><p>Using External OWDs allows you to simplify the sharing model for your organization. For example, without External OWDs, if you want <span class="strong"><strong>Public Read Only</strong></span> or <span class="strong"><strong>Public Read/Write</strong></span> access for internal users but Private for external users, you would have to set the default access to <span class="strong"><strong>Private</strong></span> and create a sharing rule to share records with all internal users. With separate OWDs, one for internal and one for external users, you can achieve similar behavior by setting the default internal access to <span class="strong"><strong>Public Read Only</strong></span> or <span class="strong"><strong>Public Read/Write</strong></span> and the default external access to <span class="strong"><strong>Private</strong></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note174"/>Note</h3><p>External organization-wide defaults can be used to set sharing for <span class="strong"><strong>Accounts</strong></span> (and their associated contracts and assets), <span class="strong"><strong>Cases</strong></span>, <span class="strong"><strong>Contacts</strong></span>, <span class="strong"><strong>Opportunities</strong></span>, <span class="strong"><strong>Users</strong></span>, and <span class="strong"><strong>Custom Objects</strong></span>.</p></div></div><p>Having separate OWDs, one for internal and one for external users also speeds up performance for reports, list views, and searches.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note175"/>Note</h3><p>External users include: Authenticated website users, Chatter external users, Community users, Customer Portal users, Guest users, High-volume portal users, Partner Portal users, and Service Cloud Portal users.</p></div></div><p>To activate External OWD settings, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Security Controls</strong></span> | <span class="strong"><strong>Sharing Settings</strong></span>. Now click on the <span class="strong"><strong>Enable External Sharing Model</strong></span> button as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_006.jpg" alt="External OWDs for sharing"/></div><p>
</p></div><div class="section" title="Effects of Modifying Default Access Type"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec126"/>Effects of Modifying Default Access Type</h2></div></div></div><p>When you change the default access type, say from <span class="strong"><strong>Private</strong></span> to <span class="strong"><strong>Public Read/Write</strong></span>, the organization record sharing for that object is re-calculated and you may be presented with a warning confirmation dialog message, as shown in the following screenshot, notifying that an e-mail will be received when the OWDs update finishes:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_007.jpg" alt="Effects of Modifying Default Access Type"/></div><p>
</p></div><div class="section" title="Granting users additional access"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec127"/>Granting users additional access</h2></div></div></div><p>Where the OWDs setting for an object is <span class="strong"><strong>Private</strong></span> or <span class="strong"><strong>Public Read Only</strong></span>, you can grant users additional access to records with the use of permission sets, role hierarchies, and sharing rules.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note176"/>Note</h3><p>Sharing rules and permission sets can only be used to grant additional access and cannot be used to restrict access to records from what was originally specified with the OWDs</p></div></div></div><div class="section" title="Permission sets"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec128"/>Permission sets</h2></div></div></div><p>Permission sets allow you to further control access to the system for the users in your organization. They can be considered as a method to fine-tune the permissions for selected individuals and enable access in a similar way to the setting up of profiles.</p><p>While an individual user can have only one profile, you can assign multiple permissions and permission sets to users. For example, you can create a permission set called <span class="strong"><strong>Convert Leads</strong></span>, say, that provides the facility for converting and transfer of <span class="strong"><strong>Leads</strong></span>, using the App Permissions and assign it to a user who has a profile that does not provide Lead Conversion. You can create a permission set called Export Reports, say, that uses the System Permissions Export Reports to allow specific users to export data from reports. You can also create a permission set called Access Widget, using an <span class="strong"><strong>Object Settings</strong></span> permission, which is associated to a custom object called Widget that is set in the OWDs as <span class="strong"><strong>Private</strong></span>. Here, you can assign it to a user who has a profile that does not include the ability to access Widgets through their profile settings.</p><p>It is a two-step process to set up permission sets for users which includes:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Creating the permission set from the <span class="strong"><strong>Permission Set</strong></span> edit page.</li><li class="listitem">Assigning the user to the permission set from the <span class="strong"><strong>User</strong></span> edit page.</li></ol></div><div class="section" title="Creating the permission set from the Permission Set edit page"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec127"/>Creating the permission set from the Permission Set edit page</h3></div></div></div><p>To view and manage your organization's permission set, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Manage Users</strong></span> | <span class="strong"><strong>Permission Sets</strong></span>. For a new permission set, click on the <span class="strong"><strong>New</strong></span> button, and complete the sections permission set information and Select the type of users who will use this permission set. Now edit the <span class="strong"><strong>Object Permissions</strong></span> and <span class="strong"><strong>Field Permissions</strong></span> and choose the required object.</p><p>The following screenshot shows the creation of a permission set that allows users to access the widgets object (which is set to Private in the Organization-Wide Default access model):</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_008.jpg" alt="Creating the permission set from the Permission Set edit page"/></div><p>
</p></div><div class="section" title="Assigning the user to the permission set from the User edit page"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec128"/>Assigning the user to the permission set from the User edit page</h3></div></div></div><p>To view and manage which of your users are assigned to permission sets, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Manage Users</strong></span> | <span class="strong"><strong>Users</strong></span>. Now choose a user by clicking on their <span class="strong"><strong>Username</strong></span>.</p><p>Click on <span class="strong"><strong>Permission Set Assignments</strong></span> and then <span class="strong"><strong>Edit Assignment</strong></span> to view and select from the list of available permissions. The following screenshot shows the resulting section:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_009.jpg" alt="Assigning the user to the permission set from the User edit page"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note177"/>Note</h3><p>You can create up to 1,000 permission sets for your organization.</p></div></div><p>You can group multiple permissions into a permission set to create specific profile-like permissions without actually having to create or clone complete profiles which are often unnecessary and time-consuming.</p></div></div></div>
<div class="section" title="Role hierarchy"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec66"/>Role hierarchy</h1></div></div></div><p>Once the Organization-Wide Defaults have been established, you can use a role hierarchy to ensure that managers can view and edit the same records as their line reports (or subordinates). Users at any given role level are always able to view, edit, and report on all data owned by or shared with users below them in the hierarchy, unless the OWD settings specify to ignore the hierarchies.</p><p>To view and manage your organization's role hierarchy, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Manage Users</strong></span> | <span class="strong"><strong>Roles</strong></span> as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_010.jpg" alt="Role hierarchy"/></div><p>
</p><p>Here you can choose to view the hierarchy in one of the following options:</p><div class="section" title="Show in tree view"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec129"/>Show in tree view</h2></div></div></div><p>This view displays a visual representation of the parent-child relationships between your roles. Click on <span class="strong"><strong>Expand All</strong></span> to see all roles or <span class="strong"><strong>Collapse All</strong></span> to see only top-level roles. To expand or collapse an individual role node, you may click on the plus [<span class="strong"><strong>+</strong></span>] or minus [<span class="strong"><strong>-</strong></span>] icon as shown in the preceding screenshot.</p></div><div class="section" title="Show in sorted list view"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec130"/>Show in sorted list view</h2></div></div></div><p>This view displays the roles as a list that you can sort alphabetically by role name, parent role (Reports to), or report display name. If your organization has a large number of roles, this view provides a far easier way to navigate the hierarchy as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_011.jpg" alt="Show in sorted list view"/></div><p>
</p><p>To show a filtered list of roles, select a predefined list from the <span class="strong"><strong>View</strong></span> drop-down list, or click on <span class="strong"><strong>Create New View</strong></span> to define your own custom view of roles. To edit or delete any view you have created, select it from the <span class="strong"><strong>View</strong></span> drop-down list and click on the <span class="strong"><strong>Edit</strong></span> link. Once in the <span class="strong"><strong>Edit View</strong></span> page you can click on the <span class="strong"><strong>Delete</strong></span> button to delete the list view.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note178"/>Note</h3><p>The columns that are shown in <span class="strong"><strong>Show in sorted list view</strong></span> screen are <span class="strong"><strong>Action</strong></span>, <span class="strong"><strong>Role</strong></span>, <span class="strong"><strong>Reports to</strong></span>, and <span class="strong"><strong>Report Display Name</strong></span> and the columns can be sorted</p></div></div></div><div class="section" title="Show in List View"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec131"/>Show in List View</h2></div></div></div><p>This view displays the roles as an indented list of roles and their child nodes, grouped alphabetically by the name of the top-level role as follows:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_012.jpg" alt="Show in List View"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note179"/>Note</h3><p>The columns that are shown in Show in list view screen are role, reports to, and report display name and the columns cannot be sorted.</p></div></div><p>To create a role, click on <span class="strong"><strong>New Role</strong></span> or <span class="strong"><strong>Add Role</strong></span>, depending on whether your view of roles is using the list view or tree view, and enter the role fields as needed.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note180"/>Note</h3><p>You can create up to 500 roles for your organization at the time of writing.</p></div></div><p>To edit a role, click on <span class="strong"><strong>Edit</strong></span> next to a role name, then update the role fields as needed. You can delete a role, by clicking on <span class="strong"><strong>Del</strong></span> next to the role name.</p><p>To assign other users to a role, click on <span class="strong"><strong>Assign</strong></span> next to the role name and to view detailed information about a role, click on the role name.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note181"/>Note</h3><p>If your organization uses territory management, forecasts are based on the territory hierarchy instead of the role hierarchy.</p></div></div><p>Role hierarchies do not need to represent your company's organization chart and instead, each role in the hierarchy should be considered as a level of data access that your users or groups in Salesforce require.</p><p>Depending on your sharing settings, roles can control the level of visibility that users have into your organizations data. Users at a particular role level can view, edit, and report on all data that is owned by, or has been shared with, users below them in the hierarchy. This is assuming your organization's sharing mechanism for that object type does not specify otherwise.</p><p>Specifically, in the Organization-wide defaults related list, if the Grant Access Using Hierarchies option is disabled for a custom object, say, then only the record owner and users granted access by the organization-wide defaults can access that custom object's records.</p><p>Although, it is possible to create a user record without a role, users would need to be assigned to a role, so that their records will appear in opportunity reports, forecast roll-ups, and any other display based on roles.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note182"/>Note</h3><p>When an account owner is not assigned a role, the sharing access for related contacts is <span class="strong"><strong>Read/Write</strong></span>, provided the Organization-wide default for contacts is not <span class="strong"><strong>Controlled by Parent</strong></span>. Sharing access on related opportunities and cases is <span class="strong"><strong>No Access</strong></span>.</p></div></div><p>Users that are to have access to all records in Salesforce CRM should be set at the top-most position of the role hierarchy.</p><p>When you change a user's role, any relevant sharing rules are re-evaluated to add or remove access to records as necessary.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip183"/>Tip</h3><p>It is not necessary to create individual roles for each and every job title within your company. Instead, aim to define a hierarchy of roles that will help to control the access of information entered by users in lower level roles.</p></div></div><p>To view detailed information about a role, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Manage Users</strong></span> | <span class="strong"><strong>Roles</strong></span>. Clicking on the role name will present the role details page as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_013.jpg" alt="Show in List View"/></div><p>
</p><p>To view the <span class="strong"><strong>Role Detail</strong></span> page for a parent or sibling role, click the <span class="strong"><strong>Role Name</strong></span> in the hierarchy or siblings list.</p><p>To edit the role details, click on <span class="strong"><strong>Edit</strong></span>.</p><p>To remove the role from the hierarchy, click on <span class="strong"><strong>Delete</strong></span>.</p><p>Within the Users in Role related list you have the following options:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Assign a user to the role by clicking on <span class="strong"><strong>Assign Users to Role</strong></span></li><li class="listitem" style="list-style-type: disc">Add a user to your organization by clicking on <span class="strong"><strong>New User</strong></span></li><li class="listitem" style="list-style-type: disc">Modify user information by clicking on <span class="strong"><strong>Edit</strong></span> next to a user's name</li><li class="listitem" style="list-style-type: disc">View a user's details by clicking on the user's <span class="strong"><strong>Full Name</strong></span>, <span class="strong"><strong>Alias</strong></span>, or <span class="strong"><strong>Username</strong></span><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note184"/>Note</h3><p>When you edit roles, sharing rules are usually automatically re-evaluated to add or remove access to records as required. If these changes result in too many records changing at once, a message appears warning that the sharing rules will not be automatically re-evaluated, and that you have to manually recalculate them (as shown further). Sharing rules should be used when a user or group of users need access to records not already granted to them with either the role hierarchy setup or the organization-wide default settings. When you modify users in a role, any sharing rules are also re-evaluated to add or remove access as necessary.</p></div></div></li></ul></div></div></div>
<div class="section" title="Organization-wide defaults and sharing rules"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec67"/>Organization-wide defaults and sharing rules</h1></div></div></div><p>A user's level of access to records will never be more restrictive with the use of sharing rules than the options chosen in the OWDs. The OWDs are a minimum level of access for all users.</p></div>
<div class="section" title="Sharing rules"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec68"/>Sharing rules</h1></div></div></div><p>With sharing rules, you are in effect setting automatic extensions to your <span class="strong"><strong>Organization-Wide Sharing Defaults</strong></span> settings for particular sets of users. As shown in the following screenshot, this can be considered as opening up visibility and access to records for those users.</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_014.jpg" alt="Sharing rules"/></div><p>
</p><p>Sharing rules apply to:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">All new and existing records owned by the specified role or group members</li><li class="listitem" style="list-style-type: disc">Both active and inactive users</li></ul></div><p>Sharing rules extend the access specified by OWDs and the role hierarchy.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note185"/>Note</h3><p>Sharing rules can never be stricter than your OWDs settings and allow wider data access for the included users or groups of users. To define sharing rules, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Security Controls</strong></span> | <span class="strong"><strong>Sharing Settings</strong></span>. Now scroll down to the lower part of the page to reveal the <span class="strong"><strong>Sharing Rules</strong></span> sections.</p></div></div><p>The following screenshot shows the <span class="strong"><strong>Sharing Rules</strong></span> page where there are sections to set the sharing rules for the various standard objects within the application, such as <span class="strong"><strong>Lead</strong></span>, <span class="strong"><strong>Account</strong></span>, and <span class="strong"><strong>Contact</strong></span>, as well as any custom objects in your organization:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_015.jpg" alt="Sharing rules"/></div><p>
</p><p>Within the <span class="strong"><strong>Sharing Rules</strong></span> setup section, the following object sharing rules can be applied:</p><div class="section" title="Account sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec132"/>Account sharing rules</h2></div></div></div><p>These rules are based on the account owner or other criteria, including account record types or field values, and set the default sharing access for accounts and their associated <span class="strong"><strong>Contract</strong></span>, <span class="strong"><strong>Asset</strong></span>, <span class="strong"><strong>Opportunity</strong></span>, <span class="strong"><strong>Case</strong></span>, and (optionally) <span class="strong"><strong>Contact</strong></span> records.</p></div><div class="section" title="Account territory sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec133"/>Account territory sharing rules</h2></div></div></div><p>These rules are based on territory assignment and set the default sharing access for <span class="strong"><strong>Account</strong></span> and their associated <span class="strong"><strong>Case</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Contract</strong></span>, and <span class="strong"><strong>Opportunity</strong></span> records.</p></div><div class="section" title="Campaign sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec134"/>Campaign sharing rules</h2></div></div></div><p>These rules are based on Campaign owner and set the default sharing access for the individual Campaign records.</p></div><div class="section" title="Case sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec135"/>Case sharing rules</h2></div></div></div><p>These rules are based on the Case owner or other criteria, including case record types or field values and set the default sharing access for the individual case and associated account records.</p></div><div class="section" title="Contact sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec136"/>Contact sharing rules</h2></div></div></div><p>These rules are based on the Contact owner or other criteria, including contact record types or field values and set the default sharing access for the individual contact and associated account records.</p></div><div class="section" title="Lead sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec137"/>Lead sharing rules</h2></div></div></div><p>These rules are based on the Lead owner and set the default sharing access for the individual lead records.</p></div><div class="section" title="Opportunity sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec138"/>Opportunity sharing rules</h2></div></div></div><p>These rules are based on the Opportunity owner or other criteria, including opportunity record types or field values and set the default sharing access for the individual opportunity and their associated account records.</p></div><div class="section" title="User sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec139"/>User sharing rules</h2></div></div></div><p>These rules are based on Group membership (described later in this chapter) or other criteria and set the default sharing access for the individual user records.</p></div><div class="section" title="Custom object sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec140"/>Custom object sharing rules</h2></div></div></div><p>These rules are based on the custom object record owner or other criteria, including custom object record types or field values and set default sharing access for individual custom object records.</p></div><div class="section" title="Groups"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec141"/>Groups</h2></div></div></div><p>Groups allow you to simplify the setting up of OWD sharing access via a sharing rule for sets of users or for individual users to selectively share their records with other users.</p><div class="section" title="Public groups"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec129"/>Public groups</h3></div></div></div><p>Public groups are sets of users that only administrators are permitted to create and edit. However, when created, public groups can be used by everyone in the organization.</p><p>Public groups may contain individual users, users in a particular role or territory, users in a specified role along with all the users below that role in the role hierarchy, or other public groups.</p></div><div class="section" title="Personal groups"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec130"/>Personal groups</h3></div></div></div><p>Personal groups are sets of users that everyone can create and edit for their personal use.</p><p>Personal groups may contain individual users, public groups, the users in a particular role or territory, or the users in a particular role along with all the users below that role or in the hierarchy.</p></div></div><div class="section" title="Effects of adding or modifying sharing rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec142"/>Effects of adding or modifying sharing rules</h2></div></div></div><p>When you add a new sharing rule, the access levels for the sharing rule are calculated and you are provided with a warning confirmation dialog message, as shown in the following screenshot, indicating that this operation could take a significant time:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_016.jpg" alt="Effects of adding or modifying sharing rules"/></div><p>
</p><p>The effects of changing or deleting sharing rules, as well as the transferring of records between users, cause re-evaluation of appropriate record access for the impacted users.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note186"/>Note</h3><p>If these changes affect too many records at once, a message appears warning that the sharing rules will not be automatically re-evaluated, and you must manually recalculate them.</p></div></div><p>The following list outlines what changes can be done to <span class="strong"><strong>Sharing Rules</strong></span> and the consequence of applying these changes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">When you change the access levels for a sharing rule, all existing records are automatically updated to reflect the new access levels</li><li class="listitem" style="list-style-type: disc">When you delete a sharing rule, the sharing access created by that rule is automatically removed</li><li class="listitem" style="list-style-type: disc">When you transfer records from one user to another, the sharing rules are re-evaluated to add or remove access to the transferred records as necessary</li><li class="listitem" style="list-style-type: disc">When you modify which users are in a group or role, any sharing rules are re-evaluated to add or remove access to these users as necessary</li><li class="listitem" style="list-style-type: disc">Users higher in the role hierarchy are automatically granted the same access that users below them in the hierarchy have from a sharing rule<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note187"/>Note</h3><p>When you edit groups, roles, and territories, sharing rules are usually automatically re-evaluated to add or remove access as needed. Manually recalculating sharing rules can be performed at any time.</p></div></div></li></ul></div><p>To manually recalculate sharing rules, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Security Controls</strong></span> | <span class="strong"><strong>Sharing Settings</strong></span>. Now scroll down to the lower part of the page to reveal the <span class="strong"><strong>Sharing Rules</strong></span> sections and in the <span class="strong"><strong>Sharing Rules</strong></span> related list for the object you want, click on <span class="strong"><strong>Recalculate</strong></span> as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_017-1.jpg" alt="Effects of adding or modifying sharing rules"/></div><p>
</p></div><div class="section" title="Criteria-based sharing"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec143"/>Criteria-based sharing</h2></div></div></div><p>Criteria-based sharing rules are used to control which users have access to records based on specified field values on the records. For example, the account object has a custom picklist field named <span class="strong"><strong>Market</strong></span>. You can create a criteria-based sharing rule that shares all accounts in which the <span class="strong"><strong>Market</strong></span> field is set to <span class="strong"><strong>US</strong></span> with, say, a <span class="strong"><strong>North American Sales</strong></span> team in your organization as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_018.jpg" alt="Criteria-based sharing"/></div><p>
</p><p>Although criteria-based sharing rules are based on values in the records and not the record owners, a role or territory hierarchy still allows users higher in the hierarchy to access the records.</p><p>You can create criteria-based sharing rules for <span class="strong"><strong>Account</strong></span>, <span class="strong"><strong>Opportunity</strong></span>, <span class="strong"><strong>Case</strong></span>, <span class="strong"><strong>Contact</strong></span>, and <span class="strong"><strong>Custom</strong></span> object.</p><p>For example, a custom object has been created for Newsletter. You can create a criteria-based sharing rule that shares all newsletters in which the name is set to <span class="strong"><strong>International</strong></span> with the <span class="strong"><strong>International Sales</strong></span> team in your organization as follows:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_019.jpg" alt="Criteria-based sharing"/></div><p>
</p><p>Text and text area fields must be specified exactly, as they are case sensitive. For example, a criteria-based sharing rule that specifies <code class="literal">International</code> in a text field would not share records with <code class="literal">International</code> in the field.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip188"/>Tip</h3><p>
<span class="strong"><strong>Criteria-based sharing rule with text fields</strong></span></p><p>To create a criteria-based sharing rule that matches with several cases of a word, enter each value separated by a comma. For example, <code class="literal">International</code>, <code class="literal">international</code>, and use the <span class="strong"><strong>contains</strong></span> operator.</p></div></div><p>There is a restriction on the type of field that can be used for sharing as part of the Criteria-based sharing. Along with record types, the following list of fields can be set as criteria for sharing:</p><p>
<span class="strong"><strong>Auto Number</strong></span>, <span class="strong"><strong>Checkbox</strong></span>, <span class="strong"><strong>Date</strong></span>, <span class="strong"><strong>Date/Time</strong></span>, <span class="strong"><strong>E-mail</strong></span>, <span class="strong"><strong>Number</strong></span>, <span class="strong"><strong>Percent</strong></span>, <span class="strong"><strong>Phone</strong></span>, <span class="strong"><strong>Picklist</strong></span>, <span class="strong"><strong>Text</strong></span>, <span class="strong"><strong>Text Area</strong></span>, <span class="strong"><strong>URL</strong></span>, and <span class="strong"><strong>Lookup Relationship</strong></span> (to either User or Queue).</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note189"/>Note</h3><p>Up to 50 criteria-based sharing rules can be created per object.</p></div></div></div></div>
<div class="section" title="Manual sharing rules"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec69"/>Manual sharing rules</h1></div></div></div><p>Users can manually share certain types of records with other users within the Salesforce CRM application. Some objects that are shared automatically include access to all other associated records. For example, if a user shares one of their account records, then the granted user will also have access to all the opportunities and cases connected to that account.</p><p>Manual sharing rules are generally used either on a one-off basis to share a record or whenever there is difficulty trying to determine a consistent set of users, groups, and the associated rules that would be involved as a part of an Organization-Wide Sharing setting. To be able to grant sharing access for a record, the user must either be the record owner, a system administrator, a user in a role above the owner in the hierarchy, or any user that has been granted full access; or the Organization-Wide settings for that object must allow access through hierarchies.</p><p>Users grant access simply by clicking on the <span class="strong"><strong>Sharing</strong></span> button found on the <span class="strong"><strong>Record Detail</strong></span> page as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_020.jpg" alt="Manual sharing rules"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note190"/>Note</h3><p>The <span class="strong"><strong>Sharing</strong></span> button does not appear if the object's <span class="strong"><strong>Organization-Wide Sharing Defaults</strong></span> are set to <span class="strong"><strong>Public Read/Write</strong></span>.</p></div></div><div class="section" title="Manual Sharing for user records"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec144"/>Manual Sharing for user records</h2></div></div></div><p>You can specify whether the <span class="strong"><strong>Sharing</strong></span> button, used to grant others access to the user's own user record, is displayed on user detail pages.</p><p>To hide or display the user <span class="strong"><strong>Sharing</strong></span> button for all users, navigate to <span class="strong"><strong>Setup</strong></span> | <span class="strong"><strong>Security Controls</strong></span> | <span class="strong"><strong>Sharing Settings</strong></span>. Now click <span class="strong"><strong>Edit</strong></span> in the <span class="strong"><strong>Organization-Wide Defaults</strong></span> area and scroll to the bottom of the page.</p><p>To hide or display the <span class="strong"><strong>Sharing</strong></span> button on user detail pages select the <span class="strong"><strong>Manual User Record Sharing</strong></span> checkbox, as shown in the following screenshot, and then click <span class="strong"><strong>Save</strong></span>.</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_021.jpg" alt="Manual Sharing for user records"/></div><p>
</p></div><div class="section" title="Queues"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec145"/>Queues</h2></div></div></div><p>Queues allow groups of users to manage shared records.</p><p>A Queue is a location where records can be routed to await processing by a group member. The records remain in the queue until a user accepts them for processing or they are transferred to another queue.</p><p>When creating a new queue, you must specify the set of objects that are stored. Permitted objects for queues are leads, cases, service contracts, and custom objects. You must also specify the set of users that are allowed to retrieve records from the queue.</p><p>Records can be added to a queue either manually or through an automatic case or lead assignment rules upon which the owner of the record is changed to that of the queue.</p><p>Once records are added to a queue they remain there until they are either assigned to a user or retrieved by one of the queue members. Then the owner of the record is changed to the respective queue member user. Here, any queue member or any user located above a queue member in the role hierarchy can take ownership of records in a queue.</p></div><div class="section" title="Sharing access diagram"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec146"/>Sharing access diagram</h2></div></div></div><p>Many security options work together to determine whether users can view or edit a record. First, Salesforce checks whether the user's profile has object level permission to access that object. Then, Salesforce checks whether the user's profile has any administrative permissions, such as <span class="strong"><strong>View All Data</strong></span> or <span class="strong"><strong>Modify All Data</strong></span>.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note191"/>Note</h3><p>
<span class="strong"><strong>The View All Data</strong></span> profile or permission set assignment allows the user to read all records and the <span class="strong"><strong>Modify All Data</strong></span> profile or permission set assignment allows the user to update and delete records regardless of the data access security model of that object type.</p></div></div><p>Finally, Salesforce will check the ownership of the record. Here, the OWDs, role-level access, and any sharing rules will be checked to see if there are any rules that give the user access to that record.</p><p>The following flow diagram shows how users are affected by the different security options associated with record ownership and sharing models and rules that can be set:</p><p>
</p><div class="mediaobject"><img src="graphics/image_04_022.jpg" alt="Sharing access diagram"/></div><p>
</p><p>In addition to the check to determine whether a user can view a record, shown in the previous screenshot, their profile (or permission set) must be set with the view permission for the relevant object.</p><p>In addition to the check to determine whether a user can edit a record, shown in the previous screenshot, their profile (or permission set) must be set with the edit permission for the relevant object.</p></div></div>
<div class="section" title="Questions to test your knowledge"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec70"/>Questions to test your knowledge</h1></div></div></div><p>You are now presented with questions about the key features of Salesforce CRM administration in the areas of Security and Access which have been covered in this chapter. The answers can be found at the end of the chapter.</p><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec147"/>Questions</h2></div></div></div><p>We present five questions to verify your understanding of data access levels, OWDs, and data access security model exceptions.</p><div class="section" title="Question 1 - Field-level access"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec131"/>Question 1 - Field-level access</h3></div></div></div><p>Which of the following can be used to control field-level access to give viewing rights to a user's profile? (Select one)</p><p>
<span class="strong"><strong>a</strong></span>) Profile</p><p>
<span class="strong"><strong>b</strong></span>) Role Hierarchy</p><p>
<span class="strong"><strong>c</strong></span>) Field Level Security</p><p>
<span class="strong"><strong>d</strong></span>) Permission Set</p></div><div class="section" title="Question 2 - Data access levels"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec132"/>Question 2 - Data access levels</h3></div></div></div><p>For which of the following levels can data access be configured? (Select all that apply) except:</p><p>
<span class="strong"><strong>a</strong></span>) Organization-level</p><p>
<span class="strong"><strong>b</strong></span>) Object-level</p><p>
<span class="strong"><strong>c</strong></span>) Profile-level</p><p>
<span class="strong"><strong>d</strong></span>) Page Layout-level</p><p>
<span class="strong"><strong>e</strong></span>) Record-level</p></div><div class="section" title="Question 3 - Record-level access"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec133"/>Question 3 - Record-level access</h3></div></div></div><p>Which of the following can be used to control record-level access? (Select all that apply)</p><p>
<span class="strong"><strong>a</strong></span>) Permission Sets</p><p>
<span class="strong"><strong>b</strong></span>) Role Hierarchy</p><p>
<span class="strong"><strong>c</strong></span>) Profile</p><p>
<span class="strong"><strong>d</strong></span>) Sharing Rules</p><p>
<span class="strong"><strong>e</strong></span>) Organization-Wide Defaults</p></div><div class="section" title="Question 4 - Organization-Wide Defaults"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec134"/>Question 4 - Organization-Wide Defaults</h3></div></div></div><p>An object has an Organization-Wide Default set to Public Read/Write. Which feature(s) can be used to restrict access to that object? (Select all that apply)</p><p>
<span class="strong"><strong>a</strong></span>) Page Layout</p><p>
<span class="strong"><strong>b</strong></span>) Record Type</p><p>
<span class="strong"><strong>c</strong></span>) Role Hierarchy</p><p>
<span class="strong"><strong>d</strong></span>) Profile</p><p>
<span class="strong"><strong>e</strong></span>) None of the above</p></div><div class="section" title="Question 5 - Role Hierarchy"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec135"/>Question 5 - Role Hierarchy</h3></div></div></div><p>Which statements(s) are correct for the Role Hierarchy in Salesforce CRM? (Select all that apply)</p><p>
<span class="strong"><strong>a</strong></span>) Roles control the level of visibility that users have of an organization's data</p><p>
<span class="strong"><strong>b</strong></span>) Users at a role level can view all data that is owned by users below them in the hierarchy</p><p>
<span class="strong"><strong>c</strong></span>) Users can be assigned to multiple roles</p><p>
<span class="strong"><strong>d</strong></span>) Users must be associated to a single role</p></div><div class="section" title="Question 6 - Data Access Security Model Exception"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec136"/>Question 6 - Data Access Security Model Exception</h3></div></div></div><p>Which of the following profile permissions allows the user to update any record of that object type, regardless of the data access security model? (Select one)</p><p>
<span class="strong"><strong>a</strong></span>) Session Settings</p><p>
<span class="strong"><strong>b</strong></span>) Password Policies</p><p>
<span class="strong"><strong>c</strong></span>) Modify All Data</p><p>
<span class="strong"><strong>d</strong></span>) View All Data</p><p>
<span class="strong"><strong>e</strong></span>) None of the Above</p></div></div><div class="section" title="Answers"><div class="titlepage"><div><div><h2 class="title"><a id="ch04lvl2sec148"/>Answers</h2></div></div></div><p>Here are the answers to the six questions about about the features of Salesforce CRM administration in the areas of Security and Access.</p><div class="section" title="Answer 1- Field-level access"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec137"/>Answer 1- Field-level access</h3></div></div></div><p>The answer is <span class="strong"><strong>c</strong></span>) Field Level Security.</p></div><div class="section" title="Answer 2 - Data Access Levels"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec138"/>Answer 2 - Data Access Levels</h3></div></div></div><p>The answer is <span class="strong"><strong>a</strong></span>) Organization-level, <span class="strong"><strong>b</strong></span>) Object-level, and <span class="strong"><strong>e</strong></span>) Record-level.</p></div><div class="section" title="Answer 3 - Record-level access"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec139"/>Answer 3 - Record-level access</h3></div></div></div><p>The answer is <span class="strong"><strong>b</strong></span>) Role Hierarchy, <span class="strong"><strong>d</strong></span>) Sharing Rules, and <span class="strong"><strong>e</strong></span>) Organization-Wide Defaults</p><p>The choices <span class="strong"><strong>a</strong></span>) Permission Sets and <span class="strong"><strong>c</strong></span>) Profiles allow you set security at object level and not at record level.</p></div><div class="section" title="Answer 4 - Organization-Wide Defaults"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec140"/>Answer 4 - Organization-Wide Defaults</h3></div></div></div><p>The answer is <span class="strong"><strong>d</strong></span>) Profile.</p></div><div class="section" title="Answer 5 - Role Hierarchy"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec141"/>Answer 5 - Role Hierarchy</h3></div></div></div><p>The answer is<span class="strong"><strong> a</strong></span>) Roles control the level of visibility that users have into an organization's data and <span class="strong"><strong>b</strong></span>) Users at a role level can view all data that is owned by users below them in the hierarchy.</p><p>
<span class="strong"><strong>c</strong></span>) Users can be assigned to multiple roles and <span class="strong"><strong>d</strong></span>) Users must be associated to a single role are not correct. Users may optionally be assigned to a role.</p></div><div class="section" title="Answer 6 - Data Access Security Model Exception"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl3sec142"/>Answer 6 - Data Access Security Model Exception</h3></div></div></div><p>The answer is <span class="strong"><strong>c</strong></span>) Modify All Data.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch04lvl1sec71"/>Summary</h1></div></div></div><p>In this chapter, we described the features that provide data access and security configuration for system administrators and their levels of data access. <span class="strong"><strong>Organization-Wide Sharing Defaults</strong></span>, <span class="strong"><strong>Roles</strong></span>, and other sharing settings were described.</p><p>We looked at how the access to records could be further widened through the use of Permission Sets, Sharing Rules, criteria-based sharing, and also manual sharing.</p><p>Finally, we posed some questions to help clarify some of the key features of Salesforce CRM administration in the areas of Security and Access.</p><p>In the next chapter, we will be looking at ways of loading and extracting data from Salesforce CRM, where we will look at the utilities available for importing and exporting data to and from Salesforce. Included in the next chapter is a look at Data Loader and the data import wizards.</p></div></body></html>