<html><head></head><body><div class="chapter" title="Chapter&#xA0;5.&#xA0;Managing Data in Salesforce CRM"><div class="titlepage"><div><div><h1 class="title"><a id="ch05"/>Chapter 5. Managing Data in Salesforce CRM</h1></div></div></div><p>In the previous chapter, we looked at the features that provide data access and security configuration by system administrators and discussed the four main levels where data access and security can be applied, namely: organization level, object level, field level, and finally, at the record level.</p><p>In this chapter, we will discuss the options for improving data quality using data validation rules and dependent fields. We will also outline the features and tools available within Salesforce CRM that allow you to import and export data into and out of the Salesforce system.</p><p>Finally, we will address a number of questions about the key features of Salesforce CRM administration in the area of data management.</p><p>The following topics will be covered in this chapter:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Data quality</li><li class="listitem" style="list-style-type: disc">Data validation rules</li><li class="listitem" style="list-style-type: disc">Dependent picklists</li><li class="listitem" style="list-style-type: disc">Data import and export utilities</li><li class="listitem" style="list-style-type: disc">Data Import Wizard</li><li class="listitem" style="list-style-type: disc">Individual import wizards</li><li class="listitem" style="list-style-type: disc">Data Loader</li><li class="listitem" style="list-style-type: disc">Data Loader and import wizards compared</li><li class="listitem" style="list-style-type: disc">Best practice for mass data updating</li><li class="listitem" style="list-style-type: disc">Export backup data</li><li class="listitem" style="list-style-type: disc">Recycle Bin</li><li class="listitem" style="list-style-type: disc">Data storage utilization</li></ul></div><p>Now let's begin by looking at the key features available for you to help control the data that users enter into the Salesforce CRM system.</p><div class="section" title="Data quality"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec72"/>Data quality</h1></div></div></div><p>In 
<a class="link" href="ch03.html" title="Chapter 3. Configuring Objects and Apps">Chapter 3</a>, <span class="emphasis"><em>Configuring Objects and Apps</em></span>, we looked at how we can set the required field and auto number field properties on custom fields to help improve the quality and maintain the data integrity of records in the system.</p><p>Salesforce also provides other data quality mechanisms, such as:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Data validation rules</li><li class="listitem" style="list-style-type: disc">Dependent picklists</li></ul></div><div class="section" title="Data validation rules"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec149"/>Data validation rules</h2></div></div></div><p>Data validation rules can be applied to both custom and standard fields and are used to verify that the data entered in a record meets the criteria you have specified before the record can be saved.</p><p>Validation rules contain a formula or expression that evaluates the data in one or more fields and returns a value of either <code class="literal">true</code> or <code class="literal">false</code>.</p><p>The logic that is used for validation rules is to seek an error condition, upon which a pre-configured error message is shown to the user whenever the formula or expression returns a value of <code class="literal">true</code>.</p><p>When validation rules are defined for a field or set of fields, the following actions are fired when the user creates a new record, or edits an existing record and then clicks on the <span class="strong"><strong>Save</strong></span> button:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Salesforce executes the validation rules and if all data is valid, the record is saved</li><li class="listitem" style="list-style-type: disc">For any invalid data, Salesforce displays the associated error message without saving the record</li></ul></div><p>You can specify the error message to display when a validation rule gets fired, along with the option to either show the error message inline next to a field or at the top of the page. For example, your error message could be The close date must occur after today's date. As stated you can choose to display the error message at the top of the page or near a field which you can select; this can be the field that is causing the validation rule to fire, which is typical, or you can choose a different field. Like all other Salesforce error messages, validation rule errors are displayed in red text and are preceded by the word <code class="literal">Error</code>.</p><p>Validation rules apply to all new and updated records for an object. If your organization has multiple page layouts for the object on which you create a validation rule, you should verify that the validation rule operates as expected on each layout. Also, if you have any data integrations that affect the object, then you should also verify that the validation rule operates as intended.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note192"/>Note</h3><p>Even if the fields referenced in the validation rule are not visible on the page layout, the validation rules still apply and will result in an error message if the rule criteria are met.</p></div></div><p>To begin using validation rules, navigate to <span class="strong"><strong>Setup | Customize</strong></span>. For standard objects, go to the appropriate activity, standard object, or user's link from the menu, and click on <span class="strong"><strong>Validation Rules</strong></span>.</p><p>For custom objects, navigate to <span class="strong"><strong>Setup | Create | Objects</strong></span>. Now go to the custom object.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note193"/>Note</h3><p>Validation rules are listed in the <span class="strong"><strong>Validation Rules</strong></span> list.</p></div></div><p>To begin adding a new validation rule, click on the <span class="strong"><strong>New</strong></span> button in the <span class="strong"><strong>Validation Rules</strong></span> section, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_001.jpg" alt="Data validation rules"/></div><p>
</p><p>Now enter the properties of your validation rule, which should include the properties detailed in the following section:</p><div class="section" title="Field description section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec143"/>Field description section</h3></div></div></div><p>Add a <span class="strong"><strong>Rule Name</strong></span>, which is a unique identifier of up to 80 characters, with no spaces or special characters (such as extended characters).</p><p>The <span class="strong"><strong>Active</strong></span> checkbox, which is used to set the rule, is enabled.</p><p>Fill in the <span class="strong"><strong>Description field</strong></span>, which is an optional 255 characters (or fewer) textbox that you can set to describe the purpose of the validation rule.</p></div><div class="section" title="Error condition formula section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec144"/>Error condition formula section</h3></div></div></div><p>The formula that is entered here forms the expression used to validate the field.</p></div><div class="section" title="Error message section"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec145"/>Error message section</h3></div></div></div><p>The <span class="strong"><strong>Error Message</strong></span> field is the text to be displayed to the user when a record update fails the validation rule.</p><p>The <span class="strong"><strong>Error Location</strong></span> is used to determine where on the page the error is displayed to the user. Options available are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Top of Page</li><li class="listitem" style="list-style-type: disc">Field</li></ul></div><p>The <span class="strong"><strong>Top of Page</strong></span> option sets the error message to be displayed at the top of the page. To display the error next to a field, choose the <span class="strong"><strong>Field</strong></span> option and then select the appropriate field.</p><p>If the error location is a field, the validation rule is also listed on the <span class="strong"><strong>Detail</strong></span> page of that field.</p><p>You can click on <span class="strong"><strong>Check Syntax</strong></span> to check your formula for errors. Finally, click on Save to finish or <span class="strong"><strong>Save &amp; New</strong></span> to create additional validation rules.</p><p>As an example, the following formula text shows an opportunity validation rule to ensure that users cannot enter a date in the past into the <span class="strong"><strong>Close Date</strong></span> field:</p><p>The formula would be: <code class="literal">CloseDate &lt; TODAY()</code>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note194"/>Note</h3><p>If the error location is set to a field that is later deleted, or a field that is read-only or not visible on the page layout, Salesforce automatically changes the error location to <span class="strong"><strong>Top of Page</strong></span>.</p></div></div><p>An example error message for this validation rule is <span class="strong"><strong>Close Date Must Be a Future Date</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_002.jpg" alt="Error message section"/></div><p>
</p><p>The validation rule will be fired when the preceding formula is true and will present the error message as per the preceding example, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_004.jpg" alt="Error message section"/></div><p>
</p></div></div><div class="section" title="Dependent picklists"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec150"/>Dependent picklists</h2></div></div></div><p>Dependent picklists help to make data more accurate and consistent by applying filters.</p><p>A dependent field works in conjunction with a controlling field to filter its values. The value chosen in the controlling field affects the values in the dependent field.</p><p>In the following screenshot, we see the <span class="strong"><strong>Speaker Status</strong></span> field being controlled by the <span class="strong"><strong>Speaker Event Status</strong></span> field:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_006.jpg" alt="Dependent picklists"/></div><p>
</p><div class="section" title="Dependent and controlling picklists"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec146"/>Dependent and controlling picklists</h3></div></div></div><p>Dependent and controlling picklists work in conjunction where the value chosen in the controlling picklist dynamically changes the values available in the dependent picklist.</p><p>Both controlling and dependent picklists are indicated on the edit pages by an icon. By hovering the mouse over these icons, users can see the name of the controlling or dependent picklist.</p><p>To define a dependent picklist, navigate to the <span class="strong"><strong>Fields</strong></span> area of the appropriate object.</p><p>For standard objects, navigate to <span class="strong"><strong>Setup | Customize</strong></span>. Now select the appropriate object from the <span class="strong"><strong>Customize</strong></span> menu and click on <span class="strong"><strong>Fields</strong></span>.</p><p>For custom objects, navigate to <span class="strong"><strong>Setup | Create | Objects</strong></span>. Now select one of the custom objects in the list.</p><p>For custom task and event fields, navigate to <span class="strong"><strong>Setup | Customize | Activities | Activity Custom Fields</strong></span>.</p><p>Now click on the <span class="strong"><strong>Field Dependencies </strong></span>in the <span class="strong"><strong>Custom Fields &amp; Relationships</strong></span> section, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_007.jpg" alt="Dependent and controlling picklists"/></div><p>
</p><p>Now click on New to navigate to the <span class="strong"><strong>New Field Dependency</strong></span> screen and then choose a <span class="strong"><strong>Controlling Field</strong></span> and a <span class="strong"><strong>Dependent Field</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_008.jpg" alt="Dependent and controlling picklists"/></div><p>
</p><p>Click on <span class="strong"><strong>Continue</strong></span> to display the next screen, where you are presented with the field dependency matrix to specify the dependent picklist values that are available when a user selects each controlling field value.</p><p>The field dependency matrix lets you specify which dependent picklist values will be available when a user selects each controlling field value. The top row of the matrix shows the controlling field values, while the columns show the dependent field values.</p><p>Using this matrix, you can include or exclude values. Included values are available in the dependent picklist when a value in the controlling field is selected and excluded fields are not available.</p><p>Here you can include or exclude values by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Double-click values to include them. Included values are then highlighted(double-clicking again on any highlighted values will exclude it).</li><li class="listitem">To work with more than one value, you should press and hold the <span class="emphasis"><em>
<span class="strong"><strong>Shift</strong></span>
</em></span> key and click on each value to select the required range of values, as shown in the following screenshot:<p>
</p><div class="mediaobject"><img src="graphics/image_05_009.jpg" alt="Dependent and controlling picklists"/></div><p>
</p><p>
</p></li></ol></div><p>After selecting the values, click on <span class="strong"><strong>Include Values</strong></span> to make the values available, or click on <span class="strong"><strong>Exclude Values</strong></span> to remove them from the list of available values.</p><p>You can also press and hold the <span class="emphasis"><em>
<span class="strong"><strong>Ctrl</strong></span>
</em></span> key and click on the individual values to select multiple values. Again, clicking on <span class="strong"><strong>Include Values</strong></span> makes the values available, and clicking on <span class="strong"><strong>Exclude Values</strong></span> removes them from the list of available values. By clicking a column header, you can select all the values in that column, as follows:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_010.jpg" alt="Dependent and controlling picklists"/></div><p>
</p><p>To change the values in your view, you can do the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Click on <span class="strong"><strong>View All </strong></span>to view all available values at once</li><li class="listitem" style="list-style-type: disc">Click on <span class="strong"><strong>Go To </strong></span>and choose a controlling value to view all the dependent values in that column</li><li class="listitem" style="list-style-type: disc">Click on <span class="strong"><strong>Previous</strong></span> or <span class="strong"><strong>Next</strong></span> to view the values in columns that are on the previous or next page</li><li class="listitem" style="list-style-type: disc">Click on <span class="strong"><strong>
<span class="strong"><strong>View</strong></span> sets of 5</strong></span> to view five columns at a time</li><li class="listitem" style="list-style-type: disc">Optionally, click on <span class="strong"><strong>Preview</strong></span> to test your selections before clicking <span class="strong"><strong>Save</strong></span></li></ul></div></div><div class="section" title="Controlling picklist restrictions and limitations"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec147"/>Controlling picklist restrictions and limitations</h3></div></div></div><p>There are various restrictions and limitations associated with the creation and configuration of dependent and controlling Picklist fields.</p><div class="section" title="Controlling fields restrictions and limitations"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec24"/>Controlling fields restrictions and limitations</h4></div></div></div><p>There are various nuances associated with the creation and configuration of dependent and controlling fields. The following restrictions and limitations exist for controlling fields:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Standard Picklist fields can be controlling fields</li><li class="listitem" style="list-style-type: disc">Checklist fields can be controlling fields</li><li class="listitem" style="list-style-type: disc">Default values can be set for controlling fields</li><li class="listitem" style="list-style-type: disc">Multi-select Picklist fields cannot be controlling fields</li><li class="listitem" style="list-style-type: disc">There is a maximum of 300 values allowed in a controlling field</li></ul></div></div><div class="section" title="Dependent fields restrictions and limitations"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec25"/>Dependent fields restrictions and limitations</h4></div></div></div><p>The following restrictions exist for dependent fields:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Standard Picklist fields cannot be dependent fields</li><li class="listitem" style="list-style-type: disc">Checkboxes cannot be dependent fields</li><li class="listitem" style="list-style-type: disc">Default values cannot be set for dependent fields</li><li class="listitem" style="list-style-type: disc">Multi-select Picklist fields can be dependent picklists</li></ul></div></div><div class="section" title="Converting fields"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec26"/>Converting fields</h4></div></div></div><p>When converting existing fields to dependent picklists or controlling fields, this can be done without affecting the existing values in records. Only for changes going forward are the dependency rules applied to the updates to existing records or new records.</p></div><div class="section" title="Page layouts"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec27"/>Page layouts</h4></div></div></div><p>For best practice and improved user visibility, make sure the dependent picklist is lower on the page layout than its controlling field.</p><p>If a dependent picklist is required and no values are available for it based on the controlling field value, users can save the record without entering a value. In this scenario, the record is saved with no value for that field.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip195"/>Tip</h3><p>Make sure controlling fields are added to any page layouts that contain their associated dependent picklists. If the controlling field is not on the same page layout, the dependent picklist shows no available values.</p></div></div></div><div class="section" title="Record types"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec28"/>Record types</h4></div></div></div><p>The values in controlling fields are determined by the pre-selected record type and the values in dependent picklists are determined by both the record type and the selected controlling field value.</p><p>The values available in dependent picklists are, therefore, an intersection of the pre-selected record type and subsequent controlling field selection.</p></div><div class="section" title="Importing data"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl4sec29"/>Importing data</h4></div></div></div><p>The data import utilities do not consider field dependencies unless the picklist value has the <span class="strong"><strong>Strictly enforce picklist values</strong></span> option enabled.</p><p>Therefore, any value can be imported into a dependent picklist field, regardless of the value imported for a controlling field.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note196"/>Note</h3><p>The <span class="strong"><strong>Strictly enforce picklist values</strong></span> setting within the setup screen for a picklist field prevents the field from allowing values that are not specified in the picklist options, even if the field is updated through the API. See <a class="link" href="ch03.html" title="Chapter 3. Configuring Objects and Apps">Chapter 3</a>, <span class="emphasis"><em>Configuring Objects and Apps</em></span>, for more details about field types.</p></div></div></div></div></div></div></div>
<div class="section" title="An overview of data import and export utilities"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec73"/>An overview of data import and export utilities</h1></div></div></div><p>Salesforce provides data utilities, which are available to import and export data to and from Salesforce. There is also a wide variety of third-party tools that allow data to be imported to and exported from Salesforce and use the publicly available Salesforce APIs to provide the data integration.</p><p>The third-party data import and export tools are not provided by Salesforce; therefore, we will not be covering these in this book. However, you can locate and find information about these tools via the AppExchange, a website provided by Salesforce that enables organizations to select additional apps to extend Salesforce CRM. The AppExchange is covered in detail in <a class="link" href="ch09.html" title="Chapter 9. Extending and Enhancing Salesforce CRM">Chapter 9</a>, <span class="emphasis"><em>Extending and Enhancing Salesforce CRM</em></span>, and can be accessed at the web URL: <a class="ulink" href="https://appexchange.salesforce.com">https://appexchange.salesforce.com</a>.</p><p>Looking at the available Salesforce-provided facilities for importing and exporting data, we have the following specific options:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Data Import Wizard</li><li class="listitem" style="list-style-type: disc">Individual import wizards</li><li class="listitem" style="list-style-type: disc">Import Accounts/Contacts</li><li class="listitem" style="list-style-type: disc">Import Leads</li><li class="listitem" style="list-style-type: disc">Import Solutions</li><li class="listitem" style="list-style-type: disc">Import Custom Objects</li><li class="listitem" style="list-style-type: disc">Data Loader<div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note197"/>Note</h3><p>At the time of writing, Salesforce has announced that the individual import wizards are to be retired in February 2017. Salesforce recommends users to use the <span class="strong"><strong>Data Import Wizard</strong></span> instead as the individual import wizards will no longer be available starting from the Spring '17 release.</p></div></div></li></ul></div><div class="section" title="Data Import Wizard"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec151"/>Data Import Wizard</h2></div></div></div><p>
<span class="strong"><strong>Data Import Wizard</strong></span> opens in a full browser window and provides a unified interface that lets you import data for a number of standard Salesforce objects, including <span class="strong"><strong>Account</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Leads</strong></span>, <span class="strong"><strong>CustomObject</strong></span>, and <span class="strong"><strong>Solution</strong></span>.</p><p>To access <span class="strong"><strong>Data Import Wizard</strong></span>, navigate to <span class="strong"><strong>Setup | Data Management | Data Import Wizard</strong></span>. Now click on the <span class="strong"><strong>Launch Wizard</strong></span> button, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_011.jpg" alt="Data Import Wizard"/></div><p>
</p></div><div class="section" title="Individual import wizards"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec152"/>Individual import wizards</h2></div></div></div><p>Salesforce individual import wizards open in a small pop-up window and present an easy-to-use multi-step wizard for importing new <span class="strong"><strong>Account (Person and Business Accounts)</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Leads</strong></span>, <span class="strong"><strong>Custom Object</strong></span>, or <span class="strong"><strong>Solution</strong></span> Object records into Salesforce.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note198"/>Note</h3><p>At the time of writing, Salesforce has announced that the individual import wizards are to be retired in February 2017. Salesforce recommends users to use the <span class="strong"><strong>Data Import Wizard</strong></span> instead as the individual import wizards will no longer be available starting from the Spring '17 release.</p></div></div><p>To access the individual import wizards, click on the tab for the required object and locate the <span class="strong"><strong>Tools </strong></span>section at the bottom of the page. As an example, the Leads import wizard is located as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_013.jpg" alt="Individual import wizards"/></div><p>
</p><p>The wizard can also be used for <span class="strong"><strong>Account (Person and Business Accounts)</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Leads</strong></span>, <span class="strong"><strong>Custom Object</strong></span>, or <span class="strong"><strong>Solution</strong></span> updates based on a matching identifier.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note199"/>Note</h3><p>
<span class="strong"><strong>Contact</strong></span> and <span class="strong"><strong>Leads</strong></span> can be updated by matching the e-mail address, and <span class="strong"><strong>
<span class="strong"><strong>Custom</strong></span> Object</strong></span> or <span class="strong"><strong>Solution</strong></span> may be updated based on custom object names, solution titles, Salesforce ID, or an external ID.</p></div></div><p>A <span class="strong"><strong>comma-separated value </strong></span>(<span class="strong"><strong>CSV</strong></span>) file format is required when using the import wizard where imports are limited to 50,000 records per session.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note200"/>Note</h3><p>
<span class="strong"><strong>Account</strong></span> and <span class="strong"><strong>Contact</strong></span> import wizards have a built-in de-duplicating functionality. Account can be matched using the account name and account site. For Contact, de-duplicating matching can be carried out using first name, last name, or e-mail address.</p></div></div></div></div>
<div class="section" title="Data Loader"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec74"/>Data Loader</h1></div></div></div><p>
<span class="strong"><strong>Data Loader</strong></span> is a client application available from Salesforce, which provides the facilities to bulk import and export data. Using <span class="strong"><strong>Data Loader</strong></span>, you can create, edit, and delete Salesforce records for both standard and custom objects. <span class="strong"><strong>Data Loader</strong></span> is supported for Windows XP, Windows 7, and Mac OS X.</p><p>The <span class="strong"><strong>Data Loader</strong></span> client application must first be installed onto your local machine. The installation files can be obtained by navigating to <span class="strong"><strong>Setup | Data Management | Data Loader</strong></span>.</p><p>Within the <span class="strong"><strong>Data Loader</strong></span> installation files download screen, you can choose the appropriate installation download link for your operating system using either Download <span class="strong"><strong>Data Loader </strong></span>for Windows or Download <span class="strong"><strong>Data Loader</strong></span> for Mac, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/image_05_015.jpg" alt="Data Loader"/></div><p>
</p><p>
<span class="strong"><strong>Data Loader</strong></span> can create, edit, or delete records for both standard and custom objects in Salesforce CRM. When importing data, <span class="strong"><strong>Data Loader</strong></span> loads data from (CSV) files (or from a database connection). When exporting data, <span class="strong"><strong>Data Loader</strong></span> exports records into CSV files. The CSV files can then be edited or used as data-key templates for data imports into Salesforce.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note201"/>Note</h3><p>Commas are commonly used to separate field values; however, since commas are used in certain locales as a way of formatting currency or numeric values, the comma delimiter may not be appropriate for every locale. In this scenario, users can specify delimiters such as tab, colon, or any other character delimiter.</p></div></div><p>The <span class="strong"><strong>Data Loader</strong></span> client application provides the following features:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A simple-to-use interactive wizard interface providing drag-and-drop field mapping between the source and destination data fields</li><li class="listitem" style="list-style-type: disc">Support for importing and exporting large data files with anything upto five million records</li><li class="listitem" style="list-style-type: disc">Support for all Salesforce objects, which includes both standard and custom objects</li><li class="listitem" style="list-style-type: disc">Post-processing log files showing error and success results in CSV format, along with a built-in CSV file reader</li><li class="listitem" style="list-style-type: disc">For the Windows operating system only, a command-line interface to enable automated importing and exporting of Salesforce data</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note202"/>Note</h3><p>
<span class="strong"><strong>Data Loader</strong></span> does not support the export of attachments. Instead, Salesforce recommends using the weekly export feature described later in this chapter to export attachments.</p></div></div><div class="section" title="Data Loader and import wizards compared"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec153"/>Data Loader and import wizards compared</h2></div></div></div><p>With <span class="strong"><strong>Data Loader</strong></span>, you can perform operations such as insert, delete, update, extract, or upsert. You can move data into or out of any Salesforce object. There is less validation when adding data.</p><p>The import wizards are more limited as they only support <span class="strong"><strong>Account</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Leads</strong></span>, <span class="strong"><strong>Solution</strong></span>, and <span class="strong"><strong>Custom</strong></span> object. However, they have built-in de-duplication logic.</p><p>As a general guide, use <span class="strong"><strong>Data Loader</strong></span> when:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You need to load 50,000 or more records, up to the maximum of five million records</li><li class="listitem" style="list-style-type: disc">You need to load into an object that is not yet supported by web-based import wizards</li><li class="listitem" style="list-style-type: disc">You want to schedule regular data loads, such as nightly imports</li><li class="listitem" style="list-style-type: disc">You want to save mappings for later use</li><li class="listitem" style="list-style-type: disc">You want to export your data for backup purposes</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip203"/>Tip</h3><p>
<span class="strong"><strong>Add your IP address in the list of trusted IP ranges:
</strong></span>When logging into <span class="strong"><strong>Data Loader</strong></span>, you must add a security token as described in 
<a class="link" href="ch03.html" title="Chapter 3. Configuring Objects and Apps">Chapter 3</a>,<span class="emphasis"><em>Configuring Objects and Apps</em></span>
. However, by adding your IP address as an entry in the list of trusted IP ranges, you can log in with only your Salesforce username and password.</p></div></div><p>As a general guide, use web-based import wizards when:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You are loading fewer than 50,000 records</li><li class="listitem" style="list-style-type: disc">The object you need to import is an <span class="strong"><strong>Account</strong></span>, <span class="strong"><strong>Contact</strong></span>, <span class="strong"><strong>Leads</strong></span>, <span class="strong"><strong>Solution</strong></span>, or <span class="strong"><strong>Custom object</strong></span></li><li class="listitem" style="list-style-type: disc">You want to prevent duplicates by uploading records according to account name and site, contact e-mail address, or lead e-mail address</li></ul></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note204"/>Note</h3><p>Should you need to load more than five million records, Salesforce recommends that you work with a Salesforce partner, either directly or by visiting the AppExchange (covered in 
<a class="link" href="ch09.html" title="Chapter 9. Extending and Enhancing Salesforce CRM">Chapter 9</a>, <span class="emphasis"><em>Extending and Enhancing Salesforce CRM</em></span>), where you will find a number of suitable products.
</p></div></div></div></div>
<div class="section" title="Best practices for mass data updating"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec75"/>Best practices for mass data updating</h1></div></div></div><p>When carrying out any kind of mass data update or deletion in Salesforce CRM, you should ensure that the data to be changed is correct, but you should also consider applying the following best practices.</p><div class="section" title="Back up data"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec154"/>Back up data</h2></div></div></div><p>Back up your data before performing a mass update, or delete it by either requesting a data export or exporting your own report of the data.</p></div><div class="section" title="Test batch"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec155"/>Test batch</h2></div></div></div><p>Create a test file containing a few records first to ensure that your source data has been correctly prepared.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="tip205"/>Tip</h3><p>
<span class="strong"><strong>Mass deleting data:</strong></span></p><p>Consider including both the Date/Time Stamp and Created by Alias criteria in your mass delete to ensure that you are only deleting your imports and no other data.</p></div></div></div></div>
<div class="section" title="Export backup data"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec76"/>Export backup data</h1></div></div></div><p>Your organization can sign up to receive backup files of your data. Here, you can export all your organization's data into a set of CSV files.</p><p>With the data export feature, you can generate backup files manually once every six days or schedule them to generate automatically at weekly or monthly intervals.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note206"/>Note</h3><p>The weekly export service is available in Enterprise Edition and Unlimited Edition. The Developer Edition provides a monthly export service. When the export is ready, you will receive an e-mail with a link; navigate to the link provided.</p></div></div><p>To schedule a weekly or monthly export (as governed by the edition of Salesforce CRM that you are using), navigate to <span class="strong"><strong>Setup | Data Management | Data Export</strong></span>. Then click on either the <span class="strong"><strong>Export Now</strong></span> or <span class="strong"><strong>Schedule Export</strong></span> buttons, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/B05715_05_12.jpg" alt="Export backup data"/></div><p>
</p><p>The data export can be set to run immediately or scheduled to run in the future, as discussed in the following subsections.</p><div class="section" title="Export Now"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec156"/>Export Now</h2></div></div></div><p>The <span class="strong"><strong>Export Now</strong></span> option prepares your files for immediate export. This option is only available if a week has passed since your last export and presents the options shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/B05715_05_13.jpg" alt="Export Now"/></div><p>
</p></div><div class="section" title="Schedule Export"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec157"/>Schedule Export</h2></div></div></div><p>The <span class="strong"><strong>Schedule Export</strong></span> option allows you to schedule the export process for weekly or monthly intervals and presents the options shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/B05715_05_14.jpg" alt="Schedule Export"/></div><p>
</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note207"/>Note</h3><p>If new objects are created in the org after the Data Export has been scheduled you must then reschedule the data export to include the newly created objects if you want them to be included in the data export.</p></div></div></div></div>
<div class="section" title="Recycle Bin"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec77"/>Recycle Bin</h1></div></div></div><p>The <span class="strong"><strong>Recycle Bin</strong></span> can be accessed from the <span class="strong"><strong>Home</strong></span> tab by clicking on the link in the sidebar as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/B05715_05_15.jpg" alt="Recycle Bin"/></div><p>
</p><p>The <span class="strong"><strong>Recycle Bin</strong></span> is where deleted data is stored. It can be accessed for 15 days, after which the data becomes permanently deleted and is no longer recoverable.</p><p>Clicking on <span class="strong"><strong>Recycle Bin</strong></span> allows you to view both your deleted items and your organization's deleted items, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="graphics/B05715_05_16.jpg" alt="Recycle Bin"/></div><p>
</p><p>You can use the <span class="strong"><strong>Empty your recycle bin</strong></span> button to permanently remove deleted items prior to the 15-day expiration.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note208"/>Note</h3><p>Records in the <span class="strong"><strong>Recycle Bin</strong></span> do not count against your organizations storage limits.</p></div></div><p>To calculate the number of records that your <span class="strong"><strong>Recycle Bin</strong></span> can store, Salesforce uses the following formula: 25 multiplied by the number of Megabytes (MB) in your storage.</p><p>For example, if your organization has 1 GB, which equates to 1000 MB (a 1000 MB storage unit is used here and not 1028 MB), your limit is 25 multiplied by 1000 MB, which equals 25,000 records.</p><p>When your organization reaches the <span class="strong"><strong>Recycle Bin</strong></span> limit, the Salesforce CRM application automatically removes the oldest records (if they have been in the Recycle Bin for at least two hours).</p></div>
<div class="section" title="Data storage utilization"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec78"/>Data storage utilization</h1></div></div></div><p>Salesforce CRM has two categories of storage, namely, data, which is used to store records (for example, Opportunity, Account, or Custom object data records), and file storage, which is used to store file attachments (for example, presentations, spreadsheets, images, PDFs, and so on).</p><p>Salesforce CRM (Enterprise Edition) provides, as a minimum, 1 GB for data storage and 11 GB for file storage. In total, this 12 GB storage amount (1 GB for data plus 11 GB for files) is the minimum total storage allocated for a Salesforce CRM organization. However, the storage amount increases as more active users are added, since there is also a 20-MB-per-user for data and 2-GB-per-user for files storage factor.</p><p>As an example, an organization with 500 active users sees the storage amount for data increase to 10 GB. This is calculated as 500 (users) multiplied by 20 MB, which equals 10,000 MB or 10 GB. The storage amount for files is increased to 1,000 GB (500 users multiplied by 2 GB).</p><p>To view your organization's used data space and used file space, navigate to <span class="strong"><strong>Setup | Data Management | Storage Usage</strong></span>. Here, you can view the limits and used amounts for data and file storage, the amounts in use per record type, and the current file-storage usage. You can also view the top users of data and file storage. To see exactly what is being stored by a listed user, you can click that user's name.</p></div>
<div class="section" title="Questions to test your knowledge"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec79"/>Questions to test your knowledge</h1></div></div></div><p>You are now presented with questions about the key features of Salesforce CRM administration in the areas of data management which have been covered in this chapter. The answers can be found at the end of the chapter.</p><div class="section" title="Questions"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec158"/>Questions</h2></div></div></div><p>We present six questions to verify your understanding of data validation, dependent picklists, data importing and exporting facilities, and <span class="strong"><strong>Recycle Bin</strong></span> storage.</p><div class="section" title="Question 1 - Data validation rules"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec148"/>Question 1 - Data validation rules</h3></div></div></div><p>A validation rule has been created to ensure that users do not set the Close Date of an opportunity to a date in the past. What will happen if a user attempts to save an opportunity record that has a Close Date from last year? (Select one):</p><p>
<span class="strong"><strong>a</strong></span>) The error message defined within the validation rule is displayed on the record after the record is saved</p><p>
<span class="strong"><strong>b</strong></span>) The error message defined within the validation rule is sent by e-mail to the user after the record is saved</p><p>
<span class="strong"><strong>c</strong></span>) The error message defined within the validation rule is displayed on the record and the record is not saved</p><p>
<span class="strong"><strong>d</strong></span>) The error message defined within the validation rule is displayed on the record and the user is shown a confirmation screen to either continue or cancel the saving of the record</p></div><div class="section" title="Question 2 - Dependent fields"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec149"/>Question 2 - Dependent fields</h3></div></div></div><p>Which of the following statements (if any) are true about dependent picklists? (Select all that apply):</p><p>
<span class="strong"><strong>a</strong></span>) Multi-select picklists can be dependent picklists</p><p>
<span class="strong"><strong>b</strong></span>) Checkboxes can be dependent fields</p><p>
<span class="strong"><strong>c</strong></span>) Standard picklist fields can be dependent fields</p><p>
<span class="strong"><strong>d</strong></span>) Custom picklist fields can be dependent fields</p></div><div class="section" title="Question 3 - Data Import Wizard"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec150"/>Question 3 - Data Import Wizard</h3></div></div></div><p>Which of the following object types cannot be imported using the Data Import Wizard? (Select one):</p><p>
<span class="strong"><strong>a</strong></span>) Account</p><p>
<span class="strong"><strong>b</strong></span>) Leads</p><p>
<span class="strong"><strong>c</strong></span>) Opportunity</p><p>
<span class="strong"><strong>d</strong></span>) Solution</p></div><div class="section" title="Question 4 - Data Import Wizard features"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec151"/>Question 4 - Data Import Wizard features</h3></div></div></div><p>The Data Import Wizard provides which benefits for importing data into Salesforce CRM? (Select two):</p><p>
<span class="strong"><strong>a</strong></span>) Ability to import data for all standard and custom objects</p><p>
<span class="strong"><strong>b</strong></span>) Prevents duplicate records from being imported</p><p>
<span class="strong"><strong>c</strong></span>) Ability to import more than 50,000 records</p><p>
<span class="strong"><strong>d</strong></span>) Prevents workflow rules from firing as records are loaded into the system</p></div><div class="section" title="Question 5 - Data Loader and import wizards compared"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec152"/>Question 5 - Data Loader and import wizards compared</h3></div></div></div><p>Which data import facility can be used to import 25,000 case records into Salesforce? (Select all that apply):</p><p>
<span class="strong"><strong>a</strong></span>) Data Import Wizard</p><p>
<span class="strong"><strong>b</strong></span>) Data Loader</p><p>
<span class="strong"><strong>c</strong></span>) Individual import wizard for the Case object</p><p>
<span class="strong"><strong>d</strong></span>) None of the above</p></div><div class="section" title="Question 6 - Recycle Bin"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec153"/>Question 6 - Recycle Bin</h3></div></div></div><p>How many days will the Recycle Bin store deleted data? (Select one):</p><p>
<span class="strong"><strong>a</strong></span>) 5</p><p>
<span class="strong"><strong>b</strong></span>) 10</p><p>
<span class="strong"><strong>c</strong></span>) 15</p><p>
<span class="strong"><strong>d</strong></span>) 30</p></div></div><div class="section" title="Answers"><div class="titlepage"><div><div><h2 class="title"><a id="ch05lvl2sec159"/>Answers</h2></div></div></div><p>Here are the answers to the six questions about data validation, dependent picklists, data importing and exporting facilities, and <span class="strong"><strong>Recycle Bin</strong></span> storage.</p><div class="section" title="Answer 1 - Data Validation rules"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec154"/>Answer 1 - Data Validation rules</h3></div></div></div><p>The answer is <span class="strong"><strong>a</strong></span>) Data Validation rules allows you to specify your own business-specific criteria to prevent users from saving invalid data in one or more fields. In this scenario, if a user enters an invalid <span class="strong"><strong>Close Date</strong></span> (one in the past), the error message defined within the validation rule is displayed on the record and the record is not saved.</p></div><div class="section" title="Answer 2 - Dependent fields"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec155"/>Answer 2 - Dependent fields</h3></div></div></div><p>The answer is <span class="strong"><strong>a</strong></span>) Multi-select picklists can be dependent picklists, and <span class="strong"><strong>d</strong></span>) Custom picklist fields can be dependent fields. Multi-select picklists can be dependent picklists but cannot be controlling fields. Checkbox fields can be controlling fields but cannot be dependent fields. Standard picklist fields can be controlling fields but cannot be a dependent field. Custom picklist fields can be used as either a controlling field or a dependent field.</p></div><div class="section" title="Answer 3 - Data Import Wizard"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec156"/>Answer 3 - Data Import Wizard</h3></div></div></div><p>The answer is <span class="strong"><strong>c</strong></span>) Opportunity is the object type in the list that cannot be imported using the Data Import Wizard.</p></div><div class="section" title="Answer 4 - Data Import Wizard features"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec157"/>Answer 4 - Data Import Wizard features</h3></div></div></div><p>The answer is <span class="strong"><strong>b</strong></span>) Prevent duplicate records from being imported, and <span class="strong"><strong>d</strong></span>) Prevent workflow rules from firing as records are loaded into the system. The <span class="strong"><strong>Data Import Wizard</strong></span> can be used to import accounts, contacts, leads, solutions, and custom object records; prevent duplicate records from being imported; import up to 50,000 records; choose whether to allow workflow rules to fire during the loading of data.</p></div><div class="section" title="Answer 5 - Data Loader and import wizards compared"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec158"/>Answer 5 - Data Loader and import wizards compared</h3></div></div></div><p>The answer is <span class="strong"><strong>b</strong></span>) Data Loader. Neither the <span class="strong"><strong>Data Import Wizard</strong></span> nor the Individual Import Wizard supports the importing of Case records.</p></div><div class="section" title="Answer 6 - Recycle Bin"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl3sec159"/>Answer 6 - Recycle Bin</h3></div></div></div><p>The answer is<span class="strong"><strong> c</strong></span>) Deleted data is stored in the Recycle Bin, where it can be accessed for 15 days, after which the data becomes permanently deleted and is no longer recoverable.</p></div></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch05lvl1sec80"/>Summary</h1></div></div></div><p>In this chapter, we described the features that offer improvements to data quality through the use of data validation rules and dependent fields.</p><p>We also looked at the options and facilities available within Salesforce CRM for importing and exporting data into and out of the system. We briefly outlined the data storage feature in Salesforce, along with texporting backup data and the <span class="strong"><strong>Recycle Bin</strong></span>.</p><p>Finally, we posed some questions to help clarify some of the key features of Salesforce CRM administration in the area of data management.</p><p>In the following chapter, we will be covering data analytics, where we will see how we can report on the data in Salesforce.</p><p>Included in the next chapter is the setting up of reports, dashboards, custom reports, and a discussion of how to use the Report Builder.</p></div></body></html>