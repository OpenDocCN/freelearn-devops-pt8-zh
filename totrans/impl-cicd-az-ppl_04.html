<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer135">
<h1 class="chapter-number" id="_idParaDest-52"><a id="_idTextAnchor052"/>4</h1>
<h1 id="_idParaDest-53"><a id="_idTextAnchor053"/>Extending Advanced Azure Pipelines Using YAML</h1>
<p>We created a build pipeline in the previous chapter by creating jobs, tasks, and triggers. This chapter will teach you how to customize the Azure pipeline using YAML, such as by creating condition statements with variable groups when setting some complex conditions. It also helps to create a flexible pipeline rather than the classic online version. For instance, YAML can do that when you need to deploy mobile applications to both the Google Play Console and the App Store <span class="No-Break">connect simultaneously.</span></p>
<p>By the end of this chapter, you will have learned about creating a build and release pipeline using YAML. You will also have learned how to clone, export, and import YAML from the classic editor in the Azure <span class="No-Break">DevOps portal.</span></p>
<p>We will cover the <span class="No-Break">following topics:</span></p>
<ul>
<li>Creating a build pipeline <span class="No-Break">using YAML</span></li>
<li>Creating a release pipeline <span class="No-Break">using YAML</span></li>
<li>Cloning, exporting, and importing a <span class="No-Break">YAML pipeline</span></li>
<li>Complex <span class="No-Break">YAML configurations</span></li>
<li>Advantages and limitations of <span class="No-Break">YAML-based pipelines</span></li>
</ul>
<p>Let’s start by creating a pipeline using the <span class="No-Break">YAML syntax.</span></p>
<h1 id="_idParaDest-54"><a id="_idTextAnchor054"/>Creating a build pipeline using YAML</h1>
<p>In <a id="_idIndexMarker167"/>this section, you will learn how to build a pipeline<a id="_idIndexMarker168"/> using YAML. You will also learn how to view YAML on the Azure DevOps portal and save the YAML file in Azure Repos. To create a build pipeline using YAML, follow <span class="No-Break">these steps:</span></p>
<ol>
<li>After logging in via the Azure DevOps portal, please select your organization and then navigate to the <strong class="bold">Pipelines</strong> page. Click on <span class="No-Break"><strong class="bold">New pipeline</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer109">
<img alt="Figure 4.1 – New pipeline" height="511" src="image/B18875_04_1.jpg" width="1208"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.1 – New pipeline</p>
<ol>
<li value="2">Click on <strong class="bold">Azure Repos Git</strong>, which is a source code repository for <span class="No-Break">the demo:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer110">
<img alt="Figure 4.2 – Azure Repos Git" height="509" src="image/B18875_04_2.jpg" width="881"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.2 – Azure Repos Git</p>
<ol>
<li value="3">Click <a id="_idIndexMarker169"/>on <a id="_idIndexMarker170"/>the <span class="No-Break"><strong class="bold">PacktAzureDevOps</strong></span><span class="No-Break"> repository:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer111">
<img alt="Figure 4.3 – Select a repository" height="987" src="image/B18875_04_3.jpg" width="1042"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.3 – Select a repository</p>
<ol>
<li value="4">If you <a id="_idIndexMarker171"/>have existing YAML, you will have to <a id="_idIndexMarker172"/>select <strong class="bold">Existing Azure Pipelines YAML file</strong>. However, as we are creating a new one here, we will click on <span class="No-Break"><strong class="bold">Starter pipeline</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer112">
<img alt="Figure 4.4 – Selecting a starter pipeline" height="479" src="image/B18875_04_4.jpg" width="923"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.4 – Selecting a starter pipeline</p>
<ol>
<li value="5">Click on <strong class="bold">Save</strong>, and<a id="_idIndexMarker173"/> you can review a new pipeline in <span class="No-Break">YAML </span><span class="No-Break"><a id="_idIndexMarker174"/></span><span class="No-Break">format:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer113">
<img alt="Figure 4.5 – Save pipeline YAML" height="651" src="image/B18875_04_5.jpg" width="1181"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.5 – Save pipeline YAML</p>
<ol>
<li value="6">Enter a<a id="_idIndexMarker175"/> commit message that helps you remember<a id="_idIndexMarker176"/> what you did in the file and select the <strong class="bold">Commit directly to the main branch</strong> option. This option will save your file in the <span class="No-Break">main branch:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer114">
<img alt="Figure 4.6 – Commit YAML to Azure Repos Git" height="1038" src="image/B18875_04_6.jpg" width="717"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.6 – Commit YAML to Azure Repos Git</p>
<p class="list-inset">If you <a id="_idIndexMarker177"/>would like to save your file in a new <a id="_idIndexMarker178"/>branch, then select <strong class="bold">Create a new branch for this commit</strong>. Click <span class="No-Break">on </span><span class="No-Break"><strong class="bold">Save</strong></span><span class="No-Break">.</span></p>
<ol>
<li value="7">After you click <strong class="bold">Save</strong>, you will be taken back to the main dashboard result of the <span class="No-Break">build pipeline:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer115">
<img alt="Figure 4.7 – A build pipeline dashboard" height="376" src="image/B18875_04_7.jpg" width="908"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.7 – A build pipeline dashboard</p>
<ol>
<li value="8">Click on <span class="No-Break"><strong class="bold">Run pipeline</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer116">
<img alt="Figure 4.8 – Run a build pipeline" height="448" src="image/B18875_04_8.jpg" width="1186"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.8 – Run a build pipeline</p>
<p class="list-inset">After that, you can see a summary of the build <span class="No-Break">pipeline results:</span></p>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer117">
<img alt="Figure 4.9 – A build pipeline result" height="617" src="image/B18875_04_9.jpg" width="1116"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.9 – A build pipeline result</p>
<ol>
<li value="9">You can <a id="_idIndexMarker179"/>edit the pipeline by clicking on the<a id="_idIndexMarker180"/> ellipses (<strong class="bold">…</strong>) next to the <strong class="bold">Run new</strong> button shown in the following screenshot and then <span class="No-Break"><strong class="bold">Edit pipeline</strong></span><span class="No-Break">:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer118">
<img alt="Figure 4.10 – Edit pipeline" height="605" src="image/B18875_04_10.jpg" width="1180"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.10 – Edit pipeline</p>
<ol>
<li value="10">You can<a id="_idIndexMarker181"/> now view the starter of the YAML file <a id="_idIndexMarker182"/>structure. Let’s look at the structure of the example YAML and describe <span class="No-Break">each part:</span><ol><li class="Alphabets">The <strong class="bold">main</strong> branch of Azure Repos keeps the <span class="No-Break">YAML file.</span></li><li class="Alphabets">This is a <span class="No-Break">repository name.</span></li><li class="Alphabets">This is a <span class="No-Break">YAML filename.</span></li><li class="Alphabets">A build pipeline will run on any changes in the <span class="No-Break">main branch.</span></li><li class="Alphabets">A build pipeline will run on the Ubuntu <span class="No-Break">operating system.</span></li><li class="Alphabets">A script task contains a <span class="No-Break">single line.</span></li><li class="Alphabets">A script task contains <span class="No-Break">multiple lines.</span></li></ol><p class="list-inset">These components are shown in the <span class="No-Break">following screenshot:</span></p></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer119">
<img alt="Figure 4.11 – YAML file structure" height="749" src="image/B18875_04_11.jpg" width="1093"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.11 – YAML file structure</p>
<ol>
<li value="11">You can<a id="_idIndexMarker183"/> see the result after running the pipeline<a id="_idIndexMarker184"/> based on the YAML file in the previous screenshot by clicking on <span class="No-Break">a job:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer120">
<img alt="Figure 4.12 – Display job result details" height="609" src="image/B18875_04_12.jpg" width="1084"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.12 – Display job result details</p>
<ol>
<li value="12">Click on <strong class="bold">Run a one-line script</strong>, which will display the <strong class="bold">Hello, world!</strong> Text. This is an <a id="_idIndexMarker185"/>example of when you would like to display <a id="_idIndexMarker186"/>the message inside the task of the <span class="No-Break">Azure pipeline:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer121">
<img alt="Figure 4.13 – Job steps with results" height="665" src="image/B18875_04_13.jpg" width="1519"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.13 – Job steps with results</p>
<p>You learned how to create a simple build pipeline using a YAML file for this section. Azure Repos keeps the YAML file, and you can view its history with the help of Git. In the next section, you will learn how to create a release pipeline using a YAML file that contains stages, jobs, <span class="No-Break">and tasks.</span></p>
<h1 id="_idParaDest-55"><a id="_idTextAnchor055"/>Creating a release pipeline using YAML</h1>
<p>This<a id="_idIndexMarker187"/> section will teach you how to create a release <a id="_idIndexMarker188"/>pipeline using YAML. You will also learn how to create stages, jobs, and tasks in YAML format. To do this, follow <span class="No-Break">these steps:</span></p>
<ol>
<li>Edit the existing pipeline by clicking on the ellipses (<strong class="bold">…</strong>) next to it and then click on <span class="No-Break"><strong class="bold">Edit pipeline</strong></span><span class="No-Break">:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer122">
<img alt="Figure 4.14 – Editing an existing pipeline" height="821" src="image/B18875_04_14..jpg" width="1398"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.14 – Editing an existing pipeline</p>
<ol>
<li value="2">Replace all contents of the existing <strong class="source-inline">azure-pipelines.yml</strong> file, as shown in the <span class="No-Break">following screenshot:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer123">
<img alt="Figure 4.15 – Advanced pipeline with two stages" height="790" src="image/B18875_04_15..jpg" width="712"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.15 – Advanced pipeline with two stages</p>
<p class="list-inset">There <a id="_idIndexMarker189"/>are two stages, as shown in the <a id="_idIndexMarker190"/><span class="No-Break">preceding screenshot:</span></p>
<ul>
<li>The first stage will display <strong class="source-inline">Build </strong><span class="No-Break"><strong class="source-inline">stage job</strong></span></li>
<li>The second stage will display <span class="No-Break"><strong class="source-inline">Release stage</strong></span></li>
</ul>
<p class="list-inset">This scenario displays build and release stages suitable for building the application (the <strong class="source-inline">Build</strong> stage) and deploying the application (the <strong class="source-inline">Release</strong> stage). It is easy to find errors or issues because if the build stage fails, it will not continue to run the <span class="No-Break">release stage.</span></p>
<ol>
<li value="3">You can validate the syntax of the YAML file by clicking on <strong class="bold">…</strong> next to <strong class="bold">Save</strong> and <span class="No-Break">clicking </span><span class="No-Break"><strong class="bold">Validate</strong></span><span class="No-Break">:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer124">
<img alt="Figure 4.16 – Validate the YAML file" height="794" src="image/B18875_04_16..jpg" width="1134"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.16 – Validate the YAML file</p>
<ol>
<li value="4">You will see the<a id="_idIndexMarker191"/> following message if the YAML file <a id="_idIndexMarker192"/><span class="No-Break">is valid:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer125">
<img alt="Figure 4.17 – Valid YAML file" height="133" src="image/B18875_04_17..jpg" width="108"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.17 – Valid YAML file</p>
<p class="list-inset">If the YAML file is invalid, you will see the following error message explaining which line has <span class="No-Break">a problem:</span></p>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer126">
<img alt="Figure 4.18 – Invalid YAML file" height="129" src="image/B18875_04_18..jpg" width="414"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.18 – Invalid YAML file</p>
<ol>
<li value="5">Click <strong class="bold">Save</strong> | <strong class="bold">Run pipeline</strong>. You can<a id="_idIndexMarker193"/> see the result of a pipeline <a id="_idIndexMarker194"/>contains <span class="No-Break">two stages:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer127">
<img alt="Figure 4.19 – Stage details" height="937" src="image/B18875_04_19..jpg" width="1443"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.19 – Stage details</p>
<ol>
<li value="6">You can<a id="_idIndexMarker195"/> rerun a specific stage by expanding it and<a id="_idIndexMarker196"/> clicking on <span class="No-Break"><strong class="bold">Rerun stage</strong></span><span class="No-Break">:</span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer128">
<img alt="Figure 4.20 – Rerun stage" height="1037" src="image/B18875_04_20..jpg" width="1439"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.20 – Rerun stage</p>
<p>You have learned how to create a release pipeline with two stages containing a job. You have also learned about the benefit of using stages because you can rerun the stage you have a problem with and don’t need to rerun the whole pipeline. The following section will teach you how to clone, export, and import YAML to create a <span class="No-Break">new pipeline.</span></p>
<h1 id="_idParaDest-56"><a id="_idTextAnchor056"/>Cloning, exporting, and importing a YAML pipeline</h1>
<p>This section will teach you how to clone, export, and import a YAML pipeline from the Azure DevOps portal. These actions will help you save time when you need to duplicate the same template and adjust it. If you need to make a new Azure pipeline, you can do so by cloning it from an existing one. Let’s look at the steps that are to be followed to perform <span class="No-Break">these tasks:</span></p>
<ul>
<li><strong class="bold">Clone</strong>: You can clone a <a id="_idIndexMarker197"/>pipeline using copy and paste, which is the easy, fast way to clone <span class="No-Break">a pipeline.</span></li>
<li><strong class="bold">Export and import</strong>: The<a id="_idIndexMarker198"/> following steps<a id="_idIndexMarker199"/> show you can export an entire YAML file from <span class="No-Break">a pipeline:</span><ol><li class="Alphabets">You can export a YAML pipeline by clicking <span class="No-Break">on </span><span class="No-Break"><strong class="bold">Edit</strong></span><span class="No-Break">:</span></li></ol></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer129">
<img alt="Figure 4.21 – Edit pipeline" height="307" src="image/B18875_04_21..jpg" width="995"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.21 – Edit pipeline</p>
<ol>
<li class="Alphabets" value="2">Click on <strong class="bold">…</strong> | <strong class="bold">Download full YAML</strong> to download <span class="No-Break">a file:</span></li>
</ol>
<p class="IMG---Figure"> </p>
<div>
<div class="IMG---Figure" id="_idContainer130">
<img alt="Figure 4.22 – Download the complete YAML" height="624" src="image/B18875_04_22..jpg" width="976"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.22 – Download the complete YAML</p>
<ol>
<li class="Alphabets" value="3">Open a downloaded file and copy and paste it into the new pipeline <span class="No-Break">you created.</span></li>
</ol>
<p>In the section, you learned how easy it is to download, copy, and paste a YAML file into the new pipeline. Now let’s look at some advantages and drawbacks of using <span class="No-Break">YAML-based pipelines.</span></p>
<h1 id="_idParaDest-57"><a id="_idTextAnchor057"/>Complex YAML configurations</h1>
<p>The YAML syntax supports several complex configurations that allow for the modularization and reuse of YAML files. Some examples of these are template reuse and the implementation of template expressions. We’ll explore how these features work in the <span class="No-Break">following sections.</span></p>
<h2 id="_idParaDest-58"><a id="_idTextAnchor058"/>YAML template reuse</h2>
<p>When working with large <a id="_idIndexMarker200"/>projects and several applications being developed by the same members of a team, it is helpful to define common templates to reuse instead of writing everything from scratch for the CI/CD needs of every application. For this purpose, Azure Pipelines supports making references to templates to reuse steps, jobs, and stages. This is particularly helpful in reducing the duplication of YAML because all applications or deployment processes are the same within the project. It is also possible to include parameters in the templates, to pass values that can be used in the referenced template to customize <span class="No-Break">the behavior.</span></p>
<p>Let’s look at the following scenario where an Azure pipeline builds the same application twice with two different build configurations in the .NET language. The file shown in the following screenshot defines one parameter, <strong class="source-inline">buildConfiguration</strong>, and three steps to perform the installation of the NuGet tool (<strong class="source-inline">NuGetToolInstaller@1</strong>), a NuGet restore of dependencies (<strong class="source-inline">NuGetCommand@2</strong>), and building the solution with the VS build <span class="No-Break">utility (</span><span class="No-Break"><strong class="source-inline">VSBuild@1</strong></span><span class="No-Break">):</span></p>
<div>
<div class="IMG---Figure" id="_idContainer131">
<img alt="Figure 4.23 – dotnet-build-steps template with parameters" height="310" src="image/B18875_04_23..jpg" width="680"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.23 – dotnet-build-steps template with parameters</p>
<p>You can see in the<a id="_idIndexMarker201"/> following example how the same <strong class="source-inline">dotnet-build-steps.yml</strong> file can now be used to build the same application in two different agents, <strong class="source-inline">linux-latest</strong> and <strong class="source-inline">windows-latest</strong>, with the same exact steps and having the possibility to add other tasks before <span class="No-Break">and after:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer132">
<img alt="Figure 4.24 – Azure pipeline with template references" height="336" src="image/B18875_04_24..jpg" width="572"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.24 – Azure pipeline with template references</p>
<p>This feature allows for great flexibility, reducing duplicate code in your YAML pipelines, and standardization across pipelines, which helps reduce the chances <span class="No-Break">of errors.</span></p>
<p>More<a id="_idIndexMarker202"/> complex configurations can also include having all templates in a separate repository, where another team is responsible for putting together these building blocks to help the teams in charge of CI/CD pipelines, as shown in the <span class="No-Break">following screenshot:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer133">
<img alt="Figure 4.25 – Template reference from another repository" height="168" src="image/B18875_04_25..jpg" width="412"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.25 – Template reference from another repository</p>
<p>Let’s look now at how we can use template <span class="No-Break">expressions next.</span></p>
<h2 id="_idParaDest-59"><a id="_idTextAnchor059"/>YAML template expressions</h2>
<p><strong class="bold">Expressions</strong> are a <a id="_idIndexMarker203"/>custom syntax capability in Azure Pipelines that allows you to dynamically <a id="_idIndexMarker204"/>resolve values during runtime. Think of this as control logic in the execution of your templates. There are too many expression types to cover in this chapter, but it is important to know that it is possible to do <span class="No-Break">the following:</span></p>
<ul>
<li>Evaluate literals <span class="No-Break">and variables</span></li>
<li>Use built-in functions such as <strong class="source-inline">coalesce</strong>, <strong class="source-inline">contains</strong>, <strong class="source-inline">eq</strong>, <strong class="source-inline">format</strong>, and many others to evaluate logical conditions or <span class="No-Break">transform values</span></li>
<li>Use built-in functions to evaluate the <span class="No-Break">job status</span></li>
<li>Use conditions to conditionally insert variable values <span class="No-Break">or tasks</span></li>
<li>Loop through parameters with the <span class="No-Break"><strong class="source-inline">each</strong></span><span class="No-Break"> keyword</span></li>
<li>Evaluate <a id="_idIndexMarker205"/>dependencies on previous jobs or stages, such as status or <span class="No-Break">output variables</span></li>
</ul>
<p>The following screenshot shows an example of how expressions can support performing the building and testing of an application using two different sets of tools (the <strong class="source-inline">msbuild</strong> or <strong class="source-inline">dotnet</strong> CLI tools) and picking the tool based on <span class="No-Break">a parameter:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer134">
<img alt="Figure 4.26 – Template expressions example" height="390" src="image/B18875_04_26..jpg" width="356"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 4.26 – Template expressions example</p>
<p>With expressions, you have full control of how to define your pipelines and dynamically execute steps based on progress, not just simply defining a static set <span class="No-Break">of steps.</span></p>
<p>Now that you have understood these complex configurations, let’s talk about the advantages and limitations of <span class="No-Break">YAML-based pipelines.</span></p>
<h1 id="_idParaDest-60"><a id="_idTextAnchor060"/>Advantages and limitations of YAML-based pipelines</h1>
<p>First, let’s look at the benefits<a id="_idIndexMarker206"/> of using <span class="No-Break">YAML-based pipelines:</span></p>
<ul>
<li>YAML pipelines are stored as code in your version control system, such as Azure Repos. This means they can be versioned, branched, and reviewed like any other code, providing better collaboration <span class="No-Break">and traceability.</span></li>
<li>YAML pipelines allow you to introduce changes in a controlled way when implementing a branch strategy that isolates work from different team members. This ensures changes are tested without affecting other members of the team <span class="No-Break">until completed.</span></li>
<li>YAML pipelines make reproducing the build and release process consistently across different environments easy. This helps reduce configuration drift and ensures <span class="No-Break">consistent results.</span></li>
<li>You can control your build and release processes. You can define the steps, dependencies, and conditions, enabling you to customize pipelines to meet your <span class="No-Break">specific </span><span class="No-Break"><a id="_idIndexMarker207"/></span><span class="No-Break">needs.</span></li>
</ul>
<p>Despite these benefits, using these pipelines may have drawbacks<a id="_idIndexMarker208"/> such as <span class="No-Break">the following:</span></p>
<ul>
<li>YAML-based pipelines require knowledge of the YAML language and Azure Pipelines syntax, which can be a learning curve for everyone unfamiliar with <span class="No-Break">Azure Pipelines</span></li>
<li>The YAML-based pipelines syntax only works in Azure Pipelines and cannot be migrated as is to a different <span class="No-Break">CI/CD tool</span></li>
<li>YAML-based pipelines have a limit of 4 MB for the size of the extended YAML, which could make it difficult for extremely complex CI/CD processes to <span class="No-Break">be defined</span></li>
<li>Validating <a id="_idIndexMarker209"/>YAML pipelines in release stages beyond the initial developer environment might be difficult or impossible due to the inability to deploy to <span class="No-Break">such environments</span></li>
</ul>
<p>Now that you’re familiar with YAML-based pipelines, let’s wrap up <span class="No-Break">this chapter.</span></p>
<h1 id="_idParaDest-61"><a id="_idTextAnchor061"/>Summary</h1>
<p>This chapter taught you how to build and release pipelines using YAML. Using this method is more powerful for developers than using the classic editor on the Azure DevOps portal. Developers can save YAML files in their Azure Repos, which will help them review each revision’s pipeline. With YAML-based pipelines, you can deliver more efficient, transparent, and developer-centric CI/CD processes. You also learned about complex scenarios and how to reduce YAML, reuse templates, and add dynamic behavior through expressions. Finally, you learned about the pros and cons of <span class="No-Break">YAML-based pipelines.</span></p>
<p>In the next chapter, you will learn in depth about implementing a build and release pipeline using YAML and how to reuse build tasks using Node.js, NPM, .NET, and Docker to build <span class="No-Break">a pipeline.</span></p>
</div>
</div>

<div id="sbo-rt-content"><div class="Content" id="_idContainer136">
<h1 id="_idParaDest-62" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor062"/>Part 2:Azure Pipelines in Action</h1>
<p>Now that we have learned the basics, it’s time to learn how to use our pipelines for build and deployment purposes, from applications to automated provisioning and configuration of infrastructure, including the testing and security tools involved in <span class="No-Break">these processes.</span></p>
<p>This part has the <span class="No-Break">following chapters:</span></p>
<ul>
<li><a href="B18875_05.xhtml#_idTextAnchor063"><em class="italic">Chapter 5</em></a>, <em class="italic">Implementing the Build Pipeline Using Deployment Tasks</em></li>
<li><a href="B18875_06.xhtml#_idTextAnchor070"><em class="italic">Chapter 6</em></a>, <em class="italic">Integrating Testing, Security Tasks, and Other Tools</em></li>
<li><a href="B18875_07.xhtml#_idTextAnchor086"><em class="italic">Chapter 7</em></a>, <em class="italic">Monitoring Azure Pipelines</em></li>
<li><a href="B18875_08.xhtml#_idTextAnchor103"><em class="italic">Chapter 8</em></a>, <em class="italic">Provisioning Infrastructure Using Infrastructure as Code</em></li>
</ul>
</div>
<div>
<div id="_idContainer137">
</div>
</div>
<div>
<div class="Basic-Graphics-Frame" id="_idContainer138">
</div>
</div>
</div></body></html>