- en: Chapter 6. Experiencing the Cloud Services – the Tenant's Point of View
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After five hard-core technical chapters, this chapter will be relaxed and rewarding.
    In this chapter, we will look at our cloud set up that we deployed earlier from
    a customer or tenant's point of view. We will register a new tenant in the cloud
    by subscribing to a plan that we created earlier. We will then request and manage
    cloud services available in the subscribed plan.
  prefs: []
  type: TYPE_NORMAL
- en: 'We will be covering the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Tenant's registration and accounts management
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating and managing virtual networks
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Standalone VMs – provisioning and management
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Virtual machine Role – provisioning and management
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tenant registrations and account management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: As briefly covered in the previous chapter, there are two ways for tenants to
    get registered for using cloud services in Windows Azure Pack. One is self-signup
    and subscription by the tenant, the other is pre-registering by the cloud provider.
  prefs: []
  type: TYPE_NORMAL
- en: We have already covered the second method in the previous chapter. Let's experience
    the first one in this chapter.
  prefs: []
  type: TYPE_NORMAL
- en: Sign up and plan subscription
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The steps mentioned here should be followed to sign up a tenant and plan or
    add-on subscriptions:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack tenant portal.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Signup**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide an e-mail address and password, and click on **Signup**. This will create
    an account in the Azure Pack cloud directory (ASP.NET provider).![Sign up and
    plan subscription](img/00122.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Upon successful registration, the portal will display the management portal
    tour.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: To use any cloud services, a tenant must subscribe to a plan first. Click on
    the **New** button at the bottom of the **my account** page to subscribe to a
    plan.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Public plans published by cloud providers will be displayed here. Select **plan**
    to subscribe and provide **INVITATION CODE** to verify its authenticity.![Sign
    up and plan subscription](img/00123.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The subscription will start getting created; it may take a few minutes for it
    to finish.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: After the subscription creation, tenants will be able to see additional options
    and workspaces as per services configured in the plan.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A subscription ID can be found in the **my account** workspace under the **SUBSCRIPTIONS**
    tab.![Sign up and plan subscription](img/00124.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: A friendly name can be assigned to the subscription using the **change name**
    button in the bottom pane.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Navigate to **New** | **My Account** | **add Add-on** to subscribe to an additional
    add-on available with the plan.![Sign up and plan subscription](img/00125.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tenant account and subscriptions management operations
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'A tenant''s administrator can perform the following management operations on
    accounts and subscriptions in a self-service manner through a tenant portal:'
  prefs: []
  type: TYPE_NORMAL
- en: It can view a list and status of active subscriptions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can view the current usage and the usage limit of resources under subscriptions
    and add-ons
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can upload a management certificate to use a certificate-based authentication
    for accessing the assigned cloud services
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can assign one or more co-administrators to a subscription
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can subscribe to additional plans or add-ons
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can delete a subscription
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can delete an account
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Now, we will see the previously mentioned management operations in detail:'
  prefs: []
  type: TYPE_NORMAL
- en: 'View list, status, usage, delete an active subscriptions, and add-on:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Carry out the following steps to perform these kind of operations:'
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: Log into the tenant portal using the tenant admin account.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **MY ACCOUNT** workspace and click on subscriptions.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: All subscriptions associated with the account will be displayed along with a
    subscription ID, name, status, plan, and enrolment date.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **delete** button to delete any existing subscription.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **subscription ID** to get uses and limits associated with the certificate.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **Add-ons** tab to perform similar operations on add-ons.
  prefs:
  - PREF_IND
  - PREF_OL
  type: TYPE_NORMAL
- en: '![Tenant account and subscriptions management operations](img/00126.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**Uploading a management certificate**: Tenants can upload management certificates
    to WAP tenant portals, which can be used by tenants to verify their authenticity
    while logging in using the tenant PowerShell or the APIs.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Management certificates can be uploaded using the **UPLOAD A CERTIFICATE** button
    in the **my account** workspace on the tenant portal.![Tenant account and subscriptions
    management operations](img/00127.jpeg)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Adding co-admins**: Additional administrators can be added using WAP tenant
    portals for any subscription. This allows multiple users to login and request/manage
    cloud services assigned to a tenant:'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Additional administrators can be added on a tenant portal in the **ADMINISTRATORS**
    tab under the **my account** workspace.![Tenant account and subscriptions management
    operations](img/00128.jpeg)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Click on the **ADD** button to add new co-admins. Provide the user's ID and
    select subscriptions to associate with it.![Tenant account and subscriptions management
    operations](img/00129.jpeg)
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: The same page can be used to add more co-admins or edit or delete the existing
    ones.
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Deleting an account**: Deleting an account deletes all the associated subscriptions.
    Browse the **my account** workspace on a portal to get the option to delete the
    account.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating and managing virtual networks
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Tenants can create virtual networks as per their custom needs. A virtual network
    may have any IP range as per the tenant's choice and can also be used to set up
    a site-to-site VPN connectivity between the tenant's existing datacentres and
    Windows Azure Pack cloud networks. VNet also allows the usage of **Network Address
    Translation (NAT)** for virtual machines. The IP's tenants can create multiple
    virtual networks isolated with each other.
  prefs: []
  type: TYPE_NORMAL
- en: Windows Azure Pack virtual networks are powered by the Hyper-V network virtualization
    with SCVMM.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a virtual network
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Follow these steps to create a virtual network:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the tenant portal using the tenant's admin account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **network** workspace.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **CREATE A VIRTUAL NETWORK**.![Creating a virtual network](img/00130.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **QUICK CREATE** or **CUSTOM CREATE**.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide a virtual network name and protocol (IPv4 or IPv6).![Creating a virtual
    network](img/00131.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide the DNS server's IP that is to be used in VNET. Providing a DNS will
    automatically assign the DNS's IP to the VM under this virtual network. This can
    be configured later as well.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select additional options such as **Enable direct internet access using NAT**
    or **Configure site to site VPN** as applicable.![Creating a virtual network](img/00132.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **ADDRESS SPACE** and subnet it as per the tenants' choice.![Creating
    a virtual network](img/00133.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The newly created virtual network will now be visible under the **networks**
    workspace, and it is ready for the virtual machine's usage.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: While requesting for any resource in the Windows Azure Pack tenant portal, two
    options **QUICK CREATE** and **CUSTOM CREATE** or **FROM GALLERY** will be available.
    While **QUICK CREATE** will create the resource request with some default values
    without asking details from a tenant user, **CUSTOM CREATE** will allow tenants
    to customize the request as much as possible.
  prefs: []
  type: TYPE_NORMAL
- en: Managing and extending a virtual network
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'A tenant''s administrators can perform the following management and extensibility''s
    operations using a tenant portal on a precreated virtual network:'
  prefs: []
  type: TYPE_NORMAL
- en: It can virtual network the IP usage
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can add an additional address space
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can configure the DNS server IP
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can enable or disable NAT or a site-to-site VPN
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: NAT rules
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can configure a site-to-site VPN
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can download an on-site VPN configuration script
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Note
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: Configuring a DNS Server IP will allow a DNS name translation between virtual
    machines inside and outside of the virtual network. Any virtual machine provisioned
    with connectivity to a VNet will have DNS server IP configured automatically as
    provided in the VNet configuration. A site-to-site VPN will allow a hybrid cloud
    networking set up between the cloud's virtual network and local network on an
    on-premises datacenter of the tenant. Enabling **NAT** (**Network Address Translation**)
    for any VM allows the VM's private IP to be NATed with the public IP for access
    from the Internet. See [http://blogs.technet.com/b/privatecloud/archive/2013/11/20/hyper-v-network-virtualization-architecture-and-key-concepts.aspx](http://blogs.technet.com/b/privatecloud/archive/2013/11/20/hyper-v-network-virtualization-architecture-and-key-concepts.aspx)
    to learn more about hybrid cloud networking for Windows Azure Pack.
  prefs: []
  type: TYPE_NORMAL
- en: 'The steps mentioned here should be followed to perform management operations:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the tenant portal using the tenant's admin account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **network** workspace, and click on network to manage.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**DASHBOARD** will display VNet details such as status, network ID, external
    IP, and gateway IP along with the virtual IP usage.![Managing and extending a
    virtual network](img/00134.jpeg)'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **RULES** page allows tenants to create and manage all NAT rules for public
    Internet facing virtual machines.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**SITE-TO-SITE VPN** allows tenants to configure and manage a site-to-site
    VPN connectivity between Cloud VNET and a tenant''s on-premises network.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **CONFIGURE** page allows tenants to add or modify the address space and
    DNS server. It also allows a site-to-site VPN or NAT.![Managing and extending
    a virtual network](img/00135.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The on-site VPN configuration script can be downloaded from the **networks**
    workspace quick start menu.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Standalone VM – provisioning and management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Standalone virtual machines allow the tenant's administrator to create and manage
    virtual Vanilla OS virtual machines as configured by the cloud provider in the
    plan. All the added VM templates in the plan by the cloud provider will be visible
    to tenants in the create standalone VM menu.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a standalone virtual machine
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'To create a standalone virtual machine, we will have to follow these steps:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the tenant portal using the tenant's admin account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **NEW** button in the bottom pane and select **STANDALONE VIRTUAL
    MACHINE**.![Creating a standalone virtual machine](img/00136.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **QUICK CREATE** or **FROM GALLERY** as applicable.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the templates or disks available to tenants. Clicking on the object will
    display its descriptions configured by the cloud administrator.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide the VM name, password, and product key if applicable.![Creating a standalone
    virtual machine](img/00137.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the network to which this VM needs to be attached. The newly created
    VNet will be visible in the drop-down list.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now the **CREATE VIRTUAL MACHINE** operation will start. VM will be listed under
    the virtual machines workspace in portal post completion.![Creating a standalone
    virtual machine](img/00138.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Management operations – standalone virtual machine
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The tenant''s administrators can perform the following management operations
    using the tenant portal on a standalone virtual machine:'
  prefs: []
  type: TYPE_NORMAL
- en: View status and resource the usage of the virtual machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Connect to the virtual machine using the console or RDP
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Pause, restart, shutdown, start, stop, and delete the virtual machine
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Create, view, and restore checkpoints
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Modify the virtual machine size
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Attach additional devices to the VM such as network adaptor, disk, and DVD
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic operations given next can be accessed by selecting virtual machines in
    the VM workspace.
  prefs: []
  type: TYPE_NORMAL
- en: '![Management operations – standalone virtual machine](img/00139.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Additional operations such as dashboard of VM resource usage and additional
    advanced operations can be performed under **samplevm** | **DASHBOARD**.
  prefs: []
  type: TYPE_NORMAL
- en: '![Management operations – standalone virtual machine](img/00140.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: The **CONFIGURE** page allows tenants to modify VM configuration such as **VIRTUAL
    MACHINE SIZE**, attaching devices to VMs such as network, DVD, and disk.
  prefs: []
  type: TYPE_NORMAL
- en: '![Management operations – standalone virtual machine](img/00141.jpeg)'
  prefs: []
  type: TYPE_IMG
- en: Virtual machine Role – provisioning and management
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Virtual machine Role enables tenants to deploy virtual machines along with applications
    in an easy scale in and out manner. A VM Role may contain one or more virtual
    machines of the same type. See [Chapter 4](part0040_split_000.html#164MG1-b479cf466c26404ca54119871a9b2715
    "Chapter 4. Building VM Clouds and IaaS Offerings"), *Building VM Clouds and IaaS
    Offerings* to know more about VM Role.
  prefs: []
  type: TYPE_NORMAL
- en: Creating a VM Role
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'For creating a VM Role, steps are required to be followed:'
  prefs: []
  type: TYPE_NORMAL
- en: Log into the tenant portal using the tenant admin account.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the **NEW** button in bottom pane, and click on **VIRTUAL MACHINE ROLE**.![Creating
    a VM Role](img/00142.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **QUICK CREATE** or **FROM GALLERY** as applicable.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Choose the gallery item to deploy VM Role.![Creating a VM Role](img/00143.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide the VM Role name and select its version. Note that this is not the VM's
    name or hostname. All VM instances will be available under this VM Role name.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide the virtual machine configuration such as VM size, disk, IP address
    type, network, hostname pattern, domain, or workgroup settings as applicable.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide scaling settings such as **INITIAL INSTANCE COUNT**, **MINIMUM INSTANCE
    COUNT**, and **MAXIMUM INSTANCE COUNT**.![Creating a VM Role](img/00144.jpeg)
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '**CREATE VIRTUAL MACHINE ROLE** operation will be start. VM Role will be listed
    under virtual machines workspace in the portal post successful provisioning.'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Management operations – virtual machine Role
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The tenant''s administrators can perform the following management operations
    using the tenant portal on virtual machine Roles:'
  prefs: []
  type: TYPE_NORMAL
- en: It can view status and resource the usage of virtual machine Role
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can view the list of virtual machine instances under VM Role
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can connect to virtual machines using a console or RDP
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can pause, restart, shutdown, start, stop, and delete virtual machines
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can view status and resource usage of individual VM instances
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can scale in and out VM Role
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can create, view, and restore checkpoints
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can modify the virtual machine Role configuration (this impacts all MV instanced
    under VM Role)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can attach additional devices to a VM such as network adaptor, disk, and
    DVD
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can delete virtual machine Role
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'VM Role management operations are spread across four pages or categories as
    follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '**VM Role Dashboard**: The **DASHBOARD** page can be used to get a quick glance
    at VM Role and resources usage as follows:![Management operations – virtual machine
    Role](img/00145.jpeg)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Instances**: The **INSTANCES** page gives a list of all VM instances under
    selected VM Role. Each VM instance can be selected for VM-specific operations
    in the same standalone VM Role.![Management operations – virtual machine Role](img/00146.jpeg)'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Scale**: The **SCALE** page can be used to scale in and out VM Role as per
    defined settings by the cloud provider or the tenant administrator during the
    VM Role creation. Scaling out a VM Role will deploy additional VMs using VM Role
    settings. Scaling in and out can be performed by just moving the slider from left
    or right.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Move the scaling slider left or right, and click on save to perform scaling
    in or out a VM Role.
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '![Management operations – virtual machine Role](img/00147.jpeg)'
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**Configure**: The **CONFIGURE** page can be used to modify VM Role settings
    selected during the VM Role provisioning. Note that only the new VMs that are
    being deployed in VM Role will be configured with new settings. Any existing VM
    has to be recreated to have an effect of new settings unless it is manually modified.'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we experienced provisioning and management of IaaS cloud services
    from a tenant's point of view. We registered a new tenant using WAP's self-service
    portal and subscribed to a plan created earlier. We created virtual networks,
    standalone virtual machines, and VM Role. You also learned about management operations
    on networks and virtual machines such as modifying a network and scaling in and
    out a VM Role.
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we will move forward to building **PaaS** (**Platform as
    a Services**) cloud offerings including websites and service bus services.
  prefs: []
  type: TYPE_NORMAL
