<html><head></head><body>
<div class="Basic-Text-Frame" id="_idContainer133">
<h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">7</span></h1>
<h1 class="chapterTitle" id="_idParaDest-224"><span class="koboSpan" id="kobo.2.1">Security Considerations</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.3.1">Security is always at the center of architectural design. </span><span class="koboSpan" id="kobo.3.2">Many enterprises suffer financial losses due to security breaches when their customer data gets leaked. </span><span class="koboSpan" id="kobo.3.3">Organizations can, therefore, not only lose customer trust but also the entire business.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.4.1">There are many industry-standard compliances and regulations out there to make sure your application is </span><em class="italic"><span class="koboSpan" id="kobo.5.1">secure</span></em><span class="koboSpan" id="kobo.6.1"> and protects customer-sensitive data. </span><span class="koboSpan" id="kobo.6.2">In the previous chapter, you learned about various aspects of performance improvement and technology choices for your architecture. </span><span class="koboSpan" id="kobo.6.3">In this chapter, you will gain an understanding of best practices to secure your application and make sure it is compliant with industry-standard regulations.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.7.1">Security in architecture doesn’t only mean protecting the edge of your IT workload. </span><span class="koboSpan" id="kobo.7.2">It also includes making sure that different parts of your application infrastructure are safe from each other. </span><span class="koboSpan" id="kobo.7.3">For example, on a server, you can use a firewall to control which data can enter or leave and where it can go. </span><span class="koboSpan" id="kobo.7.4">This way, if one part has a security issue, it won’t affect the rest. </span><span class="koboSpan" id="kobo.7.5">You need to do the same for all parts, such as your data and programs. </span><span class="koboSpan" id="kobo.7.6">Security needs to be applied to every layer and every component of the architecture. </span><span class="koboSpan" id="kobo.7.7">This chapter also discusses different ways to keep your cloud system safe.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.8.1">You will learn about the following security practices in this chapter:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.9.1">Design principles for architectural security</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.10.1">Selecting technology for architectural security</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.11.1">Security and compliance certifications</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.12.1">The cloud’s shared security responsibility model</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.13.1">Security threat modeling</span></li>
</ul>
<h1 class="heading-1" id="_idParaDest-225"><span class="koboSpan" id="kobo.14.1">Design principles for architectural security</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.15.1">Security is all about the ability to protect your system and information while delivering business </span><a id="_idIndexMarker861"/><span class="koboSpan" id="kobo.16.1">value for your customers. </span><span class="koboSpan" id="kobo.16.2">Lack of good security can have a serious impact on your customers and business.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.17.1">You need to conduct an in-depth security risk assessment and plan a mitigation strategy for the continuous operation of your business. </span><span class="koboSpan" id="kobo.17.2">The following sections talk about standard design principles that will help you strengthen your architectural security.</span></p>
<h2 class="heading-2" id="_idParaDest-226"><span class="koboSpan" id="kobo.18.1">Implementing authentication and authorization control</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.19.1">The purpose of </span><strong class="keyWord"><span class="koboSpan" id="kobo.20.1">authentication</span></strong><span class="koboSpan" id="kobo.21.1"> is to determine whether a user can access the system with the </span><a id="_idIndexMarker862"/><span class="koboSpan" id="kobo.22.1">provided credentials, while </span><strong class="keyWord"><span class="koboSpan" id="kobo.23.1">authorization</span></strong><span class="koboSpan" id="kobo.24.1"> determines what a user can do once they are inside the system.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.25.1">You should </span><a id="_idIndexMarker863"/><span class="koboSpan" id="kobo.26.1">create a centralized system to manage your users’ authentication and authorization. </span><span class="koboSpan" id="kobo.26.2">A centralized user management system helps you to keep </span><a id="_idIndexMarker864"/><span class="koboSpan" id="kobo.27.1">track of users’ activity so you can deactivate them if they are no longer a part of the system or are no longer using it appropriately. </span><span class="koboSpan" id="kobo.27.2">You can define standard rules </span><a id="_idIndexMarker865"/><span class="koboSpan" id="kobo.28.1">to onboard a new user and remove access for inactive users. </span><span class="koboSpan" id="kobo.28.2">A centralized system eliminates reliance on long-term credentials and allows you to configure other security methods, such as password rotation.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.29.1">For authorization, you should </span><a id="_idIndexMarker866"/><span class="koboSpan" id="kobo.30.1">start with the </span><strong class="keyWord"><span class="koboSpan" id="kobo.31.1">principle of least privilege</span></strong><span class="koboSpan" id="kobo.32.1">—this means users should not have any access to begin with and are assigned only the required access types according to their job role. </span><span class="koboSpan" id="kobo.32.2">Creating an access group according to job role helps to manage the authorization policy in one place and apply authorization restrictions across a large number of users. </span><span class="koboSpan" id="kobo.32.3">For example, you can restrict the development team to have full access to the development environment and read-only access to the production environment. </span><span class="koboSpan" id="kobo.32.4">If any new developer joins, they should be added to this dev group, where all authorization policies are managed centrally.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.33.1">Enabling </span><strong class="keyWord"><span class="koboSpan" id="kobo.34.1">single sign-on</span></strong><span class="koboSpan" id="kobo.35.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.36.1">SSO</span></strong><span class="koboSpan" id="kobo.37.1">) with a </span><a id="_idIndexMarker867"/><span class="koboSpan" id="kobo.38.1">centralized user repository helps to reduce the hassle of remembering multiple passwords for your user base and </span><a id="_idIndexMarker868"/><span class="koboSpan" id="kobo.39.1">eliminates any risk of password leakage. </span><span class="koboSpan" id="kobo.39.2">To further enhance security, integrating </span><strong class="keyWord"><span class="koboSpan" id="kobo.40.1">multi-factor authentication</span></strong><span class="koboSpan" id="kobo.41.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.42.1">MFA</span></strong><span class="koboSpan" id="kobo.43.1">) with SSO adds an additional layer of protection. </span><span class="koboSpan" id="kobo.43.2">MFA requires users to provide two or more verification factors to gain access to a resource, such as a security token, a fingerprint, or facial recognition.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.44.1">Large organizations </span><a id="_idIndexMarker869"/><span class="koboSpan" id="kobo.45.1">use centralized user management tools such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.46.1">Active Directory</span></strong><span class="koboSpan" id="kobo.47.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.48.1">AD</span></strong><span class="koboSpan" id="kobo.49.1">) for employee authentication and authorization to provide access to internal enterprise applications such as the HR system, the expense system, and the timesheet application.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.50.1">In a customer-facing application, such as e-commerce and social media websites, you can use </span><a id="_idIndexMarker870"/><span class="koboSpan" id="kobo.51.1">an OpenID </span><a id="_idIndexMarker871"/><span class="koboSpan" id="kobo.52.1">authentication system to maintain a centralized system. </span><span class="koboSpan" id="kobo.52.2">OpenID is an open standard authentication protocol. </span><span class="koboSpan" id="kobo.52.3">You will learn about large-scale user management tools in more detail in the </span><em class="italic"><span class="koboSpan" id="kobo.53.1">OAuth and OpenID Connect</span></em><span class="koboSpan" id="kobo.54.1"> section of this chapter.</span></p>
<h2 class="heading-2" id="_idParaDest-227"><span class="koboSpan" id="kobo.55.1">Applying security everywhere</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.56.1">Often, organizations primarily focus on ensuring the physical safety of their data center and protecting </span><a id="_idIndexMarker872"/><span class="koboSpan" id="kobo.57.1">the outer networking layer from any attack. </span><span class="koboSpan" id="kobo.57.2">Instead of just focusing on a single outer layer, ensure that security is applied at every application layer.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.58.1">Apply the </span><strong class="keyWord"><span class="koboSpan" id="kobo.59.1">defense-in-depth</span></strong><span class="koboSpan" id="kobo.60.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.61.1">DiD</span></strong><span class="koboSpan" id="kobo.62.1">) approach to layer security controls throughout an application; for </span><a id="_idIndexMarker873"/><span class="koboSpan" id="kobo.63.1">example, a web application needs to </span><a id="_idIndexMarker874"/><span class="koboSpan" id="kobo.64.1">be secured from external internet traffic by protecting the </span><strong class="keyWord"><span class="koboSpan" id="kobo.65.1">Enhanced Data rates for Global Evolution</span></strong><span class="koboSpan" id="kobo.66.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.67.1">EDGE</span></strong><span class="koboSpan" id="kobo.68.1">) network </span><a id="_idIndexMarker875"/><span class="koboSpan" id="kobo.69.1">and </span><strong class="keyWord"><span class="koboSpan" id="kobo.70.1">Domain Name System</span></strong><span class="koboSpan" id="kobo.71.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.72.1">DNS</span></strong><span class="koboSpan" id="kobo.73.1">) routing. </span><span class="koboSpan" id="kobo.73.2">Apply security at the load balancer and network layers to block malicious traffic.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.74.1">Secure every application instance by allowing only required incoming and outgoing traffic in the web application and database layer. </span><span class="koboSpan" id="kobo.74.2">Protect operating systems with antivirus software to safeguard against any malware attack. </span><span class="koboSpan" id="kobo.74.3">Apply both proactive and reactive measures </span><a id="_idIndexMarker876"/><span class="koboSpan" id="kobo.75.1">of protection by putting an </span><strong class="keyWord"><span class="koboSpan" id="kobo.76.1">intrusion detection system</span></strong><span class="koboSpan" id="kobo.77.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.78.1">IDS</span></strong><span class="koboSpan" id="kobo.79.1">) and </span><strong class="keyWord"><span class="koboSpan" id="kobo.80.1">intrusion prevention system</span></strong><span class="koboSpan" id="kobo.81.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.82.1">IPS</span></strong><span class="koboSpan" id="kobo.83.1">) in front of your traffic flow </span><a id="_idIndexMarker877"/><span class="koboSpan" id="kobo.84.1">and using a </span><strong class="keyWord"><span class="koboSpan" id="kobo.85.1">web application firewall</span></strong><span class="koboSpan" id="kobo.86.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.87.1">WAF</span></strong><span class="koboSpan" id="kobo.88.1">) to protect </span><a id="_idIndexMarker878"/><span class="koboSpan" id="kobo.89.1">your application from various kinds of attacks. </span><span class="koboSpan" id="kobo.89.2">You will learn more details about the various security tools to use in the </span><em class="italic"><span class="koboSpan" id="kobo.90.1">Selecting technology for architectural security</span></em><span class="koboSpan" id="kobo.91.1"> section of this chapter.</span></p>
<h2 class="heading-2" id="_idParaDest-228"><span class="koboSpan" id="kobo.92.1">Reducing the blast radius</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.93.1">While applying security measures at every layer, you should keep your system isolated in a small </span><a id="_idIndexMarker879"/><span class="koboSpan" id="kobo.94.1">pocket to reduce the blast radius. </span><span class="koboSpan" id="kobo.94.2">If attackers get access to one part of the system, you should be able to limit a security breach to the smallest possible area of the application. </span><span class="koboSpan" id="kobo.94.3">For example, in a web application, keep your load balancer in a separate network from other layers of the architecture, as that will be internet-facing. </span><span class="koboSpan" id="kobo.94.4">Further more, apply network separation at the web, application, and database layers. </span><span class="koboSpan" id="kobo.94.5">If an attack happens in one layer, you should prevent it from expanding to other layers of the architecture.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.95.1">The same </span><a id="_idIndexMarker880"/><span class="koboSpan" id="kobo.96.1">rules are applied to your authorization system, giving the least privilege to users and providing only the minimum required access. </span><span class="koboSpan" id="kobo.96.2">Implement MFA so that even if there’s a breach in user access, the attacker always needs a second level of authentication to get into the system.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.97.1">Provide minimal access to the system to ensure that you are not exposing the entire system, and provide temporary credentials to make sure access is kept open for a short time. </span><span class="koboSpan" id="kobo.97.2">Take precautions when providing programmatic access by putting a secure token in place with frequent key rotation.</span></p>
<h2 class="heading-2" id="_idParaDest-229"><span class="koboSpan" id="kobo.98.1">Monitoring and auditing everything all the time</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.99.1">You need a logging mechanism for every activity in your system, and you should conduct a regular </span><a id="_idIndexMarker881"/><span class="koboSpan" id="kobo.100.1">audit. </span><span class="koboSpan" id="kobo.100.2">Audit capabilities are often required from various industry-compliance regulations. </span><span class="koboSpan" id="kobo.100.3">Collect logs from </span><a id="_idIndexMarker882"/><span class="koboSpan" id="kobo.101.1">every component, including all transactions and each API call, to put centralized monitoring in place. </span><span class="koboSpan" id="kobo.101.2">It is a good practice to add a level of security and access limitations to a centralized logging account so that no one can tamper with it.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.102.1">Take a proactive approach and be ready to handle any incident before the user is affected. </span><span class="koboSpan" id="kobo.102.2">Alert capabilities with centralized monitoring help you take quick action and mitigate any incident. </span><span class="koboSpan" id="kobo.102.3">Monitor all user activity and application accounts to limit a security breach.</span></p>
<h2 class="heading-2" id="_idParaDest-230"><span class="koboSpan" id="kobo.103.1">Automating everything</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.104.1">Automation is essential for applying quick mitigation for any security-rule violation. </span><span class="koboSpan" id="kobo.104.2">You can use </span><a id="_idIndexMarker883"/><span class="koboSpan" id="kobo.105.1">automation to revert changes against desired configurations and alert the security team—for example, if someone added admin users to your system and an open firewall to an unauthorized port or IP address. </span><span class="koboSpan" id="kobo.105.2">You can apply automation to remove such undesired changes in the system.</span></p>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.106.1">Applying automation to security systems has become popular with the concept of DevSecOps. </span><span class="koboSpan" id="kobo.106.2">DevSecOps is about adding security to every part of application development and operations. </span><span class="koboSpan" id="kobo.106.3">You will learn more about DevSecOps in </span><em class="chapterRef"><span class="koboSpan" id="kobo.107.1">Chapter 11</span></em><span class="koboSpan" id="kobo.108.1">, </span><em class="italic"><span class="koboSpan" id="kobo.109.1">DevOps and Solution Architecture Framework</span></em><span class="koboSpan" id="kobo.110.1">.</span></p>
</div>
<p class="normal"><span class="koboSpan" id="kobo.111.1">Create secure architectures and implement security controls that are defined and managed as code. </span><span class="koboSpan" id="kobo.111.2">You can version-control your security as a code template and analyze changes as required. </span><span class="koboSpan" id="kobo.111.3">Automated security mechanisms as software code help you scale security operations more rapidly and cost-effectively.</span></p>
<h2 class="heading-2" id="_idParaDest-231"><span class="koboSpan" id="kobo.112.1">Protecting data</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.113.1">Data is at the center of your architecture, and it is essential to secure and protect it. </span><span class="koboSpan" id="kobo.113.2">Most of the </span><a id="_idIndexMarker884"/><span class="koboSpan" id="kobo.114.1">compliance regulations in place are there to protect customer data and identity. </span><span class="koboSpan" id="kobo.114.2">Most attacks have the intention of stealing user data. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.115.1">You should categorize your data by its sensitivity level and protect it accordingly. </span><span class="koboSpan" id="kobo.115.2">For example, customer credit card information should be the most sensitive data and should be handled with the utmost care. </span><span class="koboSpan" id="kobo.115.3">On the other hand, a customer’s first name may not be that sensitive, while the card number is sensitive information.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.116.1">Protecting data throughout its lifecycle is crucial for maintaining its confidentiality, integrity, and availability. </span><span class="koboSpan" id="kobo.116.2">Data can exist in three states, and each state requires specific security measures to ensure comprehensive protection:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.117.1">Data at rest</span></strong><span class="koboSpan" id="kobo.118.1">: This </span><a id="_idIndexMarker885"/><span class="koboSpan" id="kobo.119.1">refers to data stored on physical media, whether on a server’s hard drive, a laptop, a USB stick, or cloud storage. </span><span class="koboSpan" id="kobo.119.2">One protection mechanism for data at rest is encryption, which ensures that even if the storage device falls into the wrong hands, the data remains inaccessible without the encryption key. </span><span class="koboSpan" id="kobo.119.3">Additionally, you need to have access controls and regular audits in place to ensure that only authorized users can access or modify the data.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.120.1">Data in transit</span></strong><span class="koboSpan" id="kobo.121.1">: When data moves across a network—from a user’s computer </span><a id="_idIndexMarker886"/><span class="koboSpan" id="kobo.122.1">to a server, between servers, or across the internet—it’s considered in transit. </span><span class="koboSpan" id="kobo.122.2">To protect data in transit, you </span><a id="_idIndexMarker887"/><span class="koboSpan" id="kobo.123.1">can use encryption protocols such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.124.1">Transport Layer Security</span></strong><span class="koboSpan" id="kobo.125.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.126.1">TLS</span></strong><span class="koboSpan" id="kobo.127.1">). </span><span class="koboSpan" id="kobo.127.2">This ensures that even if the data is intercepted during transmission, it remains unreadable to the attacker.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.128.1">Data in use</span></strong><span class="koboSpan" id="kobo.129.1">: This is often the most challenging state to protect because the data is </span><a id="_idIndexMarker888"/><span class="koboSpan" id="kobo.130.1">being processed or used by applications. </span><span class="koboSpan" id="kobo.130.2">Encryption can protect data at rest and in transit, but once it’s loaded into memory and being used by an application, it’s in plaintext and potentially </span><a id="_idIndexMarker889"/><span class="koboSpan" id="kobo.131.1">vulnerable. </span><span class="koboSpan" id="kobo.131.2">New technologies such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.132.1">trusted execution environments</span></strong><span class="koboSpan" id="kobo.133.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.134.1">TEEs</span></strong><span class="koboSpan" id="kobo.135.1">) and homomorphic encryption are emerging to secure data in use, allowing operations on encrypted data without needing to decrypt it first.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.136.1">Create mechanisms and tools that minimize the need for direct access to data. </span><span class="koboSpan" id="kobo.136.2">Avoid manual data </span><a id="_idIndexMarker890"/><span class="koboSpan" id="kobo.137.1">processing by applying tool-based automation that eliminates human error, especially when handling sensitive data. </span><span class="koboSpan" id="kobo.137.2">Apply access restrictions to the data wherever possible to reduce the risk of data loss or data modification.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.138.1">Once you categorize data by sensitivity, you can use the appropriate encryption, tokenization, and access control to protect the data. </span><span class="koboSpan" id="kobo.138.2">Data needs to be protected not only at rest but also in motion—when being transmitted over the network—as well. </span><span class="koboSpan" id="kobo.138.3">You will learn about various mechanisms to protect data in the </span><em class="italic"><span class="koboSpan" id="kobo.139.1">Data security</span></em><span class="koboSpan" id="kobo.140.1"> section of this chapter.</span></p>
<h2 class="heading-2" id="_idParaDest-232"><span class="koboSpan" id="kobo.141.1">Responding to security incidents</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.142.1">Keep yourself ready for any security events. </span><span class="koboSpan" id="kobo.142.2">Create an incident management process as per your </span><a id="_idIndexMarker891"/><span class="koboSpan" id="kobo.143.1">organizational policy requirements. </span><span class="koboSpan" id="kobo.143.2">Incident management can differ from one organization to another and from </span><a id="_idIndexMarker892"/><span class="koboSpan" id="kobo.144.1">one application to another. </span><span class="koboSpan" id="kobo.144.2">For example, if your application handles the </span><strong class="keyWord"><span class="koboSpan" id="kobo.145.1">personally identifiable information</span></strong><span class="koboSpan" id="kobo.146.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.147.1">PII</span></strong><span class="koboSpan" id="kobo.148.1">) of your customers, you need tighter security measures in your incident response. </span><span class="koboSpan" id="kobo.148.2">However, if the application is handling small amounts of sensitive data, such as an inventory management application, then it will have a different approach.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.149.1">Make sure to simulate the incident response to see how your security team would recover from a situation.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.150.1">Your team </span><a id="_idIndexMarker893"/><span class="koboSpan" id="kobo.151.1">should use automation tools to speed up detection, investigation, and response to any security event. </span><span class="koboSpan" id="kobo.151.2">You will </span><a id="_idIndexMarker894"/><span class="koboSpan" id="kobo.152.1">need to set up the alert, monitor, and audit mechanisms to do </span><strong class="keyWord"><span class="koboSpan" id="kobo.153.1">root cause analysis</span></strong><span class="koboSpan" id="kobo.154.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.155.1">RCA</span></strong><span class="koboSpan" id="kobo.156.1">) to prevent such events from occurring again.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.157.1">In this section, you learned about the general security principles to apply in your architecture for application security. </span><span class="koboSpan" id="kobo.157.2">In the next section, you will learn how to apply these principles using different tools and techniques.</span></p>
<h1 class="heading-1" id="_idParaDest-233"><span class="koboSpan" id="kobo.158.1">Selecting technology for architectural security</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.159.1">The previous section focused on the general application security rules to consider while designing </span><a id="_idIndexMarker895"/><span class="koboSpan" id="kobo.160.1">architecture. </span><span class="koboSpan" id="kobo.160.2">Still, the question is: </span><em class="italic"><span class="koboSpan" id="kobo.161.1">How do we apply these rules to make the application secure during implementation?</span></em><span class="koboSpan" id="kobo.162.1"> There are various tools and technologies available for each layer of your application to make it secure.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.163.1">In this section, you will learn in detail about the multiple technology choices you have in the areas of user management and the protection of the web layer, infrastructure, and data of your application. </span><span class="koboSpan" id="kobo.163.2">Let’s start with the first area, user identity and access management.</span></p>
<h2 class="heading-2" id="_idParaDest-234"><span class="koboSpan" id="kobo.164.1">User identity and access management</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.165.1">User identity and access management are vital parts of information security. </span><span class="koboSpan" id="kobo.165.2">This is because </span><a id="_idIndexMarker896"/><span class="koboSpan" id="kobo.166.1">it’s best to </span><a id="_idIndexMarker897"/><span class="koboSpan" id="kobo.167.1">ensure that only authenticated and authorized users can access your system resources in a defined manner.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.168.1">User management could be a daunting task as your organization grows and your product is more widely adopted. </span><span class="koboSpan" id="kobo.168.2">User access management should differentiate and manage access to an organization’s employees, vendors, and customers.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.169.1">Enterprise or corporate users could be the organization’s employees, contractors, or vendors. </span><span class="koboSpan" id="kobo.169.2">They are specialist users with special privileges to develop, test, and deploy the application. </span><span class="koboSpan" id="kobo.169.3">In addition to that, they probably require access to other corporate systems to do their </span><a id="_idIndexMarker898"/><span class="koboSpan" id="kobo.170.1">daily job—for example, an </span><strong class="keyWord"><span class="koboSpan" id="kobo.171.1">Enterprise Resource System</span></strong><span class="koboSpan" id="kobo.172.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.173.1">ERP</span></strong><span class="koboSpan" id="kobo.174.1">), a payroll system, an HR system, a timesheet application, and so on. </span><span class="koboSpan" id="kobo.174.2">As your organization grows, the number of users can grow from hundreds to thousands.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.175.1">The end users are the customers who use your applications and have enough access to explore and utilize the desired feature of the application—for example, players of a gaming </span><a id="_idIndexMarker899"/><span class="koboSpan" id="kobo.176.1">application, users of social media applications, or customers of an e-commerce website. </span><span class="koboSpan" id="kobo.176.2">The number of these users could be from thousands to millions as the popularity </span><a id="_idIndexMarker900"/><span class="koboSpan" id="kobo.177.1">of your product or application grows. </span><span class="koboSpan" id="kobo.177.2">You need to take special care of security when exposing the application to external-facing internet traffic to protect it from various threats.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.178.1">Let’s talk about corporate user management first. </span><span class="koboSpan" id="kobo.178.2">You need to have a centralized repository to enforce security policies such as strong password creation, password rotation, and MFA for better user management. </span><span class="koboSpan" id="kobo.178.3">MFA provides another means of validating someone’s identity if a password may have already been compromised. </span><span class="koboSpan" id="kobo.178.4">Popular MFA providers include Google Authenticator, Gemalto, YubiKey, RSA SecurID, Duo, and Microsoft Authenticator.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.179.1">From a </span><a id="_idIndexMarker901"/><span class="koboSpan" id="kobo.180.1">user-access perspective, </span><strong class="keyWord"><span class="koboSpan" id="kobo.181.1">role-based authentication</span></strong><span class="koboSpan" id="kobo.182.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.183.1">RBA</span></strong><span class="koboSpan" id="kobo.184.1">) simplifies user management; you can create user groups for the users’ roles and assign an appropriate access policy. </span><span class="koboSpan" id="kobo.184.2">As illustrated in the following diagram, you can have three groups—admin, developer, and tester—with the corresponding access policy applied to each group. </span><span class="koboSpan" id="kobo.184.3">For example, an admin can access any system, including production, while developer access is limited to the dev environment, and the tester can only access the test environment:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.185.1"><img alt="" role="presentation" src="../Images/B21336_07_01.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.186.1">Figure 7.1: User group organization</span></p>
<p class="normal"><span class="koboSpan" id="kobo.187.1">As shown in the preceding diagram, when new users join the team, they get assigned to the </span><a id="_idIndexMarker902"/><span class="koboSpan" id="kobo.188.1">appropriate group for their role. </span><span class="koboSpan" id="kobo.188.2">In this way, each user has a defined set of standard access. </span><span class="koboSpan" id="kobo.188.3">The user </span><a id="_idIndexMarker903"/><span class="koboSpan" id="kobo.189.1">group can also update access in case a new development environment is introduced and all developers need to have access to it.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.190.1">SSO is a standard </span><a id="_idIndexMarker904"/><span class="koboSpan" id="kobo.191.1">process that helps to reduce security lapses and automate the system. </span><span class="koboSpan" id="kobo.191.2">SSO provides users with a login to the different corporate systems using a single user ID and password. </span><strong class="keyWord"><span class="koboSpan" id="kobo.192.1">Federated Identity Management</span></strong><span class="koboSpan" id="kobo.193.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.194.1">FIM</span></strong><span class="koboSpan" id="kobo.195.1">) allows users to access the system without a password with a pre-authenticated mechanism. </span><span class="koboSpan" id="kobo.195.2">Let’s look at some more details.</span></p>
<h3 class="heading-3" id="_idParaDest-235"><span class="koboSpan" id="kobo.196.1">Federated identity management and single sign-on</span></h3>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.197.1">FIM</span></strong><span class="koboSpan" id="kobo.198.1"> provides </span><a id="_idIndexMarker905"/><span class="koboSpan" id="kobo.199.1">a way to connect the identity management system when user information </span><a id="_idIndexMarker906"/><span class="koboSpan" id="kobo.200.1">is stored in a third-party </span><strong class="keyWord"><span class="koboSpan" id="kobo.201.1">identity provider</span></strong><span class="koboSpan" id="kobo.202.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.203.1">IdP</span></strong><span class="koboSpan" id="kobo.204.1">). </span><span class="koboSpan" id="kobo.204.2">With FIM, the </span><a id="_idIndexMarker907"/><span class="koboSpan" id="kobo.205.1">user only provides authentication information to the IdP, which, in turn, already has a trusted relationship with the service.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.206.1">As illustrated in the following diagram, when a user logs in to access a service, the service provider gets credentials from the IdP rather than getting them directly from the user:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.207.1"><img alt="A picture containing text, screenshot, diagram, line  Description automatically generated" src="../Images/B21336_07_02.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.208.1">Figure 7.2: FIM authentication flow</span></p>
<p class="normal"><span class="koboSpan" id="kobo.209.1">SSO </span><a id="_idIndexMarker908"/><span class="koboSpan" id="kobo.210.1">allows the use of a single set of sign-on details with which the user can access multiple services. </span><span class="koboSpan" id="kobo.210.2">Here, the </span><a id="_idIndexMarker909"/><span class="koboSpan" id="kobo.211.1">service provider could target an environment to which you want to log in—for </span><a id="_idIndexMarker910"/><span class="koboSpan" id="kobo.212.1">example, a </span><strong class="keyWord"><span class="koboSpan" id="kobo.213.1">Customer Relationship Management</span></strong><span class="koboSpan" id="kobo.214.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.215.1">CRM</span></strong><span class="koboSpan" id="kobo.216.1">) application or your cloud application. </span><span class="koboSpan" id="kobo.216.2">The IdP could be a corporate AD. </span><span class="koboSpan" id="kobo.216.3">Federation allows authentication similar to an SSO but without a password, as the federation server knows users and allows them to access information.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.217.1">There </span><a id="_idIndexMarker911"/><span class="koboSpan" id="kobo.218.1">are various ways to implement FIM and SSO. </span><span class="koboSpan" id="kobo.218.2">Let’s look at some of the popular </span><strong class="keyWord"><span class="koboSpan" id="kobo.219.1">Identity and Access Management</span></strong><span class="koboSpan" id="kobo.220.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.221.1">IAM</span></strong><span class="koboSpan" id="kobo.222.1">) options.</span></p>
<h3 class="heading-3" id="_idParaDest-236"><span class="koboSpan" id="kobo.223.1">Kerberos</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.224.1">Kerberos </span><a id="_idIndexMarker912"/><span class="koboSpan" id="kobo.225.1">is an authentication protocol that </span><a id="_idIndexMarker913"/><span class="koboSpan" id="kobo.226.1">allows two systems to identify each other securely and implements SSO. </span><span class="koboSpan" id="kobo.226.2">It works on the client-server model and uses a ticket system for user identity.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.227.1">Kerberos </span><a id="_idIndexMarker914"/><span class="koboSpan" id="kobo.228.1">has a </span><strong class="keyWord"><span class="koboSpan" id="kobo.229.1">Key Distribution Center</span></strong><span class="koboSpan" id="kobo.230.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.231.1">KDC</span></strong><span class="koboSpan" id="kobo.232.1">) that facilitates </span><a id="_idIndexMarker915"/><span class="koboSpan" id="kobo.233.1">authentication between two systems. </span><span class="koboSpan" id="kobo.233.2">The KDC consists </span><a id="_idIndexMarker916"/><span class="koboSpan" id="kobo.234.1">of two logical parts—the </span><strong class="keyWord"><span class="koboSpan" id="kobo.235.1">Authentication Server</span></strong><span class="koboSpan" id="kobo.236.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.237.1">AS</span></strong><span class="koboSpan" id="kobo.238.1">) and the </span><strong class="keyWord"><span class="koboSpan" id="kobo.239.1">Ticket-Granting Server</span></strong><span class="koboSpan" id="kobo.240.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.241.1">TGS</span></strong><span class="koboSpan" id="kobo.242.1">).</span></p>
<p class="normal"><span class="koboSpan" id="kobo.243.1">Kerberos stores and maintains the secret keys of each client and server in the data store. </span><span class="koboSpan" id="kobo.243.2">It establishes a secure session between two systems during their communication and identifies </span><a id="_idIndexMarker917"/><span class="koboSpan" id="kobo.244.1">them with the stored </span><a id="_idIndexMarker918"/><span class="koboSpan" id="kobo.245.1">secret key. </span><span class="koboSpan" id="kobo.245.2">The following diagram illustrates the flow of Kerberos authentication:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.246.1"><img alt="" role="presentation" src="../Images/B21336_07_03.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.247.1">Figure 7.3: Kerberos authentication</span></p>
<p class="normal"><span class="koboSpan" id="kobo.248.1">As shown in the preceding diagram, when you want to access a service, the following steps are involved:</span></p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.249.1">When you want to access a service on your computer network, your computer (the client) asks a </span><a id="_idIndexMarker919"/><span class="koboSpan" id="kobo.250.1">special server called the </span><strong class="keyWord"><span class="koboSpan" id="kobo.251.1">Authentication Server</span></strong> <strong class="keyWord"><span class="koboSpan" id="kobo.252.1">AS</span></strong><span class="koboSpan" id="kobo.253.1"> for a ticket.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.254.1">The AS checks if you’re in its database. </span><span class="koboSpan" id="kobo.254.2">If you are, it creates a </span><strong class="keyWord"><span class="koboSpan" id="kobo.255.1">Ticket-Granting Ticket</span></strong><span class="koboSpan" id="kobo.256.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.257.1">TGT</span></strong><span class="koboSpan" id="kobo.258.1">) and a session key, then sends them back to your computer. </span><span class="koboSpan" id="kobo.258.2">You can unlock the session key with your password, but you can’t unlock the TGT because it’s locked with a key that only the </span><strong class="keyWord"><span class="koboSpan" id="kobo.259.1">Ticket-Granting Server</span></strong><span class="koboSpan" id="kobo.260.1"> has.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.261.1">Your computer takes this TGT and asks another server, the TGS, for a service ticket to access the service you want.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.262.1">The TGS checks the TGT and, if everything looks good, sends back a service ticket that your computer can use to prove to the service that you have permission to access it.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.263.1">Your computer shows this ticket to the service, and if the service agrees that the ticket is valid, you get access.</span></li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.264.1">While Kerberos </span><a id="_idIndexMarker920"/><span class="koboSpan" id="kobo.265.1">can be beneficial, it is an </span><a id="_idIndexMarker921"/><span class="koboSpan" id="kobo.266.1">open-source protocol, and generally, large enterprises like to use more managed software with robust support, such as AD. </span><span class="koboSpan" id="kobo.266.2">Let’s look at the working mechanism of one of the most popular user management tools, Microsoft AD, which </span><a id="_idIndexMarker922"/><span class="koboSpan" id="kobo.267.1">is based on the </span><strong class="keyWord"><span class="koboSpan" id="kobo.268.1">Lightweight Directory Access Protocol</span></strong><span class="koboSpan" id="kobo.269.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.270.1">LDAP</span></strong><span class="koboSpan" id="kobo.271.1">).</span></p>
<h3 class="heading-3" id="_idParaDest-237"><span class="koboSpan" id="kobo.272.1">Microsoft Active Directory</span></h3>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.273.1">AD</span></strong><span class="koboSpan" id="kobo.274.1"> is an </span><a id="_idIndexMarker923"/><span class="koboSpan" id="kobo.275.1">identity service developed by Microsoft for users and </span><a id="_idIndexMarker924"/><span class="koboSpan" id="kobo.276.1">machines. </span><span class="koboSpan" id="kobo.276.2">AD has a domain controller, also </span><a id="_idIndexMarker925"/><span class="koboSpan" id="kobo.277.1">known as </span><strong class="keyWord"><span class="koboSpan" id="kobo.278.1">Active Directory Domain Services</span></strong><span class="koboSpan" id="kobo.279.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.280.1">AD DS</span></strong><span class="koboSpan" id="kobo.281.1">), which stores the user’s information, access credentials, and identity, as well as system information.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.282.1">The following diagram illustrates a simple flow of the authentication process:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.283.1"><img alt="A picture containing text, screenshot, font, line  Description automatically generated" src="../Images/B21336_07_04.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.284.1">Figure 7.4: AD authentication flow</span></p>
<p class="normal"><span class="koboSpan" id="kobo.285.1">As shown in the preceding diagram, the user login is managed by AD on the </span><a id="_idIndexMarker926"/><span class="koboSpan" id="kobo.286.1">domain networks. </span><span class="koboSpan" id="kobo.286.2">Users </span><a id="_idIndexMarker927"/><span class="koboSpan" id="kobo.287.1">first send the request to the domain controller </span><a id="_idIndexMarker928"/><span class="koboSpan" id="kobo.288.1">with their credentials and communicate with the </span><strong class="keyWord"><span class="koboSpan" id="kobo.289.1">Active Directory Authentication Library</span></strong><span class="koboSpan" id="kobo.290.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.291.1">ADAL</span></strong><span class="koboSpan" id="kobo.292.1">). </span><span class="koboSpan" id="kobo.292.2">The ADAL verifies the user credentials and sends back an access token with a continuous session for the requested service.</span></p>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.293.1">LDAP</span></strong><span class="koboSpan" id="kobo.294.1"> is the standard protocol that handles the tree-like hierarchical structure of information </span><a id="_idIndexMarker929"/><span class="koboSpan" id="kobo.295.1">stored in directories. </span><strong class="keyWord"><span class="koboSpan" id="kobo.296.1">Active Directory Lightweight Directory Services</span></strong><span class="koboSpan" id="kobo.297.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.298.1">AD LDS</span></strong><span class="koboSpan" id="kobo.299.1">) provides an LDAP interface </span><a id="_idIndexMarker930"/><span class="koboSpan" id="kobo.300.1">to the directory of users and </span><a id="_idIndexMarker931"/><span class="koboSpan" id="kobo.301.1">systems. </span><span class="koboSpan" id="kobo.301.2">For file encryption and network traffic encryption, </span><strong class="keyWord"><span class="koboSpan" id="kobo.302.1">Active Directory Certificate Services</span></strong><span class="koboSpan" id="kobo.303.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.304.1">AD CS</span></strong><span class="koboSpan" id="kobo.305.1">) provides the key infrastructure functionality. </span><strong class="keyWord"><span class="koboSpan" id="kobo.306.1">Active Directory Federation Services</span></strong><span class="koboSpan" id="kobo.307.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.308.1">AD FS</span></strong><span class="koboSpan" id="kobo.309.1">) provides access mechanisms for external resources, such as web app logins for many users.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.310.1">As many organizations have started using cloud services, let’s learn about the active directory service that AWS cloud provides.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.311.1">Amazon Web Services Directory Service</span></h4>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.312.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.313.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.314.1">AWS</span></strong><span class="koboSpan" id="kobo.315.1">) Directory Service connects AWS resources in your account with an </span><a id="_idIndexMarker932"/><span class="koboSpan" id="kobo.316.1">existing on-premises user management tool such as AD. </span><span class="koboSpan" id="kobo.316.2">AWS Directory Service sets up a new user management directory in the AWS cloud. </span><span class="koboSpan" id="kobo.316.3">It facilitates a secure connection to the on-premises directory. </span><span class="koboSpan" id="kobo.316.4">After establishing </span><a id="_idIndexMarker933"/><span class="koboSpan" id="kobo.317.1">the connection, all users can access cloud resources and on-premises applications with their existing credentials.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.318.1">AWS AD Connector is another service that helps you connect the existing Microsoft AD to the AWS cloud; you don’t need a specific directory synchronization tool. </span><span class="koboSpan" id="kobo.318.2">Admin users can manage AWS resources using AWS IAM.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.319.1">AD Connector helps to enable MFA by integrating with your existing MFA infrastructure, such as YubiKey, a Gemalto token, or an RSA token.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.320.1">For a small user base (fewer than 5,000 users), AWS provides Simple AD, which is a managed directory powered by </span><em class="italic"><span class="koboSpan" id="kobo.321.1">Samba 4 Active Directory Compatible Server</span></em><span class="koboSpan" id="kobo.322.1">. </span><span class="koboSpan" id="kobo.322.2">Simple AD has common features such as user account management, user group management, SSO based on Kerberos, and user group policies.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.323.1">Other directory services provided by major technology companies include Okta, Centrify, Ping </span><a id="_idIndexMarker934"/><span class="koboSpan" id="kobo.324.1">Identity, and Oracle </span><strong class="keyWord"><span class="koboSpan" id="kobo.325.1">Identity Cloud Service</span></strong><span class="koboSpan" id="kobo.326.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.327.1">IDCS</span></strong><span class="koboSpan" id="kobo.328.1">).</span></p>
<h3 class="heading-3" id="_idParaDest-238"><span class="koboSpan" id="kobo.329.1">Security Assertion Markup Language</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.330.1">Earlier in this section, in the </span><em class="italic"><span class="koboSpan" id="kobo.331.1">Federated identity management and single sign-on</span></em><span class="koboSpan" id="kobo.332.1"> section, you learned about IdPs and service providers. </span><span class="koboSpan" id="kobo.332.2">To access a service, the user gets validated </span><a id="_idIndexMarker935"/><span class="koboSpan" id="kobo.333.1">by the IdP, which, in turn, has </span><a id="_idIndexMarker936"/><span class="koboSpan" id="kobo.334.1">a trusted relationship with the service provider. </span><strong class="keyWord"><span class="koboSpan" id="kobo.335.1">Security Assertion Markup Language</span></strong><span class="koboSpan" id="kobo.336.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.337.1">SAML</span></strong><span class="koboSpan" id="kobo.338.1">) can be </span><a id="_idIndexMarker937"/><span class="koboSpan" id="kobo.339.1">used to establish a trusted relationship between an IdP and a service provider through </span><strong class="keyWord"><span class="koboSpan" id="kobo.340.1">Extensible Markup Language</span></strong><span class="koboSpan" id="kobo.341.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.342.1">XML</span></strong><span class="koboSpan" id="kobo.343.1">), which standardizes communication between an IdP and a service provider.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.344.1">A SAML assertion is an XML document that the IdP sends to the service provider with user authorization. </span><span class="koboSpan" id="kobo.344.2">The following diagram illustrates the flow of the SAML assertion:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.345.1"><img alt="A diagram of a login screen  Description automatically generated with low confidence" src="../Images/B21336_07_05.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.346.1">Figure 7.5: User authentication using SAML</span></p>
<p class="normal"><span class="koboSpan" id="kobo.347.1">As </span><a id="_idIndexMarker938"/><span class="koboSpan" id="kobo.348.1">mentioned in the preceding diagram, the following steps are taken to implement </span><a id="_idIndexMarker939"/><span class="koboSpan" id="kobo.349.1">user authentication using SAML:</span></p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.350.1">A user sends a request to access the service—for example, the Salesforce CRM application—as a service provider.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.351.1">The service provider (a CRM application) sends a SAML request with the user information to the SAML IdP.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.352.1">The SAML IdP pops up the SSO login page, where users enter authentication information.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.353.1">The user access credential goes to the user database, an identity store for validation. </span><span class="koboSpan" id="kobo.353.2">In this case, the user identity store is an </span><em class="italic"><span class="koboSpan" id="kobo.354.1">AD</span></em><span class="koboSpan" id="kobo.355.1">.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.356.1">The user identity store sends the user validation status to the SAML IdP, with whom the identity store has a trusted relationship.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.357.1">The SAML IdP sends a SAML assertion to the service provider (a CRM application) with information about user verification.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.358.1">After receiving the SAML response, the service provider allows application access to the user.</span></li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.359.1">Sometimes, a service provider can act as an IdP as well. </span><span class="koboSpan" id="kobo.359.2">SAML is very popular for establishing a relationship between any identity store and service provider. </span><span class="koboSpan" id="kobo.359.3">All modern identity store applications are SAML 2.0-compatible, which allows them to communicate with each other seamlessly. </span><span class="koboSpan" id="kobo.359.4">SAML allows user identity to be federated and enables SSO for enterprise users.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.360.1">For large </span><a id="_idIndexMarker940"/><span class="koboSpan" id="kobo.361.1">user bases such as social media and </span><a id="_idIndexMarker941"/><span class="koboSpan" id="kobo.362.1">e-commerce websites, </span><strong class="keyWord"><span class="koboSpan" id="kobo.363.1">OAuth</span></strong><span class="koboSpan" id="kobo.364.1"> (short for </span><strong class="keyWord"><span class="koboSpan" id="kobo.365.1">Open Authorization</span></strong><span class="koboSpan" id="kobo.366.1">) and </span><strong class="keyWord"><span class="koboSpan" id="kobo.367.1">OpenID</span></strong><span class="koboSpan" id="kobo.368.1"> are more </span><a id="_idIndexMarker942"/><span class="koboSpan" id="kobo.369.1">suitable than SAML. </span><span class="koboSpan" id="kobo.369.2">Let’s learn about </span><a id="_idIndexMarker943"/><span class="koboSpan" id="kobo.370.1">OAuth and </span><strong class="keyWord"><span class="koboSpan" id="kobo.371.1">OpenID Connect</span></strong><span class="koboSpan" id="kobo.372.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.373.1">OIDC</span></strong><span class="koboSpan" id="kobo.374.1">).</span></p>
<h3 class="heading-3" id="_idParaDest-239"><span class="koboSpan" id="kobo.375.1">OAuth</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.376.1">OAuth is an open standard authorization protocol that provides secure access delegation </span><a id="_idIndexMarker944"/><span class="koboSpan" id="kobo.377.1">to an application. </span><span class="koboSpan" id="kobo.377.2">OAuth doesn’t share password data but uses an authorization token to establish the identity between service providers and consumers. </span><span class="koboSpan" id="kobo.377.3">Users of an application provide access to their information without giving login credentials.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.378.1">While </span><a id="_idIndexMarker945"/><span class="koboSpan" id="kobo.379.1">OAuth is mainly for authorization, many organizations have started adding their own mechanisms for authentication.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.380.1">OIDC is a protocol that defines the authentication standard on top of the OAuth 2.0 authorization framework. </span><span class="koboSpan" id="kobo.380.2">While OAuth 2.0 provides a framework for authorization (granting access to resources), OIDC adds an additional layer to handle user authentication. </span><span class="koboSpan" id="kobo.380.3">This means that OIDC not only helps applications know what resources a user can access but also verifies the identity of the user accessing the service. </span><span class="koboSpan" id="kobo.380.4">It’s a way for clients to verify a user’s identity based on the authentication performed by an authorization server, as well as to obtain basic profile information about the user in an interoperable and REST-like manner.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.381.1">Large technology companies such as Amazon, Facebook, Google, and X allow users to share information in their accounts with third-party applications. </span><span class="koboSpan" id="kobo.381.2">For example, you can log in to a new photo app using your Facebook login and authorize the new app to access only your Facebook photo information. </span><span class="koboSpan" id="kobo.381.3">The following diagram illustrates an OAuth access delegation flow, where a user requests the LinkedIn app to get their profile photo from Facebook:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.382.1"><img alt="" role="presentation" src="../Images/B21336_07_06.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.383.1">Figure 7.6: User access delegation with OAuth 2.0</span></p>
<p class="normal"><span class="koboSpan" id="kobo.384.1">As </span><a id="_idIndexMarker946"/><span class="koboSpan" id="kobo.385.1">shown in the preceding </span><a id="_idIndexMarker947"/><span class="koboSpan" id="kobo.386.1">diagram, the authentication flow follows these steps:</span></p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.387.1">In this scenario, the user makes a request to the LinkedIn app to get your profile photo from Facebook.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.388.1">The LinkedIn app requests authorization to access Facebook profile photos.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.389.1">The authorization server (which is your Facebook account in this case) creates and displays a consent screen to the user.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.390.1">The user provides consent to the request for the LinkedIn app to access only their Facebook profile photos.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.391.1">After getting user approval, the Facebook authorization server sends an authorization code back to the requesting LinkedIn app.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.392.1">The LinkedIn app then requests an access token from the authorization server (Facebook account) using the authorization code.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.393.1">The authorization server identifies the LinkedIn app and checks the validity of the authentication code. </span><span class="koboSpan" id="kobo.393.2">If the access token is validated, the server issues an access token to the LinkedIn app.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.394.1">The LinkedIn app can now access resources such as Facebook profile photos using the access token.</span><div class="note">
<p class="normal"><span class="koboSpan" id="kobo.395.1">OAuth 2.0, which is faster than OAuth 1.0 and more comfortable to implement, is now most commonly used.</span></p>
</div>
</li>
</ol>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.396.1">JSON Web Token</span></strong><span class="koboSpan" id="kobo.397.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.398.1">JWT</span></strong><span class="koboSpan" id="kobo.399.1">) is a simple and accessible token format that can be used with OAuth and is popular with OpenID; we look at this next.</span></p>
<h3 class="heading-3" id="_idParaDest-240"><span class="koboSpan" id="kobo.400.1">JWT</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.401.1">JWT is a </span><a id="_idIndexMarker948"/><span class="koboSpan" id="kobo.402.1">compact and self-contained way for securely transmitting information between parties as a JSON object. </span><span class="koboSpan" id="kobo.402.2">This information can be verified </span><a id="_idIndexMarker949"/><span class="koboSpan" id="kobo.403.1">and trusted because it is digitally signed. </span><span class="koboSpan" id="kobo.403.2">JWTs can be signed using a secret or a public/private key pair.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.404.1">A JWT has a JSON structure that has information about expiration time, issuer, subject, and so on. </span><span class="koboSpan" id="kobo.404.2">It is </span><a id="_idIndexMarker950"/><span class="koboSpan" id="kobo.405.1">more robust than a </span><strong class="keyWord"><span class="koboSpan" id="kobo.406.1">Simple Web Token</span></strong><span class="koboSpan" id="kobo.407.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.408.1">SWT</span></strong><span class="koboSpan" id="kobo.409.1">) and simpler than SAML 2.0. </span><span class="koboSpan" id="kobo.409.2">You can see a JWT in the following screenshot:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.410.1"><img alt="A screenshot of a computer  Description automatically generated with medium confidence" src="../Images/B21336_07_07.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.411.1">Figure 7.7: Sample JWT</span></p>
<p class="normal"><span class="koboSpan" id="kobo.412.1">The preceding screenshot depicts JWTs, which have three parts, each separated by a dot. </span><span class="koboSpan" id="kobo.412.2">The first part, the header, tells us the token type—JWT—and the algorithm it uses for signing, such as HS256 or RSA. </span><span class="koboSpan" id="kobo.412.3">The second part, the payload, holds claims, which are pieces of information about the user and other data. </span><span class="koboSpan" id="kobo.412.4">The last part is the signature, which makes sure the token hasn’t been altered and confirms who sent the JWT.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.413.1">JSON has </span><a id="_idIndexMarker951"/><span class="koboSpan" id="kobo.414.1">a simpler structure than XML and is smaller, making JWT more compact than SAML. </span><span class="koboSpan" id="kobo.414.2">JWT is an excellent </span><a id="_idIndexMarker952"/><span class="koboSpan" id="kobo.415.1">choice for passing information into HTML and HTTP environments. </span><span class="koboSpan" id="kobo.415.2">Due to their small size, JWTs are an ideal choice for passing the identity of authenticated users between services in a microservices architecture, or for providing access tokens that allow users to access resources. </span><span class="koboSpan" id="kobo.415.3">They’re used in various authentication and authorization scenarios, particularly in web and mobile applications.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.416.1">In this section, you learned about the most common user management tools and services. </span><span class="koboSpan" id="kobo.416.2">However, there are various other protocols and services available for user authentication and authorization. </span><span class="koboSpan" id="kobo.416.3">The implementation of the protocols mentioned previously can be complicated, and there is a large amount of packaged software available that makes the job easier.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.417.1">Amazon Cognito is a user access management service provided by AWS that includes standard-based authorization such as SAML 2.0, OIDC, and OAuth 2.0, along with an enterprise user directory that provides the ability to connect with AD. </span><span class="koboSpan" id="kobo.417.2">Okta and Ping Identity provide enterprise user management and the ability to communicate with various service provider tools in one place.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.418.1">Once your application is exposed to the internet, there are always various kinds of attacks that can happen. </span><span class="koboSpan" id="kobo.418.2">Let’s learn about some of the most common attacks and how to set up the first layer of defense for web-layer protection.</span></p>
<h2 class="heading-2" id="_idParaDest-241"><span class="koboSpan" id="kobo.419.1">Handling web security</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.420.1">As user demand is changing to require 24/7 availability of services, businesses are evolving to go </span><a id="_idIndexMarker953"/><span class="koboSpan" id="kobo.421.1">into online mode, and to do so, they are adopting </span><a id="_idIndexMarker954"/><span class="koboSpan" id="kobo.422.1">web application models. </span><span class="koboSpan" id="kobo.422.2">Web applications also help a company to gain a global customer base. </span><span class="koboSpan" id="kobo.422.3">Businesses such as online banking and e-commerce websites are always available, and they deal with sensitive customer data, such as payment information and payer identity.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.423.1">Now, web applications are central to any business, and these applications are exposed to the </span><a id="_idIndexMarker955"/><span class="koboSpan" id="kobo.424.1">world. </span><span class="koboSpan" id="kobo.424.2">Web applications </span><a id="_idIndexMarker956"/><span class="koboSpan" id="kobo.425.1">can have vulnerabilities, exposing them to cyberattacks and data breaches. </span><span class="koboSpan" id="kobo.425.2">Let’s explore some common types of cyberattack and how to mitigate them.</span></p>
<h3 class="heading-3" id="_idParaDest-242"><span class="koboSpan" id="kobo.426.1">Cyberattacks</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.427.1">Web applications are vulnerable to security breaches. </span><span class="koboSpan" id="kobo.427.2">Hackers orchestrate cyberattacks from </span><a id="_idIndexMarker957"/><span class="koboSpan" id="kobo.428.1">different locations and by various methods. </span><span class="koboSpan" id="kobo.428.2">Just as you lock and protect a physical building, in the same way, your web application </span><a id="_idIndexMarker958"/><span class="koboSpan" id="kobo.429.1">needs to be protected from illicit activity. </span><span class="koboSpan" id="kobo.429.2">Let’s explore some standard methods of attack that can cause security vulnerabilities in your web application.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.430.1">Denial of service and distributed denial of service attacks</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.431.1">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.432.1">Denial of Service</span></strong><span class="koboSpan" id="kobo.433.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.434.1">DoS</span></strong><span class="koboSpan" id="kobo.435.1">) attack attempts to make your website unreachable to your users. </span><span class="koboSpan" id="kobo.435.2">To achieve </span><a id="_idIndexMarker959"/><span class="koboSpan" id="kobo.436.1">a successful DoS attack, the attacker </span><a id="_idIndexMarker960"/><span class="koboSpan" id="kobo.437.1">uses a variety of technologies that consume network and system resources, thus interrupting access for legitimate users. </span><span class="koboSpan" id="kobo.437.2">The attacker uses multiple hosts to orchestrate the attack against a single target.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.438.1">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.439.1">Distributed Denial of Service</span></strong><span class="koboSpan" id="kobo.440.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.441.1">DDoS</span></strong><span class="koboSpan" id="kobo.442.1">) attack involves using many hijacked systems, often infected </span><a id="_idIndexMarker961"/><span class="koboSpan" id="kobo.443.1">with malware, to flood a single </span><a id="_idIndexMarker962"/><span class="koboSpan" id="kobo.444.1">target system with requests. </span><span class="koboSpan" id="kobo.444.2">This overwhelms the target, causing service disruptions. </span><span class="koboSpan" id="kobo.444.3">The attacker remotely controls the compromised systems to conduct the assault. </span><span class="koboSpan" id="kobo.444.4">As illustrated in the following diagram, a DDoS attack happens when multiple systems exhaust the bandwidth of resources of a targeted system:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.445.1"><img alt="A diagram of a computer network  Description automatically generated with low confidence" src="../Images/B21336_07_08.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.446.1">Figure 7.8: DDoS attack</span></p>
<p class="normal"><span class="koboSpan" id="kobo.447.1">The general concept of a DDoS attack is to leverage additional hosts to amplify the requests made to the target, rendering them overprovisioned and unavailable. </span><span class="koboSpan" id="kobo.447.2">A DDoS attack is </span><a id="_idIndexMarker963"/><span class="koboSpan" id="kobo.448.1">often the result of multiple compromised </span><a id="_idIndexMarker964"/><span class="koboSpan" id="kobo.449.1">systems, whereby a botnet puts a flood of traffic in the targeted system.</span></p>
<div class="note">
<p class="normal"><span class="koboSpan" id="kobo.450.1">A botnet is a network of devices infected by and controlled through malware.</span></p>
</div>
<p class="normal"><span class="koboSpan" id="kobo.451.1">The most </span><a id="_idIndexMarker965"/><span class="koboSpan" id="kobo.452.1">common DDoS attack happens </span><a id="_idIndexMarker966"/><span class="koboSpan" id="kobo.453.1">at the application layer, using </span><a id="_idIndexMarker967"/><span class="koboSpan" id="kobo.454.1">either a DNS flood or a </span><strong class="keyWord"><span class="koboSpan" id="kobo.455.1">Secure Sockets Layer</span></strong><span class="koboSpan" id="kobo.456.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.457.1">SSL</span></strong><span class="koboSpan" id="kobo.458.1">) negotiation attack. </span><span class="koboSpan" id="kobo.458.2">In DNS floods, attackers exhaust the resources of a DNS server with too many requests. </span><span class="koboSpan" id="kobo.458.3">During SSL negotiations, attackers send a large amount of unintelligible data for computationally expensive SSL decryption. </span><span class="koboSpan" id="kobo.458.4">The attacker can perform other SSL-based attacks on the server fleet and overburden it with unnecessary task processing.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.459.1">At the infrastructure layer, a typical DDoS attack happens in the following form:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.460.1">User Datagram Protocol </span></strong><span class="koboSpan" id="kobo.461.1">(</span><strong class="keyWord"><span class="koboSpan" id="kobo.462.1">UDP</span></strong><span class="koboSpan" id="kobo.463.1">)</span><strong class="keyWord"><span class="koboSpan" id="kobo.464.1"> reflection</span></strong><span class="koboSpan" id="kobo.465.1">: With UDP reflection, attackers spoof </span><a id="_idIndexMarker968"/><span class="koboSpan" id="kobo.466.1">the target server’s IP address and make a request that returns amplified significant responses from a hacked reflector server.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.467.1">SYN floods</span></strong><span class="koboSpan" id="kobo.468.1">: With </span><a id="_idIndexMarker969"/><span class="koboSpan" id="kobo.469.1">SYN floods, attackers exhaust the target server’s </span><strong class="keyWord"><span class="koboSpan" id="kobo.470.1">Transmission Control Protocol</span></strong><span class="koboSpan" id="kobo.471.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.472.1">TCP</span></strong><span class="koboSpan" id="kobo.473.1">) service by creating and abandoning </span><a id="_idIndexMarker970"/><span class="koboSpan" id="kobo.474.1">high numbers of connections, blocking legitimate users from accessing the server.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.475.1">Often, attackers try to get sensitive customer data, and for that purpose, they use a different kind of attack called </span><strong class="keyWord"><span class="koboSpan" id="kobo.476.1">SQL injection </span></strong><span class="koboSpan" id="kobo.477.1">(</span><strong class="keyWord"><span class="koboSpan" id="kobo.478.1">SQLi</span></strong><span class="koboSpan" id="kobo.479.1">). </span><span class="koboSpan" id="kobo.479.2">Let’s learn more about it.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.480.1">SQLi attacks</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.481.1">As the name </span><a id="_idIndexMarker971"/><span class="koboSpan" id="kobo.482.1">suggests, in a SQLi attack, attackers inject malicious </span><strong class="keyWord"><span class="koboSpan" id="kobo.483.1">Structure Query Language</span></strong><span class="koboSpan" id="kobo.484.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.485.1">SQL</span></strong><span class="koboSpan" id="kobo.486.1">) to get control of a SQL database and fetch sensitive </span><a id="_idIndexMarker972"/><span class="koboSpan" id="kobo.487.1">user data. </span><span class="koboSpan" id="kobo.487.2">The attacker uses SQLi to gain access to unauthorized information, take control of an application, add new users, and so on.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.488.1">Take an </span><a id="_idIndexMarker973"/><span class="koboSpan" id="kobo.489.1">example of a loan-processing web application. </span><span class="koboSpan" id="kobo.489.2">You have </span><code class="inlineCode"><span class="koboSpan" id="kobo.490.1">loanId</span></code><span class="koboSpan" id="kobo.491.1"> as a field that customers can use to get all information related to their loan. </span><span class="koboSpan" id="kobo.491.2">If proper care is not taken, attackers can execute a query such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.492.1">SELECT * FROM loans WHERE loanId = 117 or '1=1'</span></code><span class="koboSpan" id="kobo.493.1"> and get access to the entire customer database, as this query will always return the true result.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.494.1">The other </span><a id="_idIndexMarker974"/><span class="koboSpan" id="kobo.495.1">common way to hack user data through script injection is </span><strong class="keyWord"><span class="koboSpan" id="kobo.496.1">cross-site scripting</span></strong><span class="koboSpan" id="kobo.497.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.498.1">XSS</span></strong><span class="koboSpan" id="kobo.499.1">), where a hacker impersonates a legitimate user. </span><span class="koboSpan" id="kobo.499.2">Let’s learn more about it.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.500.1">XSS attacks</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.501.1">You have </span><a id="_idIndexMarker975"/><span class="koboSpan" id="kobo.502.1">probably encountered phishing emails that have links impersonating a website known to you. </span><span class="koboSpan" id="kobo.502.2">Clicking on these links may lead to compromised </span><a id="_idIndexMarker976"/><span class="koboSpan" id="kobo.503.1">data through XSS. </span><span class="koboSpan" id="kobo.503.2">In an XSS attack, the attacker embeds their malicious code into a legitimate website. </span><span class="koboSpan" id="kobo.503.3">This code then executes when an unsuspecting user visits the web page.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.504.1">The attacker can introduce this code in various ways, such as embedding it directly into a URL string or by inserting a snippet of JavaScript code onto the web page. </span><span class="koboSpan" id="kobo.504.2">When you load the web page, this client-side JavaScript code gets executed and steals your browser cookies.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.505.1">These cookies </span><a id="_idIndexMarker977"/><span class="koboSpan" id="kobo.506.1">often contain sensitive information, such as the </span><a id="_idIndexMarker978"/><span class="koboSpan" id="kobo.507.1">access token and authentication to your banking or e-commerce websites. </span><span class="koboSpan" id="kobo.507.2">Using these stolen cookies, the hacker can enter your bank account, among other accounts, and take your hard-earned money.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.508.1">Cross-site request forgery attacks</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.509.1">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.510.1">cross-site request forgery</span></strong><span class="koboSpan" id="kobo.511.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.512.1">CSRF</span></strong><span class="koboSpan" id="kobo.513.1">) attack takes advantage of user identity by creating confusion </span><a id="_idIndexMarker979"/><span class="koboSpan" id="kobo.514.1">and tricking authenticated users into state-changing activities, for example, changing the password of a shopping website </span><a id="_idIndexMarker980"/><span class="koboSpan" id="kobo.515.1">or requesting a money transfer to your bank.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.516.1">It is slightly different from an XSS attack as, with CSRF, the attacker tries to forge a request rather than insert a code script. </span><span class="koboSpan" id="kobo.516.2">For example, the attacker can forge a request to transfer a certain amount of money from the user’s bank and send that link in an email to the user. </span><span class="koboSpan" id="kobo.516.3">When users click on that link, the bank gets a request and transfers the money to the attacker’s account. </span><span class="koboSpan" id="kobo.516.4">CSRF can be particularly harmful if attackers can get into an admin account.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.517.1">Buffer overflow and memory corruption attacks</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.518.1">A software </span><a id="_idIndexMarker981"/><span class="koboSpan" id="kobo.519.1">program writes data in a temporary memory area for fast processing, which is </span><a id="_idIndexMarker982"/><span class="koboSpan" id="kobo.520.1">called a </span><strong class="keyWord"><span class="koboSpan" id="kobo.521.1">buffer</span></strong><span class="koboSpan" id="kobo.522.1">. </span><span class="koboSpan" id="kobo.522.2">With a buffer overflow attack, an attacker </span><a id="_idIndexMarker983"/><span class="koboSpan" id="kobo.523.1">can overwrite a portion of </span><a id="_idIndexMarker984"/><span class="koboSpan" id="kobo.524.1">the memory connected with the buffer, deliberately causing a buffer overflow and accessing connected memory, where an </span><a id="_idIndexMarker985"/><span class="koboSpan" id="kobo.525.1">application executable may be stored. </span><span class="koboSpan" id="kobo.525.2">The attacker can replace the executable with the actual program and take control of the entire system. </span><span class="koboSpan" id="kobo.525.3">Looking at the overall application, more security threats exist in the infrastructure layer, network layer, and data layer. </span><span class="koboSpan" id="kobo.525.4">Let’s explore some standard ways to mitigate and prevent security risks at the web layer.</span></p>
<h3 class="heading-3" id="_idParaDest-243"><span class="koboSpan" id="kobo.526.1">Web security mitigation</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.527.1">Security needs </span><a id="_idIndexMarker986"/><span class="koboSpan" id="kobo.528.1">to be applied to every layer of your application, and special attention is required for the web layer due to its exposure to the world. </span><span class="koboSpan" id="kobo.528.2">For web protection, necessary steps include keeping up with the latest security patches, following the best software development practices, and ensuring that proper authentication and authorization are carried out.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.529.1">Several methods exist to protect and secure web applications; let’s explore two common methods.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.530.1">Web application firewalls</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.531.1">WAFs are firewalls that apply specific rules to HTTP and HTTPS traffic (that is, ports </span><code class="inlineCode"><span class="koboSpan" id="kobo.532.1">80</span></code><span class="koboSpan" id="kobo.533.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.534.1">443</span></code><span class="koboSpan" id="kobo.535.1">). </span><span class="koboSpan" id="kobo.535.2">WAFs </span><a id="_idIndexMarker987"/><span class="koboSpan" id="kobo.536.1">inspect your web traffic and verify that it conforms to the norms of expected behavior. </span><span class="koboSpan" id="kobo.536.2">They provide an </span><a id="_idIndexMarker988"/><span class="koboSpan" id="kobo.537.1">additional layer of protection from web attacks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.538.1">WAF rate limiting is the ability to look at the amount or type of requests sent to your service and define a threshold that caps how many requests are allowed per user, session, or IP address. </span><span class="koboSpan" id="kobo.538.2">Approved and unapproved lists enable you to allow or block users explicitly.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.539.1">AWS WAF is one example of a WAF that adds security to your web layer by creating and applying rules to filter web traffic. </span><span class="koboSpan" id="kobo.539.2">These rules are based on conditions that include HTTP headers, user </span><a id="_idIndexMarker989"/><span class="koboSpan" id="kobo.540.1">geolocation, malicious IP addresses, custom </span><strong class="keyWord"><span class="koboSpan" id="kobo.541.1">Uniform Resource Identifiers</span></strong><span class="koboSpan" id="kobo.542.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.543.1">URIs</span></strong><span class="koboSpan" id="kobo.544.1">), and so on. </span><span class="koboSpan" id="kobo.544.2">AWS WAF rules block common web exploits such as XSS and SQLi. </span><span class="koboSpan" id="kobo.544.3">You can create a single set of rules for an environment that has various websites and web applications running and you can reuse rules across applications instead of recreating them.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.545.1">Overall, a WAF is a tool that applies a set of rules to HTTP traffic. </span><span class="koboSpan" id="kobo.545.2">It filters web requests based on data such as IP addresses, HTTP headers, HTTP bodies, or URI strings. </span><span class="koboSpan" id="kobo.545.3">It can mitigate DDoS attacks by offloading illegitimate traffic. </span><span class="koboSpan" id="kobo.545.4">Let’s learn more about DDoS mitigation.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.546.1">DDoS mitigation</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.547.1">Resilient </span><a id="_idIndexMarker990"/><span class="koboSpan" id="kobo.548.1">architecture can prevent or mitigate DDoS attacks. </span><span class="koboSpan" id="kobo.548.2">A fundamental </span><a id="_idIndexMarker991"/><span class="koboSpan" id="kobo.549.1">principle in keeping your infrastructure secure is reducing the potential number of targets an attacker can hit. </span><span class="koboSpan" id="kobo.549.2">In short, if an instance doesn’t need to be public, then don’t make it public.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.550.1">You can apply various strategies to minimize the attack surface area:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.551.1">Wherever possible, reduce the number of necessary internet entry points—for example, open incoming internet access to your load balancer, not web servers.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.552.1">Identify and eliminate any unnecessary entry points to the internet. </span><span class="koboSpan" id="kobo.552.2">For instance, you can set up file-share storage for vendors to upload data, but restrict the access to a limited group instead of making it accessible to the entire global internet traffic.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.553.1">Hide any required internet entry points from untrusted end users so that they cannot access them.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.554.1">Isolate the access point and apply a specific restrictions policy for end user traffic compared to application management traffic.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.555.1">Create a decoupled internet entry point to minimize the attack surface.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.556.1">Your primary </span><a id="_idIndexMarker992"/><span class="koboSpan" id="kobo.557.1">goal is to mitigate DDoS attacks at </span><a id="_idIndexMarker993"/><span class="koboSpan" id="kobo.558.1">the edge location of the CDN. </span><span class="koboSpan" id="kobo.558.2">It’s more challenging and costly to handle DDoS attacks if they get through to your application servers. </span><span class="koboSpan" id="kobo.558.3">The following diagram illustrates a DDoS mitigation example for an AWS cloud workload:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.559.1"><img alt="A picture containing text, screenshot, diagram, font  Description automatically generated" src="../Images/B21336_07_09.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.560.1">Figure 7.9: DDoS WAF sandwich mitigation strategy</span></p>
<p class="normal"><span class="koboSpan" id="kobo.561.1">The preceding </span><a id="_idIndexMarker994"/><span class="koboSpan" id="kobo.562.1">diagram illustrates a </span><strong class="keyWord"><span class="koboSpan" id="kobo.563.1">WAF sandwich architecture</span></strong><span class="koboSpan" id="kobo.564.1">, where the WAF appliance is staged between two load balancers to handle a DDoS attack.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.565.1">Frequent DDoS attacks come from strategies such as SYN floods and UDP reflection, which Amazon CloudFront prevents by only accepting well-formed connections before the attacking strategy can reach your application servers. </span><span class="koboSpan" id="kobo.565.2">CDNs such as Amazon CloudFront help to tackle DDoS attacks by isolating them in a geographically isolated location and preventing the traffic from affecting other locations. </span><span class="koboSpan" id="kobo.565.3">Network firewall security helps you to control incoming and outgoing traffic at the individual server level.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.566.1">As mentioned </span><a id="_idIndexMarker995"/><span class="koboSpan" id="kobo.567.1">in the previous section, WAFs are used to protect web applications against exploit attacks such as XSS and SQLi attacks. </span><span class="koboSpan" id="kobo.567.2">In addition to this, WAFs also </span><a id="_idIndexMarker996"/><span class="koboSpan" id="kobo.568.1">help to detect and prevent DDoS attacks at the web application layer.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.569.1">To handle a DDoS attack, you can apply either horizontal or vertical scaling. </span><span class="koboSpan" id="kobo.569.2">You can take advantage of scaling in the following way:</span></p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><span class="koboSpan" id="kobo.570.1">First, select the right server size and configuration for your web application.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.571.1">Second, use a load balancer to distribute traffic among the fleet of servers and add auto-scaling to add/remove servers as required.</span></li>
<li class="numberedList"><span class="koboSpan" id="kobo.572.1">Finally, use the CDN and DNS server, as they are built to handle traffic at scale.</span></li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.573.1">Scaling for DDoS attacks is an excellent example of why it’s essential to set reasonable maximum counts for your servers. </span><span class="koboSpan" id="kobo.573.2">A DDoS attack could scale your servers out to a number that would be extremely costly while still potentially not being able to prevent the server from becoming unavailable. </span><span class="koboSpan" id="kobo.573.3">Having reasonable maximum limits for the expectations of regular traffic spikes would prevent a DDoS attack from costing your company too much money.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.574.1">In this section, you learned about various security risks and vulnerabilities at the web layer and some standard ways to protect them. </span><span class="koboSpan" id="kobo.574.2">As security needs to be applied to every layer, let’s explore protecting the infrastructure layer in more detail.</span></p>
<h2 class="heading-2" id="_idParaDest-244"><span class="koboSpan" id="kobo.575.1">Securing an application and its infrastructure</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.576.1">In </span><a id="_idIndexMarker997"/><span class="koboSpan" id="kobo.577.1">the previous </span><a id="_idIndexMarker998"/><span class="koboSpan" id="kobo.578.1">section, you learned about securing the web layer. </span><span class="koboSpan" id="kobo.578.2">As security needs to be applied at every layer of your workload, let’s learn about securing the application and network layers of your architecture.</span></p>
<h3 class="heading-3" id="_idParaDest-245"><span class="koboSpan" id="kobo.579.1">Application and operating system hardening</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.580.1">It is impossible to eliminate vulnerabilities in your application entirely but you can limit system </span><a id="_idIndexMarker999"/><span class="koboSpan" id="kobo.581.1">attacks by hardening your application’s operating system, filesystem, and directory. </span><span class="koboSpan" id="kobo.581.2">Once attackers can get into your application, they can get root access and orchestrate an attack on the entire infrastructure.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.582.1">It is essential to limit attacks to the application level by restricting the directory by </span><em class="italic"><span class="koboSpan" id="kobo.583.1">hardening permission</span></em><span class="koboSpan" id="kobo.584.1">. </span><span class="koboSpan" id="kobo.584.2">At the process level, restrict memory and CPU utilization to prevent a DoS attack.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.585.1">Set the right permission at the file, folder, and file partition levels. </span><span class="koboSpan" id="kobo.585.2">Avoid giving root privileges to the application or its users. </span><span class="koboSpan" id="kobo.585.3">You should create a separate directory containing only the required access for each application so that only the required user has application access. </span><span class="koboSpan" id="kobo.585.4">Only use common access for some applications.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.586.1">Automate application restart </span><a id="_idIndexMarker1000"/><span class="koboSpan" id="kobo.587.1">by using process tools such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.588.1">DAEMON Tools</span></strong><span class="koboSpan" id="kobo.589.1"> and </span><strong class="keyWord"><span class="koboSpan" id="kobo.590.1">Supervisord</span></strong><span class="koboSpan" id="kobo.591.1"> to prevent </span><a id="_idIndexMarker1001"/><span class="koboSpan" id="kobo.592.1">a manual approach, whereby users </span><a id="_idIndexMarker1002"/><span class="koboSpan" id="kobo.593.1">need to log in to the server to start. </span><span class="koboSpan" id="kobo.593.2">For Linux operating systems, a utility such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.594.1">systemd</span></strong><span class="koboSpan" id="kobo.595.1"> or </span><strong class="keyWord"><span class="koboSpan" id="kobo.596.1">System V init</span></strong><span class="koboSpan" id="kobo.597.1"> scripts </span><a id="_idIndexMarker1003"/><span class="koboSpan" id="kobo.598.1">can start/stop the application.</span></p>
<h3 class="heading-3" id="_idParaDest-246"><span class="koboSpan" id="kobo.599.1">Software vulnerability mitigation and secure code</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.600.1">It is always recommended to apply the latest security patch provided by your operating system vendor. </span><span class="koboSpan" id="kobo.600.2">This helps to fill any security holes in the system and protect your system </span><a id="_idIndexMarker1004"/><span class="koboSpan" id="kobo.601.1">from vulnerabilities where attackers can steal your </span><a id="_idIndexMarker1005"/><span class="koboSpan" id="kobo.602.1">security certificate or run arbitrary code.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.603.1">Keeping </span><a id="_idIndexMarker1006"/><span class="koboSpan" id="kobo.604.1">your system up to date with the latest </span><a id="_idIndexMarker1007"/><span class="koboSpan" id="kobo.605.1">security patches is very important. </span><span class="koboSpan" id="kobo.605.2">It is better to automate the process of the most recent patch installation as soon as it becomes available. </span><span class="koboSpan" id="kobo.605.3">However, running a security patch may sometimes break your working software, so it’s useful </span><a id="_idIndexMarker1008"/><span class="koboSpan" id="kobo.606.1">to set up a </span><strong class="keyWord"><span class="koboSpan" id="kobo.607.1">Continuous Integration</span></strong> <strong class="keyWord"><span class="koboSpan" id="kobo.608.1">and</span></strong> <strong class="keyWord"><span class="koboSpan" id="kobo.609.1">Continuous Deployment</span></strong><span class="koboSpan" id="kobo.610.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.611.1">CI/CD</span></strong><span class="koboSpan" id="kobo.612.1">) pipeline with automated testing and deployment. </span><span class="koboSpan" id="kobo.612.2">You will learn more about the CI/CD process in </span><em class="chapterRef"><span class="koboSpan" id="kobo.613.1">Chapter 11</span></em><span class="koboSpan" id="kobo.614.1">, </span><em class="italic"><span class="koboSpan" id="kobo.615.1">DevOps and Solution Architecture Framework</span></em><span class="koboSpan" id="kobo.616.1">.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.617.1">The AWS cloud provides a system manager tool that allows you to apply security patches and </span><a id="_idIndexMarker1009"/><span class="koboSpan" id="kobo.618.1">monitor your server fleet in the cloud. </span><span class="koboSpan" id="kobo.618.2">You can use a tool </span><a id="_idIndexMarker1010"/><span class="koboSpan" id="kobo.619.1">such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.620.1">auto-updates</span></strong><span class="koboSpan" id="kobo.621.1"> or </span><strong class="keyWord"><span class="koboSpan" id="kobo.622.1">unattended upgrades</span></strong><span class="koboSpan" id="kobo.623.1"> to automate security patch installation. </span><span class="koboSpan" id="kobo.623.2">When you opt for managed services from cloud providers, you essentially free yourself from the underlying infrastructure’s operational burden. </span><span class="koboSpan" id="kobo.623.3">The cloud provider takes care of the setup, management, operation, and optimization of the services. </span><span class="koboSpan" id="kobo.623.4">This includes regular maintenance tasks, such as patching, which is critical for security and performance.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.624.1">Make sure </span><a id="_idIndexMarker1011"/><span class="koboSpan" id="kobo.625.1">to integrate secure coding best practices into your software development process, as recommended by the </span><strong class="keyWord"><span class="koboSpan" id="kobo.626.1">Open Web Application Security Project</span></strong><span class="koboSpan" id="kobo.627.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.628.1">OWASP</span></strong><span class="koboSpan" id="kobo.629.1">), details about which can be found here: </span><a href="http://owasp.org/www-project-secure-coding-practices-quick-reference-guide/stable-en/01-introduction/05-introduction"><span class="url"><span class="koboSpan" id="kobo.630.1">owasp.org/www-project-secure-coding-practices-quick-reference-guide/stable-en/01-introduction/05-introduction</span></span></a><span class="koboSpan" id="kobo.631.1">.</span></p>
<h3 class="heading-3" id="_idParaDest-247"><span class="koboSpan" id="kobo.632.1">Network security</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.633.1">When it comes to protecting your infrastructure, securing the network must be your first consideration. </span><span class="koboSpan" id="kobo.633.2">The physical security of your IT infrastructure in the data center must be taken </span><a id="_idIndexMarker1012"/><span class="koboSpan" id="kobo.634.1">care of by the data center providers. </span><span class="koboSpan" id="kobo.634.2">Let’s talk about ensuring network security, which is your responsibility as an application owner.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.635.1">Let’s take an </span><a id="_idIndexMarker1013"/><span class="koboSpan" id="kobo.636.1">example from a public cloud provider such as AWS to help you understand network security. </span><span class="koboSpan" id="kobo.636.2">You can apply the same example to your on-premises or private cloud network infrastructure as well.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.637.1">As illustrated in the following diagram, security should be applied at every layer, and trusted boundaries around each layer with minimal access should be defined:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.638.1"><img alt="A screenshot of a computer  Description automatically generated with medium confidence" src="../Images/B21336_07_10.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.639.1">Figure 7.10: Network configuration for infrastructure security</span></p>
<p class="normal"><span class="koboSpan" id="kobo.640.1">In the preceding diagram, the load balancer is in a public subnet, which can accept internet traffic and distribute it to the application server fleet. </span><span class="koboSpan" id="kobo.640.2">WAF filter traffic is based on set rules </span><a id="_idIndexMarker1014"/><span class="koboSpan" id="kobo.641.1">and protects your application </span><a id="_idIndexMarker1015"/><span class="koboSpan" id="kobo.642.1">from various attacks, as you learned in the previous section. </span><span class="koboSpan" id="kobo.642.2">The application server fleet and database servers are in private subnets, which means direct internet access is not available. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.643.1">Let’s dive deep into the preceding architecture diagram and walk through each layer as follows:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.644.1">Amazon Virtual Private Cloud</span></strong><span class="koboSpan" id="kobo.645.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.646.1">VPC</span></strong><span class="koboSpan" id="kobo.647.1">) provides a logically isolated network for your </span><a id="_idIndexMarker1016"/><span class="koboSpan" id="kobo.648.1">cloud infrastructure. </span><span class="koboSpan" id="kobo.648.2">It serves as your personalized network environment within the cloud, hosting various resources. </span><span class="koboSpan" id="kobo.648.3">Designed for enhanced control, it allows the segregation of different environments and resources. </span><span class="koboSpan" id="kobo.648.4">You can set up multiple VPCs within each AWS account or region. </span><span class="koboSpan" id="kobo.648.5">When setting up a VPC, you </span><a id="_idIndexMarker1017"/><span class="koboSpan" id="kobo.649.1">define its range of IP addresses using </span><strong class="keyWord"><span class="koboSpan" id="kobo.650.1">Classless Inter-Domain Routing</span></strong><span class="koboSpan" id="kobo.651.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.652.1">CIDR</span></strong><span class="koboSpan" id="kobo.653.1">) notation. </span><span class="koboSpan" id="kobo.653.2">This notation </span><a id="_idIndexMarker1018"/><span class="koboSpan" id="kobo.654.1">is a concise way to represent a specific span of IP addresses. </span><span class="koboSpan" id="kobo.654.2">For instance, the CIDR block </span><code class="inlineCode"><span class="koboSpan" id="kobo.655.1">10.0.0.0/16</span></code><span class="koboSpan" id="kobo.656.1"> encompasses all IP addresses from </span><code class="inlineCode"><span class="koboSpan" id="kobo.657.1">10.0.0.0</span></code><span class="koboSpan" id="kobo.658.1"> to </span><code class="inlineCode"><span class="koboSpan" id="kobo.659.1">10.0.255.255</span></code><span class="koboSpan" id="kobo.660.1">. </span><span class="koboSpan" id="kobo.660.2">This range includes a total of 65,535 IP addresses available for use.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.661.1">Subnets</span></strong><span class="koboSpan" id="kobo.662.1"> are parts of a network, divided using CIDR ranges, that establish secure </span><a id="_idIndexMarker1019"/><span class="koboSpan" id="kobo.663.1">boundaries between private and public resources. </span><span class="koboSpan" id="kobo.663.2">Instead of organizing subnets by application or function (such as the web, app, or data tiers), it’s more effective to arrange them based on internet access. </span><span class="koboSpan" id="kobo.663.3">This setup enables clear isolation at the subnet level, differentiating between public-facing and private internal resources. </span><p class="normal"><span class="koboSpan" id="kobo.664.1">In this setup, resources </span><a id="_idIndexMarker1020"/><span class="koboSpan" id="kobo.665.1">needing internet access, like public-facing load balancers, </span><strong class="keyWord"><span class="koboSpan" id="kobo.666.1">network address translation</span></strong><span class="koboSpan" id="kobo.667.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.668.1">NAT</span></strong><span class="koboSpan" id="kobo.669.1">) instances, and bastion hosts, are placed in a </span><strong class="keyWord"><span class="koboSpan" id="kobo.670.1">public subnet</span></strong><span class="koboSpan" id="kobo.671.1">. </span><span class="koboSpan" id="kobo.671.2">Other </span><a id="_idIndexMarker1021"/><span class="koboSpan" id="kobo.672.1">resources, such as databases and applications, reside in a private subnet. </span><span class="koboSpan" id="kobo.672.2">This creates distinct layers of separation between different resource tiers, with application instances and data resources each allocated to their own private subnets. </span><span class="koboSpan" id="kobo.672.3">On AWS, most resources can </span><a id="_idIndexMarker1022"/><span class="koboSpan" id="kobo.673.1">be hosted in </span><strong class="keyWord"><span class="koboSpan" id="kobo.674.1">private subnets</span></strong><span class="koboSpan" id="kobo.675.1">, utilizing public subnets only when internet access is required. </span><span class="koboSpan" id="kobo.675.2">As a result, it’s advisable to allocate a larger number of IP addresses to your private subnets than to your public subnets, which ensures ample space for the majority of your resources that will reside in the private network. </span><span class="koboSpan" id="kobo.675.3">Subnets provide basic separation </span><a id="_idIndexMarker1023"/><span class="koboSpan" id="kobo.676.1">between resources with </span><strong class="keyWord"><span class="koboSpan" id="kobo.677.1">Network Access Control List</span></strong><span class="koboSpan" id="kobo.678.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.679.1">NACL</span></strong><span class="koboSpan" id="kobo.680.1">) rules, but security groups provide a more detailed level of traffic management. </span><span class="koboSpan" id="kobo.680.2">This approach prevents overly complex infrastructure and the inefficient use of IP addresses.</span></p>
</li>
</ul>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.681.1">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.682.1">routing table</span></strong><span class="koboSpan" id="kobo.683.1"> consists </span><a id="_idIndexMarker1024"/><span class="koboSpan" id="kobo.684.1">of rules, known as routes, that dictate which </span><a id="_idIndexMarker1025"/><span class="koboSpan" id="kobo.685.1">application servers receive network traffic. </span><span class="koboSpan" id="kobo.685.2">For enhanced security, it’s recommended to use a distinct custom route table for each subnet.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.686.1">Security groups</span></strong><span class="koboSpan" id="kobo.687.1"> function as virtual firewalls that manage both inbound and outbound traffic for one or more instances. </span><span class="koboSpan" id="kobo.687.2">These instances can be specified within a </span><a id="_idIndexMarker1026"/><span class="koboSpan" id="kobo.688.1">given CIDR block range or can be part of another designated security group. </span><span class="koboSpan" id="kobo.688.2">Following the principle of least privilege, security groups are set to deny all incoming traffic by default. </span><span class="koboSpan" id="kobo.688.3">You can then establish </span><a id="_idIndexMarker1027"/><span class="koboSpan" id="kobo.689.1">specific rules to filter traffic based on protocols such as TCP, UDP, and the </span><strong class="keyWord"><span class="koboSpan" id="kobo.690.1">Internet Control Message Protocol</span></strong><span class="koboSpan" id="kobo.691.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.692.1">ICMP</span></strong><span class="koboSpan" id="kobo.693.1">). </span><span class="koboSpan" id="kobo.693.2">This setup ensures that only the necessary and authorized traffic can access your instances, enhancing the security of your network.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.694.1">An </span><strong class="keyWord"><span class="koboSpan" id="kobo.695.1">NACL</span></strong><span class="koboSpan" id="kobo.696.1"> is an optional </span><a id="_idIndexMarker1028"/><span class="koboSpan" id="kobo.697.1">layer of security in the form of a virtual firewall, controlling both inbound and outbound traffic at the subnet level within your network. </span><span class="koboSpan" id="kobo.697.2">Unlike a security group, which is stateful, an NACL operates in a stateless manner. </span><span class="koboSpan" id="kobo.697.3">This statelessness means that each request, whether incoming or outgoing, is treated independently. </span><span class="koboSpan" id="kobo.697.4">For example, even if an incoming request is allowed through, the corresponding outbound response must also be explicitly permitted by the rules set in the NACL. </span><span class="koboSpan" id="kobo.697.5">This requires you to define both inbound and outbound traffic rules meticulously to ensure proper traffic flow and security at the subnet level.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.698.1">Internet traffic </span><a id="_idIndexMarker1029"/><span class="koboSpan" id="kobo.699.1">is routed through an </span><strong class="keyWord"><span class="koboSpan" id="kobo.700.1">internet gateway</span></strong><span class="koboSpan" id="kobo.701.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.702.1">IGW</span></strong><span class="koboSpan" id="kobo.703.1">) to make a subnet public. </span><span class="koboSpan" id="kobo.703.2">By default, internet accessibility is denied for internet traffic in your environment. </span><span class="koboSpan" id="kobo.703.3">An IGW needs to be attached to your VPC, and the subnet’s route table should define the rules of the IGW.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.704.1">A private subnet blocks all incoming and outgoing internet traffic but servers may </span><a id="_idIndexMarker1030"/><span class="koboSpan" id="kobo.705.1">need outgoing internet traffic for software and security patch installation. </span><span class="koboSpan" id="kobo.705.2">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.706.1">NAT gateway</span></strong><span class="koboSpan" id="kobo.707.1"> enables instances in a private subnet to initiate outbound traffic to the internet and protects resources from incoming internet traffic.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.708.1">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.709.1">bastion host</span></strong><span class="koboSpan" id="kobo.710.1"> acts like </span><a id="_idIndexMarker1031"/><span class="koboSpan" id="kobo.711.1">a jump server, which allows access to other resources in the private subnet. </span><span class="koboSpan" id="kobo.711.2">A bastion host needs to be hardened with tighter security so that only appropriate people can access it. </span><span class="koboSpan" id="kobo.711.3">To log in to the server, always use </span><em class="italic"><span class="koboSpan" id="kobo.712.1">public-key cryptography</span></em><span class="koboSpan" id="kobo.713.1"> for authentication rather than a regular user ID and password method.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.714.1">Organizations often gather, store, and review network flow logs for multiple reasons. </span><span class="koboSpan" id="kobo.714.2">These include diagnosing connectivity problems, resolving security issues, and evaluating network access policies. </span><span class="koboSpan" id="kobo.714.3">You need to monitor traffic flow to your system VPC, which includes recording incoming and outgoing traffic information from your network. </span><strong class="keyWord"><span class="koboSpan" id="kobo.715.1">VPC flow logs</span></strong><span class="koboSpan" id="kobo.716.1"> enable you </span><a id="_idIndexMarker1032"/><span class="koboSpan" id="kobo.717.1">to capture that information, along with accepted and rejected traffic information for the designated resource, which helps you to understand traffic patterns better.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.718.1">Flow logs serve as a security tool for monitoring traffic to instances. </span><span class="koboSpan" id="kobo.718.2">You can set up alarms for specific traffic types and create metrics to spot trends and patterns. </span><span class="koboSpan" id="kobo.718.3">Flow logs can be established for a VPC, a subnet, or a network interface. </span><span class="koboSpan" id="kobo.718.4">When created for a subnet or VPC, they monitor each network interface within that subnet or VPC. </span><span class="koboSpan" id="kobo.718.5">For example, consider a scenario where you have a VPC with multiple subnets. </span><span class="koboSpan" id="kobo.718.6">By setting up a flow log for the VPC, you can monitor all incoming and outgoing traffic across its network interfaces. </span><span class="koboSpan" id="kobo.718.7">If you notice unusual traffic patterns, like an unexpected spike in data requests from an unknown IP address, you can configure an alarm to alert you. </span><span class="koboSpan" id="kobo.718.8">This proactive monitoring helps to identify potential security threats or network inefficiencies early on.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.719.1">As you can see, there are multiple layers of security available at the network layer that can help protect your infrastructure. </span><span class="koboSpan" id="kobo.719.2">Keeping resources in their isolated subnet helps to reduce the blast radius. </span><span class="koboSpan" id="kobo.719.3">If an attacker can penetrate one component, you should be able to restrict them to limited resources. </span><span class="koboSpan" id="kobo.719.4">You can use an IDS and an IPS in front of your infrastructure to detect and prevent any malicious traffic. </span><span class="koboSpan" id="kobo.719.5">Let’s learn about them next.</span></p>
<h3 class="heading-3" id="_idParaDest-248"><span class="koboSpan" id="kobo.720.1">Intrusion detection system and intrusion prevention system</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.721.1">An IDS detects any cyber attack happening through network </span><a id="_idIndexMarker1033"/><span class="koboSpan" id="kobo.722.1">traffic by recognizing an attack pattern. </span><span class="koboSpan" id="kobo.722.2">An IPS goes a step further and proactively helps to stop malicious traffic.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.723.1">An IPS provides critical analysis of potential threats, positioned behind the firewall. </span><span class="koboSpan" id="kobo.723.2">It identifies dangerous content, like malicious packets, and can block traffic or reset connections. </span><span class="koboSpan" id="kobo.723.3">The IPS uses two primary detection methods:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.724.1">Signature-based detection</span></strong><span class="koboSpan" id="kobo.725.1">: This </span><a id="_idIndexMarker1034"/><span class="koboSpan" id="kobo.726.1">method relies on a growing database of unique </span><a id="_idIndexMarker1035"/><span class="koboSpan" id="kobo.727.1">patterns, or “signatures,” associated with each known exploit.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.728.1">Statistical anomaly-based detection</span></strong><span class="koboSpan" id="kobo.729.1">: This approach establishes a baseline for </span><a id="_idIndexMarker1036"/><span class="koboSpan" id="kobo.730.1">normal network performance and compares random samples of network </span><a id="_idIndexMarker1037"/><span class="koboSpan" id="kobo.731.1">traffic to this baseline. </span><span class="koboSpan" id="kobo.731.2">If traffic deviates significantly, the IPS intervenes.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.732.1">You will need to determine the applicability of the IDS/IPS system to your application’s requirements. </span><span class="koboSpan" id="kobo.732.2">An IDS can be host-based or network-based.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.733.1">Host-based IDS</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.734.1">A host- or agent-based IDS runs on each host of your environment. </span><span class="koboSpan" id="kobo.734.2">It can review the activity </span><a id="_idIndexMarker1038"/><span class="koboSpan" id="kobo.735.1">within that host to determine if an attack has occurred and has succeeded. </span><span class="koboSpan" id="kobo.735.2">It can do this by inspecting logs, monitoring </span><a id="_idIndexMarker1039"/><span class="koboSpan" id="kobo.736.1">the filesystem, monitoring network connections to the host, and so on. </span><span class="koboSpan" id="kobo.736.2">The software or agent then communicates with a central/command application about the health or security of the host it monitors.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.737.1">The pros of host-based solutions include that they can deeply inspect the activity inside each host. </span><span class="koboSpan" id="kobo.737.2">They can scale horizontally as required (each host gets its own agent) and do not need to impact the performance of running applications. </span><span class="koboSpan" id="kobo.737.3">The cons include the additional configuration management overheads that can be introduced if agents are managed on many servers, which are burdensome for an organization.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.738.1">As each agent operates in isolation, widespread/coordinated attacks can be hard to detect. </span><span class="koboSpan" id="kobo.738.2">To handle coordinated attacks, the system should respond immediately across all hosts, which requires the host-based solution to cooperate with the other components, such as the operating system and the application interface, deployed on the host.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.739.1">Network-based IDS</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.740.1">A network-based IDS inserts an appliance into the network, through which all traffic is routed </span><a id="_idIndexMarker1040"/><span class="koboSpan" id="kobo.741.1">and inspected for attacks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.742.1">The pros </span><a id="_idIndexMarker1041"/><span class="koboSpan" id="kobo.743.1">include a simple/single component that needs to be deployed and managed away from the application hosts. </span><span class="koboSpan" id="kobo.743.2">Also, it is hardened or monitored in a way that might be burdensome across all hosts. </span><span class="koboSpan" id="kobo.743.3">An individual/shared view of security exists in a single place so that the big picture can be inspected for anomalies/attacks.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.744.1">However, a network-based IDS includes the performance hit of adding a network hop to applications. </span><span class="koboSpan" id="kobo.744.2">Having to decrypt/re-encrypt traffic to inspect it is both a massive performance hit and a security risk that makes the network appliance an attractive target. </span><span class="koboSpan" id="kobo.744.3">Any traffic that the IDS cannot decrypt cannot inspect/detect anything.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.745.1">An IDS is a detection and monitoring tool and does not act on its own. </span><span class="koboSpan" id="kobo.745.2">An IPS detects, accepts, and denies traffic based on set rules. </span><span class="koboSpan" id="kobo.745.3">IDS/IPS solutions help to prevent DDoS attacks due to their anomaly-detection capabilities that make them able to recognize when valid </span><a id="_idIndexMarker1042"/><span class="koboSpan" id="kobo.746.1">protocols are used as an attack vehicle. </span><span class="koboSpan" id="kobo.746.2">An IDS and an IPS work by analyzing network packets and comparing </span><a id="_idIndexMarker1043"/><span class="koboSpan" id="kobo.747.1">their contents against a database of known threats. </span><span class="koboSpan" id="kobo.747.2">This process allows them to identify and respond to potential security risks. </span><span class="koboSpan" id="kobo.747.3">Continuous auditing and scanning are required for your infrastructure to secure it from any attack proactively.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.748.1">In this section, you learned all about securing your infrastructure from various types of attacks. </span><span class="koboSpan" id="kobo.748.2">The goal of these attacks is to get hold of your data. </span><span class="koboSpan" id="kobo.748.3">You should secure your data in such a way that an attacker cannot acquire sensitive information even after getting hold of the data. </span><span class="koboSpan" id="kobo.748.4">Let’s learn about data protection using security at the data layer, encryption, and backup.</span></p>
<h2 class="heading-2" id="_idParaDest-249"><span class="koboSpan" id="kobo.749.1">Data security</span></h2>
<p class="normal"><span class="koboSpan" id="kobo.750.1">In today’s digital world, every system revolves around data. </span><span class="koboSpan" id="kobo.750.2">Sometimes, this data may contain </span><a id="_idIndexMarker1044"/><span class="koboSpan" id="kobo.751.1">sensitive information such as customer health records, payment information, and government identity. </span><span class="koboSpan" id="kobo.751.2">Securing customer data to prevent any unauthorized </span><a id="_idIndexMarker1045"/><span class="koboSpan" id="kobo.752.1">access is highly important. </span><span class="koboSpan" id="kobo.752.2">Many industries place significant stress on data protection and security.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.753.1">Before architecting any solution, you should define basic security practices that align with your objective, such as complying with regulatory requirements.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.754.1">There are several different approaches used to protect data. </span><span class="koboSpan" id="kobo.754.2">Let’s look at them in the upcoming sections.</span></p>
<h3 class="heading-3" id="_idParaDest-250"><span class="koboSpan" id="kobo.755.1">Data classification</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.756.1">One of </span><a id="_idIndexMarker1046"/><span class="koboSpan" id="kobo.757.1">the best practices is to classify your data, which provides </span><a id="_idIndexMarker1047"/><span class="koboSpan" id="kobo.758.1">a way to categorize and handle organizational data based on sensitivity levels.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.759.1">According to data sensitivity, you can plan data protection, data encryption, and data access requirements.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.760.1">By managing data classification as per your system’s workload requirements, you can create the data controls and level of access needed for the data. </span><span class="koboSpan" id="kobo.760.2">For example, content such as a </span><a id="_idIndexMarker1048"/><span class="koboSpan" id="kobo.761.1">user rating and review is often public, and it’s fine to provide public access, but user credit </span><a id="_idIndexMarker1049"/><span class="koboSpan" id="kobo.762.1">card information is highly sensitive data that needs to be encrypted and put under very restricted access.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.763.1">At a high level, you can classify data into the following categories:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.764.1">Restricted data</span></strong><span class="koboSpan" id="kobo.765.1">: This contains information that could harm the customer directly if it </span><a id="_idIndexMarker1050"/><span class="koboSpan" id="kobo.766.1">got compromised. </span><span class="koboSpan" id="kobo.766.2">Mishandling of restricted data can damage a company’s reputation and impact a business adversely. </span><span class="koboSpan" id="kobo.766.3">Restricted data may include customer PII data, such as social security numbers, passport details, credit card numbers, and payment information.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.767.1">Private data</span></strong><span class="koboSpan" id="kobo.768.1">: Data can be categorized as private if it contains customer-sensitive </span><a id="_idIndexMarker1051"/><span class="koboSpan" id="kobo.769.1">information that an attacker can use to plan to obtain their restricted data. </span><span class="koboSpan" id="kobo.769.2">Private data may include customer email IDs, phone numbers, full names, and addresses.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.770.1">Public data</span></strong><span class="koboSpan" id="kobo.771.1">: This is </span><a id="_idIndexMarker1052"/><span class="koboSpan" id="kobo.772.1">available and accessible to everyone and requires minimal protection—for example, customer ratings and reviews, customer location, and customer username if the user made it public.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.773.1">You can have a more granular category depending on the type of industry and the nature of the user data. </span><span class="koboSpan" id="kobo.773.2">Data classification needs to balance data usability versus data access. </span><span class="koboSpan" id="kobo.773.3">Setting different levels of access, as mentioned previously, helps to restrict only the necessary data and make sure sensitive data is not exposed. </span><span class="koboSpan" id="kobo.773.4">Always avoid giving direct human access to data and add some tools that can generate a read-only report for users to consume in a restrictive manner.</span></p>
<h3 class="heading-3" id="_idParaDest-251"><span class="koboSpan" id="kobo.774.1">Data encryption at rest</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.775.1">Data at </span><a id="_idIndexMarker1053"/><span class="koboSpan" id="kobo.776.1">rest means data that is stored somewhere, such </span><a id="_idIndexMarker1054"/><span class="koboSpan" id="kobo.777.1">as a </span><strong class="keyWord"><span class="koboSpan" id="kobo.778.1">storage area network</span></strong><span class="koboSpan" id="kobo.779.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.780.1">SAN</span></strong><span class="koboSpan" id="kobo.781.1">), a </span><strong class="keyWord"><span class="koboSpan" id="kobo.782.1">network-attached storage</span></strong><span class="koboSpan" id="kobo.783.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.784.1">NAS</span></strong><span class="koboSpan" id="kobo.785.1">) drive, or </span><a id="_idIndexMarker1055"/><span class="koboSpan" id="kobo.786.1">in cloud storage. </span><span class="koboSpan" id="kobo.786.2">All </span><a id="_idIndexMarker1056"/><span class="koboSpan" id="kobo.787.1">sensitive data must be protected by applying symmetric or asymmetric encryption, explained in this section, with proper key management. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.788.1">In addition to encryption, there are other methods to protect data at rest, such as masking and tokenization. </span><span class="koboSpan" id="kobo.788.2">These methods provide additional layers of security and are particularly useful in situations where sensitive information needs to be used or shared without exposing the actual data.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.789.1">Data encryption is a way of protecting your data whereby you convert your data from plaintext to encoded ciphertext format using an encryption key. </span><span class="koboSpan" id="kobo.789.2">This ciphertext needs to be decrypted </span><a id="_idIndexMarker1057"/><span class="koboSpan" id="kobo.790.1">using the decryption key before it </span><a id="_idIndexMarker1058"/><span class="koboSpan" id="kobo.791.1">can be read, and only authorized users will have access to the decryption key.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.792.1">Commonly used key-based encryption falls into one of two categories of cryptography:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.793.1">Symmetric-key encryption</span></strong><span class="koboSpan" id="kobo.794.1">: With symmetric encryption algorithms, the same key </span><a id="_idIndexMarker1059"/><span class="koboSpan" id="kobo.795.1">is used to encrypt </span><a id="_idIndexMarker1060"/><span class="koboSpan" id="kobo.796.1">and decrypt the data. </span><span class="koboSpan" id="kobo.796.2">Each data packet is self-encrypted with a secret key. </span><span class="koboSpan" id="kobo.796.3">Data is encrypted while saving and decrypted </span><a id="_idIndexMarker1061"/><span class="koboSpan" id="kobo.797.1">during retrieval. </span><span class="koboSpan" id="kobo.797.2">Symmetric </span><a id="_idIndexMarker1062"/><span class="koboSpan" id="kobo.798.1">encryption used to be applied as per the </span><strong class="keyWord"><span class="koboSpan" id="kobo.799.1">Data Encryption Standard</span></strong><span class="koboSpan" id="kobo.800.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.801.1">DES</span></strong><span class="koboSpan" id="kobo.802.1">), which used a 56-bit key. </span><span class="koboSpan" id="kobo.802.2">Now, the </span><strong class="keyWord"><span class="koboSpan" id="kobo.803.1">Advanced Encryption Standard</span></strong><span class="koboSpan" id="kobo.804.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.805.1">AES</span></strong><span class="koboSpan" id="kobo.806.1">) is widely used for symmetric encryption, which is more reliable as it uses a 128-bit, 192-bit, or 256-bit key.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.807.1">Asymmetric-key encryption</span></strong><span class="koboSpan" id="kobo.808.1">: With the help of asymmetric algorithms, two different </span><a id="_idIndexMarker1063"/><span class="koboSpan" id="kobo.809.1">keys can be used: one to encrypt data and one to decrypt data. </span><span class="koboSpan" id="kobo.809.2">In most cases, the encryption </span><a id="_idIndexMarker1064"/><span class="koboSpan" id="kobo.810.1">key is a public key and the decryption key is a private key. </span><span class="koboSpan" id="kobo.810.2">Asymmetric key encryption is also known as </span><strong class="keyWord"><span class="koboSpan" id="kobo.811.1">public-key encryption</span></strong><span class="koboSpan" id="kobo.812.1">. </span><span class="koboSpan" id="kobo.812.2">The </span><a id="_idIndexMarker1065"/><span class="koboSpan" id="kobo.813.1">public and private keys are </span><em class="italic"><span class="koboSpan" id="kobo.814.1">unidentical</span></em><span class="koboSpan" id="kobo.815.1"> but they are paired together. </span><span class="koboSpan" id="kobo.815.2">The private key is only available to one user, while the public key can be distributed across multiple resources. </span><span class="koboSpan" id="kobo.815.3">Only </span><a id="_idIndexMarker1066"/><span class="koboSpan" id="kobo.816.1">the user who has a private key can decrypt the data. </span><strong class="keyWord"><span class="koboSpan" id="kobo.817.1">Rivest–Shamir–Adleman</span></strong><span class="koboSpan" id="kobo.818.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.819.1">RSA</span></strong><span class="koboSpan" id="kobo.820.1">) is one of the first and most popular public key encryption algorithms used to secure data transmissions over a network.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.821.1">Data encryption and decryption come with a performance price as they add an additional layer of processing. </span><span class="koboSpan" id="kobo.821.2">You need to make a careful trade-off while choosing data for encryption. </span><span class="koboSpan" id="kobo.821.3">It might be best to use encryption only where it’s necessary to reduce performance and key management overheads.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.822.1">If you encrypt your data with an AES 256-bit security key, it is almost impossible to break the </span><a id="_idIndexMarker1067"/><span class="koboSpan" id="kobo.823.1">encryption. </span><span class="koboSpan" id="kobo.823.2">The only way to decrypt it is </span><a id="_idIndexMarker1068"/><span class="koboSpan" id="kobo.824.1">by getting your hands on the encryption key, which means you need to secure your code and keep it in a safe place. </span><span class="koboSpan" id="kobo.824.2">Let’s learn about some essential management methods to safeguard your encryption key.</span></p>
<h4 class="heading-4"><span class="koboSpan" id="kobo.825.1">Encryption key management</span></h4>
<p class="normal"><span class="koboSpan" id="kobo.826.1">Key management is essential for effective encryption. </span><span class="koboSpan" id="kobo.826.2">It ensures that only authorized personnel </span><a id="_idIndexMarker1069"/><span class="koboSpan" id="kobo.827.1">can access and manage encryption keys. </span><span class="koboSpan" id="kobo.827.2">It involves the creation, storage, rotation, and deletion of keys, along with controlling </span><a id="_idIndexMarker1070"/><span class="koboSpan" id="kobo.828.1">who can access them. </span><span class="koboSpan" id="kobo.828.2">Envelope encryption is a specific key management technique used in symmetric encryption where a data key encrypts the plaintext, and a master key encrypts the data key. </span><span class="koboSpan" id="kobo.828.3">This method enhances security by requiring two keys for decryption, adding an extra layer of protection.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.829.1">AWS </span><strong class="keyWord"><span class="koboSpan" id="kobo.830.1">Key Management Service</span></strong><span class="koboSpan" id="kobo.831.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.832.1">KMS</span></strong><span class="koboSpan" id="kobo.833.1">) provides envelope encryption functionality. </span><span class="koboSpan" id="kobo.833.2">It provides a </span><a id="_idIndexMarker1071"/><span class="koboSpan" id="kobo.834.1">secure environment where data keys encrypt customer data and master keys from KMS encrypt the data keys. </span><span class="koboSpan" id="kobo.834.2">This service provides centralized control over key management, including user access and key rotation.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.835.1">AWS KMS is a multitenancy key management module. </span><span class="koboSpan" id="kobo.835.2">Other cloud vendors provide a similar key management system, such as Cloud Key Management from GCP and Azure Key Vault from Microsoft.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.836.1">Sometimes, due to regulatory requirements, customers prefer a dedicated key management store that incorporates physical hardware security. </span><span class="koboSpan" id="kobo.836.2">They can choose to store their keys in a </span><strong class="keyWord"><span class="koboSpan" id="kobo.837.1">hardware security module</span></strong><span class="koboSpan" id="kobo.838.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.839.1">HSM</span></strong><span class="koboSpan" id="kobo.840.1">) in this case. </span><span class="koboSpan" id="kobo.840.2">Cloud providers such as AWS also </span><a id="_idIndexMarker1072"/><span class="koboSpan" id="kobo.841.1">provide stores, such as AWS </span><strong class="keyWord"><span class="koboSpan" id="kobo.842.1">CloudHSM</span></strong><span class="koboSpan" id="kobo.843.1">. </span><span class="koboSpan" id="kobo.843.2">You can choose your own HSM vendor as well. </span></p>
<p class="normal"><span class="koboSpan" id="kobo.844.1">An HSM is a specialized device designed to safeguard cryptographic keys and operations, featuring robust physical and logical security mechanisms. </span><span class="koboSpan" id="kobo.844.2">Physically, it’s engineered to detect and respond to tampering by erasing keys to prevent breaches. </span><span class="koboSpan" id="kobo.844.3">Logically, it employs stringent access controls, allowing only authorized users specific roles and interactions with the device. </span><span class="koboSpan" id="kobo.844.4">To prevent data loss, it’s crucial to ensure the HSM’s high availability, typically by deploying multiple units in different locations.</span></p>
<h3 class="heading-3" id="_idParaDest-252"><span class="koboSpan" id="kobo.845.1">Data encryption in transit</span></h3>
<p class="normal"><span class="koboSpan" id="kobo.846.1">Data in transit means data being transferred over the network. </span><span class="koboSpan" id="kobo.846.2">You may encrypt data at rest in the </span><a id="_idIndexMarker1073"/><span class="koboSpan" id="kobo.847.1">source and destination but your data </span><a id="_idIndexMarker1074"/><span class="koboSpan" id="kobo.848.1">transfer pipeline needs to be secure when transferring data. </span><span class="koboSpan" id="kobo.848.2">When transferring data over an unencrypted protocol such as HTTP, it can be accessed through an </span><a id="_idIndexMarker1075"/><span class="koboSpan" id="kobo.849.1">attack such as an </span><strong class="keyWord"><span class="koboSpan" id="kobo.850.1">eavesdropping attack</span></strong><span class="koboSpan" id="kobo.851.1"> or </span><strong class="keyWord"><span class="koboSpan" id="kobo.852.1">man-in-the-middle</span></strong><span class="koboSpan" id="kobo.853.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.854.1">MITM</span></strong><span class="koboSpan" id="kobo.855.1">) attack.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.856.1">In an </span><a id="_idIndexMarker1076"/><span class="koboSpan" id="kobo.857.1">eavesdropping attack, the attacker captures a small packet from a network and uses it to search for any other type of information. </span><span class="koboSpan" id="kobo.857.2">An MITM attack is a tampering-based attack where the attacker secretly alters the communication to start communicating on behalf of the receiver. </span><span class="koboSpan" id="kobo.857.3">These kinds of attacks </span><a id="_idIndexMarker1077"/><span class="koboSpan" id="kobo.858.1">can be prevented by transferring data over SSL using a strong protocol such as the </span><strong class="keyWord"><span class="koboSpan" id="kobo.859.1">Transport Security Layer</span></strong><span class="koboSpan" id="kobo.860.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.861.1">TSL</span></strong><span class="koboSpan" id="kobo.862.1">).</span></p>
<p class="normal"><span class="koboSpan" id="kobo.863.1">You will observe that most websites now use HTTPS for communication, which encrypts data using SSL. </span><span class="koboSpan" id="kobo.863.2">By default, HTTP traffic is unprotected. </span><span class="koboSpan" id="kobo.863.3">All web servers and browsers support SSL/TSL protection for HTTP traffic (HTTPS). </span><span class="koboSpan" id="kobo.863.4">HTTP traffic also applies to service-oriented </span><a id="_idIndexMarker1078"/><span class="koboSpan" id="kobo.864.1">architectures such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.865.1">Representational State Transfer</span></strong><span class="koboSpan" id="kobo.866.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.867.1">REST</span></strong><span class="koboSpan" id="kobo.868.1">) and </span><strong class="keyWord"><span class="koboSpan" id="kobo.869.1">Simple Object Access Protocol</span></strong><span class="koboSpan" id="kobo.870.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.871.1">SOAP</span></strong><span class="koboSpan" id="kobo.872.1">)-based </span><a id="_idIndexMarker1079"/><span class="koboSpan" id="kobo.873.1">architectures.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.874.1">SSL/TSL handshakes use certificates to exchange a public key using asymmetric encryption and then use the public key to exchange a private key using symmetric encryption. </span><span class="koboSpan" id="kobo.874.2">A security </span><a id="_idIndexMarker1080"/><span class="koboSpan" id="kobo.875.1">certificate is issued by an acceptable </span><strong class="keyWord"><span class="koboSpan" id="kobo.876.1">Certification Authority</span></strong><span class="koboSpan" id="kobo.877.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.878.1">CA</span></strong><span class="koboSpan" id="kobo.879.1">) such as Verisign. </span><span class="koboSpan" id="kobo.879.2">Procured security certificates need to be </span><a id="_idIndexMarker1081"/><span class="koboSpan" id="kobo.880.1">secured using a </span><strong class="keyWord"><span class="koboSpan" id="kobo.881.1">Public Key Infrastructure</span></strong><span class="koboSpan" id="kobo.882.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.883.1">PKI</span></strong><span class="koboSpan" id="kobo.884.1">). </span><span class="koboSpan" id="kobo.884.2">Here’s an overview of the standard SSL handshake process using RSA key exchange:</span></p>
<ol class="numberedList" style="list-style-type: decimal;">
<li class="numberedList" value="1"><strong class="keyWord"><span class="koboSpan" id="kobo.885.1">Client Hello</span></strong><span class="koboSpan" id="kobo.886.1">: The client initiates the SSL communication by sending a message to the server. </span><span class="koboSpan" id="kobo.886.2">This message includes the SSL version number, preferred cipher settings, and data specific to the user’s session.</span></li>
<li class="numberedList"><strong class="keyWord"><span class="koboSpan" id="kobo.887.1">Server Hello</span></strong><span class="koboSpan" id="kobo.888.1">: The server responds to the client, agreeing to communicate using SSL. </span><span class="koboSpan" id="kobo.888.2">It verifies the SSL version number and sends its certificate, which contains the public key.</span></li>
<li class="numberedList"><strong class="keyWord"><span class="koboSpan" id="kobo.889.1">Authentication and pre-master secret generation</span></strong><span class="koboSpan" id="kobo.890.1">: The client authenticates the server’s certificate, checking its common name, validity period, and issuing authority. </span><span class="koboSpan" id="kobo.890.2">It then generates a pre-master secret based on the chosen cipher and encrypts it with the public key from the server before sending it.</span></li>
<li class="numberedList"><strong class="keyWord"><span class="koboSpan" id="kobo.891.1">Decryption and master secret creation</span></strong><span class="koboSpan" id="kobo.892.1">: The server uses its private key to decrypt the pre-master secret. </span><span class="koboSpan" id="kobo.892.2">Both parties then use this pre-master secret to create a master secret, following steps defined by the selected cipher.</span></li>
<li class="numberedList"><strong class="keyWord"><span class="koboSpan" id="kobo.893.1">Session key encryption</span></strong><span class="koboSpan" id="kobo.894.1">: Both the server and client send messages indicating that subsequent communications will be encrypted using the session key, also known as the shared secret. </span><span class="koboSpan" id="kobo.894.2">They confirm that message encryption and decryption are successful, ensuring that the rest of the session’s communication is securely encrypted.</span></li>
</ol>
<p class="normal"><span class="koboSpan" id="kobo.895.1">Non-web </span><a id="_idIndexMarker1082"/><span class="koboSpan" id="kobo.896.1">transmission of data over the network should also be </span><a id="_idIndexMarker1083"/><span class="koboSpan" id="kobo.897.1">encrypted, including </span><strong class="keyWord"><span class="koboSpan" id="kobo.898.1">Secure Shell</span></strong><span class="koboSpan" id="kobo.899.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.900.1">SSH</span></strong><span class="koboSpan" id="kobo.901.1">) and </span><strong class="keyWord"><span class="koboSpan" id="kobo.902.1">Internet Protocol Security</span></strong><span class="koboSpan" id="kobo.903.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.904.1">IPsec</span></strong><span class="koboSpan" id="kobo.905.1">) encryption. </span><span class="koboSpan" id="kobo.905.2">SSH is most prevalent while connecting </span><a id="_idIndexMarker1084"/><span class="koboSpan" id="kobo.906.1">to servers, and IPsec applies to secure corporate traffic </span><a id="_idIndexMarker1085"/><span class="koboSpan" id="kobo.907.1">transferred over a </span><strong class="keyWord"><span class="koboSpan" id="kobo.908.1">virtual private network</span></strong><span class="koboSpan" id="kobo.909.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.910.1">VPN</span></strong><span class="koboSpan" id="kobo.911.1">). </span><span class="koboSpan" id="kobo.911.2">File transfer </span><a id="_idIndexMarker1086"/><span class="koboSpan" id="kobo.912.1">should be secured using </span><strong class="keyWord"><span class="koboSpan" id="kobo.913.1">SSH File Transfer Protocol</span></strong><span class="koboSpan" id="kobo.914.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.915.1">SFTPS</span></strong><span class="koboSpan" id="kobo.916.1">) or </span><strong class="keyWord"><span class="koboSpan" id="kobo.917.1">FTP Secure</span></strong><span class="koboSpan" id="kobo.918.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.919.1">FTPS</span></strong><span class="koboSpan" id="kobo.920.1">), and email server communication </span><a id="_idIndexMarker1087"/><span class="koboSpan" id="kobo.921.1">needs to be secured by </span><strong class="keyWord"><span class="koboSpan" id="kobo.922.1">Simple Mail Transfer Protocol Secure</span></strong><span class="koboSpan" id="kobo.923.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.924.1">SMTPS</span></strong><span class="koboSpan" id="kobo.925.1">) or </span><strong class="keyWord"><span class="koboSpan" id="kobo.926.1">Internet Message Access Protocol</span></strong><span class="koboSpan" id="kobo.927.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.928.1">IMAP</span></strong><span class="koboSpan" id="kobo.929.1">).</span></p>
<p class="normal"><span class="koboSpan" id="kobo.930.1">In this </span><a id="_idIndexMarker1088"/><span class="koboSpan" id="kobo.931.1">section, you learned about various ways to secure data at rest </span><a id="_idIndexMarker1089"/><span class="koboSpan" id="kobo.932.1">and in motion with different </span><a id="_idIndexMarker1090"/><span class="koboSpan" id="kobo.933.1">cryptographic techniques.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.934.1">Data backup and recovery is an essential aspect of protecting your data in the case of any unforeseen incidents. </span><span class="koboSpan" id="kobo.934.2">You will learn more about data backup in </span><em class="chapterRef"><span class="koboSpan" id="kobo.935.1">Chapter 8</span></em><span class="koboSpan" id="kobo.936.1">, </span><em class="italic"><span class="koboSpan" id="kobo.937.1">Architectural Reliability Considerations</span></em><span class="koboSpan" id="kobo.938.1">, in the </span><em class="italic"><span class="koboSpan" id="kobo.939.1">Disaster recovery planning</span></em><span class="koboSpan" id="kobo.940.1"> section.</span></p>
<h2 class="heading-2" id="_idParaDest-253"><span class="koboSpan" id="kobo.941.1">Securing APIs</span></h2>
<p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.942.1">Application Programming Interfaces</span></strong><span class="koboSpan" id="kobo.943.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.944.1">APIs</span></strong><span class="koboSpan" id="kobo.945.1">) are the connective tissue between different software </span><a id="_idIndexMarker1091"/><span class="koboSpan" id="kobo.946.1">systems. </span><span class="koboSpan" id="kobo.946.2">They facilitate seamless </span><a id="_idIndexMarker1092"/><span class="koboSpan" id="kobo.947.1">interactions and data transfers. </span><span class="koboSpan" id="kobo.947.2">Think of an API as a server in a restaurant; you (the software application) give the waiter (the API) your order (the request), and the waiter brings back the dish (the data/response) from the kitchen (another software system or database). </span><span class="koboSpan" id="kobo.947.3">Due to the critical role APIs play in modern software infrastructure, especially in cloud services and microservice architectures, they’ve become enticing targets for cyber attackers. </span><span class="koboSpan" id="kobo.947.4">As such, securing them has never been more crucial. </span><span class="koboSpan" id="kobo.947.5">APIs, by their very nature, expose a gateway to potentially sensitive application functions and data. </span><span class="koboSpan" id="kobo.947.6">When improperly secured, APIs can lead to various threats, such as unauthorized access to sensitive data, data corruption, denial of service, and sometimes full system compromises. </span><span class="koboSpan" id="kobo.947.7">Furthermore, given the interconnected nature of today’s software ecosystems, a vulnerability in one API could potentially compromise an entire suite of applications and services. </span><span class="koboSpan" id="kobo.947.8">As businesses </span><a id="_idIndexMarker1093"/><span class="koboSpan" id="kobo.948.1">increasingly rely on APIs to integrate third-party services and enable functionalities like payment gateways, the implications of an API breach can be severe, affecting revenue, brand reputation, and legal standing.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.949.1">Here are </span><a id="_idIndexMarker1094"/><span class="koboSpan" id="kobo.950.1">some best practices to ensure API security:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.951.1">Authentication and authorization</span></strong><span class="koboSpan" id="kobo.952.1">: Utilize strong authentication methods such as OAuth or JWTs to confirm the identities of entities attempting to access the API. </span><span class="koboSpan" id="kobo.952.2">Additionally, implement effective authorization protocols to manage access rights. </span><span class="koboSpan" id="kobo.952.3">This means that even authenticated users can only access the data and functions they are explicitly permitted to. </span><span class="koboSpan" id="kobo.952.4">A secure API knows who is making a request and what that entity is allowed to access. </span><p class="bulletList"><span class="koboSpan" id="kobo.953.1">A banking app uses an API to allow users to check account balances. </span><span class="koboSpan" id="kobo.953.2">The app uses OAuth to ensure only authenticated and authorized users can view their specific account details.</span></p>
</li>
</ul>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.954.1">Rate limiting</span></strong><span class="koboSpan" id="kobo.955.1">: Implement rate limiting to prevent any form of abuse, including brute-force attacks. </span><span class="koboSpan" id="kobo.955.2">By limiting the number of requests a user or IP can make within a set timeframe, you can thwart potential attackers from overwhelming your system or trying numerous combinations in quick succession. </span><span class="koboSpan" id="kobo.955.3">An online store’s API could prevent users from making more than ten requests per minute to prevent system overloads and potential misuse.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.956.1">Input validation</span></strong><span class="koboSpan" id="kobo.957.1">: Always validate and sanitize data sent to your API. </span><span class="koboSpan" id="kobo.957.2">This can prevent various forms of attacks, including SQLi, where attackers send malicious data in the hopes of manipulating your systems. </span><span class="koboSpan" id="kobo.957.3">An online feedback form uses an API to submit user comments. </span><span class="koboSpan" id="kobo.957.4">The system checks to ensure that entries don’t contain malicious scripts that could compromise the website.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.958.1">Encryption</span></strong><span class="koboSpan" id="kobo.959.1">: Data in transit to and from your API should be encrypted using protocols such as TLS. </span><span class="koboSpan" id="kobo.959.2">This ensures that even if data packets are intercepted, they remain unintelligible to unauthorized parties. </span><span class="koboSpan" id="kobo.959.3">A messaging app ensures that the messages sent between users are encrypted. </span><span class="koboSpan" id="kobo.959.4">If someone intercepts the messages, they’ll only see jumbled characters rather than the actual content. </span><span class="koboSpan" id="kobo.959.5">Think of it as speaking in a coded language. </span><span class="koboSpan" id="kobo.959.6">Even if someone overhears your conversation, they will only understand it if they know the code.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.960.1">Regularly monitor and audit</span></strong><span class="koboSpan" id="kobo.961.1">: Continuously monitor API activity. </span><span class="koboSpan" id="kobo.961.2">Any unusual patterns, such as unexpected spikes in requests or anomalous data access patterns, can be early signs of an attack or vulnerability exploitation. </span><span class="koboSpan" id="kobo.961.3">Regular </span><a id="_idIndexMarker1095"/><span class="koboSpan" id="kobo.962.1">audits can also help identify any lingering security misconfigurations. </span><span class="koboSpan" id="kobo.962.2">A cloud storage provider monitors its APIs for unusual data transfer patterns, ensuring that large amounts of data aren’t being unexpectedly downloaded or uploaded, which could indicate a security breach. </span><span class="koboSpan" id="kobo.962.3">Consider security cameras in stores. </span><span class="koboSpan" id="kobo.962.4">They monitor activity and can catch and deter theft.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.963.1">Implement API gateways</span></strong><span class="koboSpan" id="kobo.964.1">: Using API gateways can act as an added layer of protection. </span><span class="koboSpan" id="kobo.964.2">They handle request routing, API composition, and other functions, ensuring only legitimate requests reach your back-end systems. </span><span class="koboSpan" id="kobo.964.3">An e-commerce site uses an API gateway to manage requests, ensuring that only legitimate and well-structured requests reach its database, filtering out potentially harmful ones. </span><span class="koboSpan" id="kobo.964.4">Consider a hotel concierge who checks and confirms your reservation before allowing you to proceed to your room.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.965.1">Error handling</span></strong><span class="koboSpan" id="kobo.966.1">: Avoid exposing sensitive information through error messages. </span><span class="koboSpan" id="kobo.966.2">A generic error message should be returned to the user, while detailed error logs should be maintained securely on the server side for diagnostic purposes. </span><span class="koboSpan" id="kobo.966.3">When a user tries to reset a password and their email isn’t recognized, the system doesn’t specify if the email is wrong or doesn’t exist. </span><span class="koboSpan" id="kobo.966.4">It simply prompts them to try again, preventing potential data phishing.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.967.1">Use web application firewalls</span></strong><span class="koboSpan" id="kobo.968.1">: WAFs can detect and block malicious requests to your API, providing another layer of defense against common web-based threats. </span><span class="koboSpan" id="kobo.968.2">For example, if you’re running an e-commerce platform, the WAF can scrutinize incoming traffic to your API endpoints, identifying and thwarting potentially harmful requests such as SQLi and XSS attacks. </span><span class="koboSpan" id="kobo.968.3">This ensures that only legitimate requests are processed, safeguarding your application from cyber threats.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.969.1">Versioning</span></strong><span class="koboSpan" id="kobo.970.1">: Implement versioning in your APIs. </span><span class="koboSpan" id="kobo.970.2">If a security issue is detected in one API version, it can be addressed without affecting other versions, ensuring continuity of service for applications using the unaffected versions. </span><span class="koboSpan" id="kobo.970.3">For example, suppose you have a mobile application that relies on an API for fetching user data. </span><span class="koboSpan" id="kobo.970.4">By implementing versioning (e.g., v1, v2, v3), if a security vulnerability is discovered in v2, you can quickly address the issue in that version </span><a id="_idIndexMarker1096"/><span class="koboSpan" id="kobo.971.1">while older (v1) and newer (v3) versions continue to operate securely and without disruption. </span><span class="koboSpan" id="kobo.971.2">This approach allows your development team to patch or upgrade specific versions of the API, minimizing the impact on end users.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.972.1">Regular security testing</span></strong><span class="koboSpan" id="kobo.973.1">: Periodically subject your APIs to penetration testing and vulnerability assessments. </span><span class="koboSpan" id="kobo.973.2">This proactive approach can help identify and rectify potential weaknesses before they are exploited. </span><span class="koboSpan" id="kobo.973.3">A music streaming platform periodically tests its API to ensure that unauthorized users can’t access premium features without a valid subscription.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.974.1">As APIs continue to be the linchpin of modern digital infrastructure, the necessity to secure them escalates. </span><span class="koboSpan" id="kobo.974.2">By adhering to industry best practices and maintaining a proactive security posture, businesses can safeguard their operations, customers, and reputation from any threats posed.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.975.1">There are many governing bodies that publish compliance about data security, which can take the form of a set of checklists to adhere to. </span><span class="koboSpan" id="kobo.975.2">Compliance also makes sure that organizations comply with industry and local government rules. </span><span class="koboSpan" id="kobo.975.3">Let’s learn more about various compliance measures in the next section.</span></p>
<h1 class="heading-1" id="_idParaDest-254"><span class="koboSpan" id="kobo.976.1">Security and compliance certifications</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.977.1">Many compliance </span><a id="_idIndexMarker1097"/><span class="koboSpan" id="kobo.978.1">certifications to protect customer privacy and </span><a id="_idIndexMarker1098"/><span class="koboSpan" id="kobo.979.1">secure data depend on your industry and your geographical location. </span><span class="koboSpan" id="kobo.979.2">For any solution design, compliance requirements are among the critical criteria that need to be evaluated. </span><span class="koboSpan" id="kobo.979.3">The following are some of the most widely known geographical and industry-standard compliances:</span></p>
<ul>
<li class="bulletList"><span class="koboSpan" id="kobo.980.1">Global compliance includes certifications that all organizations must adhere to, regardless of their region. </span><span class="koboSpan" id="kobo.980.2">These include ISO 9001, ISO 27001, ISO 27017, ISO 27018, SOC 1, SOC 2, SOC 3, and CSA STAR for cloud security.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.981.1">The US government requires various kinds of compliance to handle the public sector workload. </span><span class="koboSpan" id="kobo.981.2">These include FedRAMP, DoD SRG Level-2, 4, and 5, FIPS 140, NIST SP 800, IRS 1075, ITAR, VPAT, and CJIS.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.982.1">Industry-level compliance of an application applies to particular industries. </span><span class="koboSpan" id="kobo.982.2">These include PCI DSS, CDSA, MPAA, FERPA, CMS MARS-E, NHS IG Toolkit (in the UK), HIPAA, FDA, FISC (in Japan), FACT (in the UK), Shared Assessment, and GLBA.</span></li>
<li class="bulletList"><span class="koboSpan" id="kobo.983.1">Regional compliance certification applies to a particular country or region. </span><span class="koboSpan" id="kobo.983.2">These include the EU GDPR, EU Model Clauses, UK G-Cloud, China DJCP, Singapore MTCS, Argentina PDPA, Australia IRAP, India MeitY, New Zealand GCIO, Japan CS Mark Gold, Spain ENS and DPA, Canada Privacy Law, and US Privacy Shield.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.984.1">As you can see, there are many compliance certifications available from different regulatory bodies that relate to industry, region, and government policy. </span><span class="koboSpan" id="kobo.984.2">We are not going to go into compliance details but you must evaluate your application with compliance </span><a id="_idIndexMarker1099"/><span class="koboSpan" id="kobo.985.1">requirements before starting your solution design as </span><a id="_idIndexMarker1100"/><span class="koboSpan" id="kobo.986.1">compliance requirements influence the overall solution design heavily. </span><span class="koboSpan" id="kobo.986.2">You need to decide what kind of encryption is required, as well as the logging, auditing, and location of your workload based on your compliance needs.</span></p>
<div class="packt_tip">
<p class="normal"><span class="koboSpan" id="kobo.987.1">Logging and monitoring help to ensure robust security and compliance and are essential. </span><span class="koboSpan" id="kobo.987.2">If an incident occurs, your team should be notified immediately and should be ready to respond. </span><span class="koboSpan" id="kobo.987.3">You will learn more about monitoring and alert methods in </span><em class="chapterRef"><span class="koboSpan" id="kobo.988.1">Chapter 9</span></em><span class="koboSpan" id="kobo.989.1">, </span><em class="italic"><span class="koboSpan" id="kobo.990.1">Operational Excellence Considerations</span></em><span class="koboSpan" id="kobo.991.1">.</span></p>
</div>
<p class="normal"><span class="koboSpan" id="kobo.992.1">Several compliance industries depend on your application geolocation, industry, and government rules. </span><span class="koboSpan" id="kobo.992.2">You have learned about the various categories of compliance and some common compliance standards appropriate for each group. </span><span class="koboSpan" id="kobo.992.3">Many organizations are moving to the cloud, so it’s vital to understand security in the cloud.</span></p>
<h1 class="heading-1" id="_idParaDest-255"><span class="koboSpan" id="kobo.993.1">The cloud’s shared security responsibility model</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.994.1">As the cloud </span><a id="_idIndexMarker1101"/><span class="koboSpan" id="kobo.995.1">is becoming the norm and many organizations are moving their workload to a public cloud such as AWS, GCP, and Azure, the customer needs to understand the cloud security model.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.996.1">Security in the cloud is a joint effort between the customer and the cloud provider.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.997.1">Customers are responsible for what they implement using cloud services and the applications connected to the cloud. </span><span class="koboSpan" id="kobo.997.2">In the cloud, customer responsibility for application security depends upon the cloud provider they are using and the complexity of their system.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.998.1">The following </span><a id="_idIndexMarker1102"/><span class="koboSpan" id="kobo.999.1">diagram illustrates a cloud security model from one of the largest public cloud providers (AWS), and it’s pretty much applicable to any public cloud provider, such as Azure, GCP, Oracle, IBM, and Alibaba:</span></p>
<figure class="mediaobject"><span class="koboSpan" id="kobo.1000.1"><img alt="A picture containing text, screenshot, font, software  Description automatically generated" src="../Images/B21336_07_11.png"/></span></figure>
<p class="packt_figref"><span class="koboSpan" id="kobo.1001.1">Figure 7.11: AWS Cloud shared security responsibility model</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1002.1">The customer handles the </span><strong class="keyWord"><span class="koboSpan" id="kobo.1003.1">security in the cloud</span></strong><span class="koboSpan" id="kobo.1004.1">, which includes the following:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1005.1">Server’s operating system</span></strong><span class="koboSpan" id="kobo.1006.1">: The operating system installed on the server could be vulnerable to attacks. </span><span class="koboSpan" id="kobo.1006.2">Patching and maintenance of the operating system is the customer’s responsibility, as software applications depend heavily upon it.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1007.1">Application</span></strong><span class="koboSpan" id="kobo.1008.1">: Every application and its environments, such as dev, test, and prod, are maintained by the customer. </span><span class="koboSpan" id="kobo.1008.2">So, handling password policies and access management is the customer’s responsibility.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1009.1">Operating system/host-based firewalls</span></strong><span class="koboSpan" id="kobo.1010.1">: Customers must protect their entire system from external attacks. </span><span class="koboSpan" id="kobo.1010.2">The cloud provides security in that area, but customers should consider an IDS or an IPS to add an extra layer of security.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1011.1">Network configuration and security group</span></strong><span class="koboSpan" id="kobo.1012.1">: The cloud provides tools to create a network firewall, but which traffic needs to be stopped or allowed to go through depends on the application requirements. </span><span class="koboSpan" id="kobo.1012.2">Customers are responsible for setting up firewall rules to secure their systems from external and internal network traffic.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1013.1">Customer data and encryption</span></strong><span class="koboSpan" id="kobo.1014.1">: Data handling is the customer’s responsibility, as they are more aware of the level of data protection needed. </span><span class="koboSpan" id="kobo.1014.2">The cloud provides tools for data protection by using various encryption mechanisms but it’s the customer’s responsibility to apply those tools and secure their data.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.1015.1">As shown in </span><em class="italic"><span class="koboSpan" id="kobo.1016.1">Figure 7.11</span></em><span class="koboSpan" id="kobo.1017.1">, AWS and other public cloud providers are responsible for </span><strong class="keyWord"><span class="koboSpan" id="kobo.1018.1">securing the cloud</span></strong><span class="koboSpan" id="kobo.1019.1">, specifically the physical infrastructure that hosts your resources. </span><span class="koboSpan" id="kobo.1019.2">This </span><a id="_idIndexMarker1103"/><span class="koboSpan" id="kobo.1020.1">security encompasses several key areas:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1021.1">Data Centers</span></strong><span class="koboSpan" id="kobo.1022.1">: AWS data centers are nondescript facilities that employ round-the-clock security guards. </span><span class="koboSpan" id="kobo.1022.2">They implement strict access controls, including two-factor authentication, comprehensive access logging and regular review, and video surveillance. </span><span class="koboSpan" id="kobo.1022.3">Additionally, AWS ensures the secure disposal of data storage devices through methods like disk degaussing and destruction.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1023.1">Hardware Infrastructure</span></strong><span class="koboSpan" id="kobo.1024.1">: This includes servers, storage devices, and various other appliances that underpin AWS services. </span><span class="koboSpan" id="kobo.1024.2">AWS ensures the security and integrity of this hardware.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1025.1">Software Infrastructure</span></strong><span class="koboSpan" id="kobo.1026.1">: This refers to the host operating systems, service applications, and virtualization software used in AWS services. </span><span class="koboSpan" id="kobo.1026.2">AWS maintains the security of this software layer, ensuring it is resilient to threats.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1027.1">Network Infrastructure</span></strong><span class="koboSpan" id="kobo.1028.1">: AWS secures its network infrastructure, which comprises routers, switches, load balancers, firewalls, cabling, and more. </span><span class="koboSpan" id="kobo.1028.2">Part of this security measure involves continuous monitoring of the network’s external boundaries. </span><span class="koboSpan" id="kobo.1028.3">AWS also maintains secure access points and redundant network infrastructure to prevent disruptions and enhance security.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.1029.1">To make your application with industry regulations like PCI-DSS for financial data security and GDPR for data protection in Europe, you need to handle and complete audits for application-level complaints. </span><span class="koboSpan" id="kobo.1029.2">The public cloud provides various compliance certifications that apply to the hardware portions they manage. </span><span class="koboSpan" id="kobo.1029.3">As a customer, you get an additional advantage by inheriting security and compliance provided by the cloud provider.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1030.1">The cloud provides all kinds of tools and services to secure your application in the cloud, along with built-in security at the IT infrastructure level. </span><span class="koboSpan" id="kobo.1030.2">However, it’s up to the customer how they want to utilize those services and make their application secure in the cloud. </span><span class="koboSpan" id="kobo.1030.3">The cloud offers enhanced visibility and centralized control over your IT inventory, aiding in the effective management and security of your systems.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1031.1">Security is </span><a id="_idIndexMarker1104"/><span class="koboSpan" id="kobo.1032.1">the priority for any solution, and a solutions architect must ensure their application is secure and protected from any attack. </span><span class="koboSpan" id="kobo.1032.2">Aim to incorporate automated security best practices as much as possible. </span><span class="koboSpan" id="kobo.1032.3">Utilizing software-based security mechanisms can significantly enhance your scalability, cost-effectiveness, and overall security. </span><span class="koboSpan" id="kobo.1032.4">Start by creating a custom baseline image of a virtual server, which encapsulates your security standards. </span><span class="koboSpan" id="kobo.1032.5">This image can then be used consistently for every new server you deploy, ensuring uniform security across your infrastructure. </span><span class="koboSpan" id="kobo.1032.6">Additionally, design your entire infrastructure within a template that defines and manages it. </span><span class="koboSpan" id="kobo.1032.7">This approach allows you to replicate your established security best practices in every new environment you create.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1033.1">Security is a continuous effort. </span><span class="koboSpan" id="kobo.1033.2">Each security incident should be treated as an improvement opportunity for the application. </span><span class="koboSpan" id="kobo.1033.3">A robust security mechanism should have authentication and authorization controls. </span><span class="koboSpan" id="kobo.1033.4">Organizations and applications should automate responses to security events and protect infrastructure at multiple levels.</span></p>
<h1 class="heading-1" id="_idParaDest-256"><span class="koboSpan" id="kobo.1034.1">Securing threat modeling</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1035.1">Threat modeling is a structured way to identify, assess, and prioritize potential threats to your application. </span><span class="koboSpan" id="kobo.1035.2">By understanding the potential threats, you can design and implement </span><a id="_idIndexMarker1105"/><span class="koboSpan" id="kobo.1036.1">appropriate countermeasures to prevent, detect, or mitigate the impact of these threats. </span><span class="koboSpan" id="kobo.1036.2">Threat modeling is often used in software development but can also be applied to other areas, such as infrastructure and operations.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1037.1">The following are the components of threat modeling:</span></p>
<ul>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1038.1">System representation</span></strong><span class="koboSpan" id="kobo.1039.1">: Before analyzing threats, you need a clear understanding of the system. </span><span class="koboSpan" id="kobo.1039.2">This often involves creating diagrams or models of the system’s architecture, components, data flows, and potential entry points. </span><span class="koboSpan" id="kobo.1039.3">For a simple online e-commerce website, you might have a front-end for users, a back-end server handling requests, a database storing user credentials, and an external payment gateway for transactions. </span><span class="koboSpan" id="kobo.1039.4">Before launching a </span><a id="_idIndexMarker1106"/><span class="koboSpan" id="kobo.1040.1">new feature that allows users to save multiple delivery addresses, the development team wants to ensure there are no security loopholes. </span><span class="koboSpan" id="kobo.1040.2">They create a data flow diagram showing how this new feature interacts with the existing system.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1041.1">Threat identification</span></strong><span class="koboSpan" id="kobo.1042.1">: Enumerate potential threats based on the system’s representation. </span><span class="koboSpan" id="kobo.1042.2">This </span><a id="_idIndexMarker1107"/><span class="koboSpan" id="kobo.1043.1">can involve using techniques like </span><strong class="keyWord"><span class="koboSpan" id="kobo.1044.1">Spoofing, Tampering, Repudiation, Information Disclosure, Denial of Service, and Elevation of Privilege</span></strong><span class="koboSpan" id="kobo.1045.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.1046.1">STRIDE</span></strong><span class="koboSpan" id="kobo.1047.1">) and attack trees. </span><span class="koboSpan" id="kobo.1047.2">For our e-commerce site, threats could include SQL injection (to access the database), phishing attacks (to steal user credentials), or DoS attacks (to bring the site down). </span><span class="koboSpan" id="kobo.1047.3">The team realizes that allowing users to save addresses might expose those addresses if there’s a data breach. </span><span class="koboSpan" id="kobo.1047.4">They list this threat alongside others.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1048.1">Threat analysis</span></strong><span class="koboSpan" id="kobo.1049.1">: Evaluate the potential impact and likelihood of each identified threat. </span><span class="koboSpan" id="kobo.1049.2">This can help you to prioritize threats. </span><span class="koboSpan" id="kobo.1049.3">While SQLi could expose a lot of sensitive user data, a phishing attack might target fewer users but is more likely to occur. </span><span class="koboSpan" id="kobo.1049.4">The development team assesses that a data breach exposing saved addresses could lead to a loss of user trust and potential misuse. </span><span class="koboSpan" id="kobo.1049.5">They give this threat a high severity rating.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1050.1">Mitigation strategy</span></strong><span class="koboSpan" id="kobo.1051.1">: For each identified threat, determine the best course of action to reduce its risk. </span><span class="koboSpan" id="kobo.1051.2">This can involve adding security controls, changing system architecture, or even accepting the risk if its potential impact is acceptable. </span><span class="koboSpan" id="kobo.1051.3">To prevent SQL injection, the team could use parameterized queries. </span><span class="koboSpan" id="kobo.1051.4">To combat phishing, they might introduce two-factor authentication. </span><span class="koboSpan" id="kobo.1051.5">To safeguard user addresses, the team decides to encrypt them in the database. </span><span class="koboSpan" id="kobo.1051.6">They also add alerts for any suspicious activity linked to address changes.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1052.1">Documentation</span></strong><span class="koboSpan" id="kobo.1053.1">: Document the findings, including potential threats, their severity, and the chosen mitigation strategies. </span><span class="koboSpan" id="kobo.1053.2">A document is created detailing that user addresses are encrypted and the encryption method used. </span><span class="koboSpan" id="kobo.1053.3">Six months later, there’s a requirement to shift to a different database. </span><span class="koboSpan" id="kobo.1053.4">The documentation helps the new database team understand the security measures in place.</span></li>
<li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1054.1">Review and update</span></strong><span class="koboSpan" id="kobo.1055.1">: Threat modeling is not a one-time task. </span><span class="koboSpan" id="kobo.1055.2">As systems evolve, new threats may emerge, while others may become less relevant. </span><span class="koboSpan" id="kobo.1055.3">Regularly reviewing and updating the threat model ensures that it remains relevant. </span><span class="koboSpan" id="kobo.1055.4">The e-commerce site decided to introduce a new chatbot feature. </span><span class="koboSpan" id="kobo.1055.5">Before </span><a id="_idIndexMarker1108"/><span class="koboSpan" id="kobo.1056.1">deploying the chatbot, the team refers to their threat model to see if introducing this new feature brings any new vulnerabilities or if existing threats have evolved.</span></li>
</ul>
<p class="normal"><span class="koboSpan" id="kobo.1057.1">In essence, threat modeling helps teams be proactive in their security efforts, addressing potential vulnerabilities before they become issues.</span></p>
<h1 class="heading-1" id="_idParaDest-257"><span class="koboSpan" id="kobo.1058.1">Summary</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1059.1">In this chapter, you learned about various design principles to apply security best practices for your solution design. </span><span class="koboSpan" id="kobo.1059.2">These principles include key considerations to protect your application by using appropriate access control, data protection, and monitoring.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1060.1">You need to apply security at every layer. </span><span class="koboSpan" id="kobo.1060.2">Starting with user authentication and authorization, you learned about applying security at the web layer, application layer, infrastructure layer, and database layer. </span><span class="koboSpan" id="kobo.1060.3">Each layer is vulnerable to different attacks, and you learned various methods to protect your application with the available technology choices.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1061.1">For user management, you learned how to use FIM and SSO to handle corporate users and various methods of implementing user authentication and authorization. </span><span class="koboSpan" id="kobo.1061.2">These include enterprise management services like Microsoft AD and AWS Directory Service. </span><span class="koboSpan" id="kobo.1061.3">You can also handle millions of users using OAuth 2.0.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1062.1">At the web layer, you learned about various attack types, such as </span><strong class="keyWord"><span class="koboSpan" id="kobo.1063.1">DDoS</span></strong><span class="koboSpan" id="kobo.1064.1">, </span><strong class="keyWord"><span class="koboSpan" id="kobo.1065.1">SQLi</span></strong><span class="koboSpan" id="kobo.1066.1">, and </span><strong class="keyWord"><span class="koboSpan" id="kobo.1067.1">XSS</span></strong><span class="koboSpan" id="kobo.1068.1">. </span><span class="koboSpan" id="kobo.1068.2">You learned how to protect against those attacks using different prevention techniques and network firewalls. </span><span class="koboSpan" id="kobo.1068.3">You learned various techniques to protect code at the application layer and ensure the security of your infrastructure. </span><span class="koboSpan" id="kobo.1068.4">You dove deep into different network components and methods to build trusted boundaries to limit the attack radius.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1069.1">You learned about data protection by putting proper data classification in place and tagging your data as confidential, private, or public. </span><span class="koboSpan" id="kobo.1069.2">You learned about symmetric and asymmetric algorithms and how they differ. </span><span class="koboSpan" id="kobo.1069.3">You looked at using key management to protect the public/private encryption key. </span><span class="koboSpan" id="kobo.1069.4">Data can be in motion or sitting in storage, you learned about how to protect data in both modes. </span><span class="koboSpan" id="kobo.1069.5">You explored API security and best practices to ensure all APIs exposing your applications are secure. </span><span class="koboSpan" id="kobo.1069.6">You discovered various compliance and shared security responsibility models that are applicable to a cloud workload. </span><span class="koboSpan" id="kobo.1069.7">In the end, you learned about building threat models.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1070.1">While this chapter was about applying security best practices, reliability is another essential aspect of any solution design. </span><span class="koboSpan" id="kobo.1070.2">To make your business successful, you need to create a reliable solution that is always available and can handle workload fluctuation. </span><span class="koboSpan" id="kobo.1070.3">In the next chapter, you will learn the best practices to make your application reliable with the available technologies. </span><span class="koboSpan" id="kobo.1070.4">You will learn about various disaster recovery and data replication strategies to make your application more reliable.</span></p>
<h1 class="heading-1" id="_idParaDest-258"><span class="koboSpan" id="kobo.1071.1">Leave a review!</span></h1>
<p class="normal"><span class="koboSpan" id="kobo.1072.1">Enjoying this book? </span><span class="koboSpan" id="kobo.1072.2">Help readers like you by leaving an Amazon review. </span><span class="koboSpan" id="kobo.1072.3">Scan the QR code below to get a free eBook of your choice.</span></p>
<p class="normal"><span class="koboSpan" id="kobo.1073.1"><img alt="" role="presentation" src="../Images/Image.png"/></span></p>
</div>
</body></html>