<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Identifying and Detecting Sensitive Data</h1>
                </header>
            
            <article>
                
<p class="mce-root">Identifying and detecting sensitive data is a very important process inside an information-protection solution. You need to be able to identify sensitive information within your environment using suitable matching criteria to provide the related results for appropriate classification and protection controls. This is quite important to give the right access to the right person and to improve your security standards. Microsoft has invested in this field and provides different solutions that work natively together. The solutions provide capabilities for data in motion, in transit, and at rest. In this chapter, we'll give a practical overview of the needed information that can be used for your organization or customers:</p>
<ul>
<li>Extending your lab environment</li>
<li>Understanding and using AIP capabilities for data in motion</li>
<li>Understanding and using AIP capabilities for data at rest</li>
</ul>
<p>In the first part of the chapter, we will extend your lab environment.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Extending your lab environment</h1>
                </header>
            
            <article>
                
<p>First, we need to extend your lab environment to test the different features and give you the chance to extend the scenarios as you work through the different chapters in this book.</p>
<p>We will add two Windows 10 test clients and the <strong>YD1INF01</strong> server. Use the following diagram to get the correct sizing, and the virtual machine configuration and domain membership for the virtual machines:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f52502be-d472-4869-8814-fd0d262128b3.png" width="1086" height="772"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Lab environment overview</div>
<p>The Windows 10 clients need to be joined to <strong>YOURDOMAIN1.COM</strong> and you need to copy the example data files from the code package to any directory on the two clients:</p>
<ol>
<li>Add the <strong>Domain Users</strong> in the local <strong>Administrator</strong> group to provide easy access to the virtual machines:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/7a38b462-53fb-4330-86bf-27dfffb7ef09.png" width="390" height="191"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">User access to VM</div>
<ol start="2">
<li>To use single-sign-on, add <kbd>*.yourdomain1.com</kbd> to your <span class="packt_screen">Local intranet</span> zone in your Internet Explorer configuration:</li>
</ol>
<div class="CDPAlignCenter packt_figref CDPAlign"><img src="Images/256d07bf-1056-43a1-bb91-fdc9c14d103f.png" width="371" height="211"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">IE Local Intranet zone configuration</div>
<p class="mce-root"/>
<p class="mce-root"/>
<ol start="3">
<li>Install <strong>Office Suite</strong> and the <strong>Azure Information Protection</strong> client on both virtual machines.</li>
<li>Open <a href="https://portal.office.com">https://portal.office.com</a> with your <strong>Office 365 licensed admin user</strong>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1c9bcdae-f297-48b3-a91c-8c5fc32d6e1d.png" style="width:26.50em;height:16.67em;" width="356" height="224"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Installing the 64-bit version of Office</div>
<ol start="5">
<li>Install the 64-bit Version of Office on the client.</li>
<li>Download and install the Azure Information Protection client on the client. You will find the installer under <a href="https://aka.ms/aipclient">https://aka.ms/aipclient.</a></li>
<li>Choose the <kbd>AzInfoProtection_PREVIEW_1.45.32.0.exe</kbd> binary and install it without a demo policy.</li>
</ol>
<p>Additionally, we will install a SharePoint single farm on the <strong>YD1INF01</strong> server for testing the discovery capabilities on-premises:</p>
<ol>
<li>Visit <a href="https://bit.ly/2QFfBZ0">https://bit.ly/2QFfBZ0</a> to install <span class="packt_screen">SharePoint</span>.</li>
<li>The expected result is that we have a demo <span class="packt_screen">SharePoint</span> infrastructure with a simple <span class="packt_screen">Documents</span> library:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/079388bc-3588-4c82-8516-cb4ca0064611.png" width="663" height="436"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">SharePoint library for test files</div>
<p>We configure an example file structure on the <strong>YD1INF01</strong> server to discover sensitive data on traditional file server solutions:</p>
<pre>New-Item -ItemType directory -Path 'C:\Shares\Marketing'<br/>New-Item -ItemType directory -Path 'C:\Shares\Finance'<br/>New-Item -ItemType directory -Path 'C:\Shares\Production'<br/>New-Item -ItemType directory -Path 'C:\Shares\Sales'<br/>New-Item -ItemType directory -Path 'C:\Shares\Executives'<br/>New-Item -ItemType directory -Path 'C:\Shares\HumanResources'<br/>New-Item -ItemType directory -Path 'C:\Shares\ResearchDevelopment'<br/>New-SmbShare -Name Marketing -Path 'C:\Shares\Marketing' -FullAccess Everyone<br/>New-SmbShare -Name Production -Path 'C:\Shares\Production' -FullAccess Everyone<br/>New-SmbShare -Name Sales -Path 'C:\Shares\Sales' -FullAccess Everyone<br/>New-SmbShare -Name HumanResources -Path 'C:\Shares\HumanResources' -FullAccess Everyone<br/>New-SmbShare -Name ResearchDevelopment -Path 'C:\Shares\ResearchDevelopment' -FullAccess Everyone<br/>New-SmbShare -Name Finance -Path 'C:\Shares\Finance' -FullAccess Everyone<br/>New-SmbShare -Name Executives -Path 'C:\Shares\Executives' -FullAccess Everyone</pre>
<p>We'll copy data during the relevant configuration steps in the <em>Understanding and using AIP capabilities for data in motion</em> section. After completing the extension of your lab environment, let's identify and detect data in motion.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding and using AIP capabilities for data in motion</h1>
                </header>
            
            <article>
                
<p>The meaning of data in motion or transit is that information is actively moving from one location to another inside your environment or outside through the internet. Typically, the process starts with the creation of a document, presentation, or spreadsheet, or the export of information from a source, such as the HR, CRM, or another system. The best option is to include the classification and protection process directly in these processes. Otherwise, you need to be able to detect and identify sensitive data from scratch on client computers and servers. Another important thing is that you know where your sensitive, protected, or not-protected information is exchanged and stored. Let's say you need a solution that's able to monitor the sensitive data on client computers, on-premises, and in the cloud. Microsoft follows this strategy and provides the following technologies to fulfill these requirements to actively monitor sensitive data in motion:</p>
<ul>
<li><strong>Azure Information Protection</strong>: Classification and protection monitoring including document tracking.</li>
<li><strong>Windows Defender ATP</strong>: Monitoring classification and protection activities on client computers.</li>
<li><strong>Cloud App Security</strong>: Active monitoring of your enabled cloud ecosystem, including data-leakage prevention, classification, and protection capabilities.</li>
<li><strong>Office 365</strong>: Monitoring, <span>data-leakage prevention, classification, and protection capabilities inside the Office 365 services.</span></li>
</ul>
<p>Let's dive a bit deeper into the different functionalities of these technologies.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Scenario 1 – Usage of Azure Information Protection</h1>
                </header>
            
            <article>
                
<p>The Azure Information Protection client offers you the capability to classify and protect information in several formats. In our example, we'll use a manual classification that also applies protection to the document. We use the <kbd>Q3_Product_Strategy.docx</kbd> document from the code package for this example:</p>
<ol>
<li>Log on to one of the test clients with <kbd>don.hall@yourdomain1.com</kbd>. Don Hall is a Strategy Consultant.</li>
<li>Open the <kbd>Q3_Product_Strategy.docx</kbd> document.</li>
<li>Because of the sensitive content, Don classifies the document as <span class="packt_screen">Confidential</span> | <span class="packt_screen">All Employees</span> to classify and protect the information against people outside his organization, which is shown in the following image:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/6ccf371d-1bda-4cf8-8240-da75d2ce7e81.png" width="722" height="180"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">All Employees AIP label</div>
<ol start="4">
<li>Save the file and send it to any of your personal email addresses and to <kbd>dan.jump@yourdomain1.com</kbd>, the CEO of our demo (be sure that he has a Microsoft 365 E5 license assigned):</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/58562606-9eda-483b-9df4-4dd05339d8b3.png" style="width:23.92em;height:21.33em;" width="336" height="299"/></p>
<div class="mce-root packt_figref CDPAlignCenter CDPAlign">Test mail including external contact</div>
<ol start="5">
<li>Try to open the email attachment on your private account—you won't get access!</li>
<li>Log on to the second Windows 10 client with the <kbd>dan.jump@yourdomain1.com</kbd> user.</li>
<li>Open Outlook, open the attachment, and click <span class="packt_screen">View Permission...</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/95f67120-ea78-4d2f-b8c2-565bc6ebcc6f.png" width="1224" height="386"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Protected document with associated rights</div>
<p>Now that we've worked on a document, and classified and protected it, including exchanging the information with an internal employee and an external account, we can view the monitoring capabilities of Azure Information Protection by following the steps <span>listed here</span>:</p>
<ol start="1">
<li>Go back to the Don Hall client and open the protected document, <kbd>Q3_Product_Strategy.docx</kbd>, again.</li>
<li>Click the Azure Information Protection <span class="packt_screen">Protect</span> button and choose <span class="packt_screen">Track and Revoke</span> as shown in the image here:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/5bd1453b-4240-4f2f-9449-a14974139309.png" style="width:33.67em;height:22.83em;" width="425" height="288"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">RMS Track and Revoke feature</div>
<ol start="3">
<li>You will be redirected to the Azure RMS tracking website: <a href="https://track.azurerms.com/">https://track.azurerms.com/</a>.</li>
<li>Log in with <kbd>don.hall@yourdomain1.com</kbd>.</li>
</ol>
<ol start="5">
<li>You'll get all the information about your protected document as shown in the following screenshot:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/c3e260c3-2707-4924-9112-d46b9d3412ca.png" width="982" height="833"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Tracking report on the protected document</div>
<ol start="6">
<li>View all the capabilities you have as a user under <span class="packt_screen">Summary</span> | <span class="packt_screen">List</span> | <span class="packt_screen">Timelin</span><span class="packt_screen">e</span> | <span class="packt_screen">Map and Settings</span>.</li>
</ol>
<p class="mce-root"/>
<p>Next, we'll look into the administrative portal blade of <span class="packt_screen">Azure Information Protection</span>:</p>
<ol>
<li>Under the <span class="packt_screen">Activity Logs</span> section, you'll be able to view all the activities on <kbd><span>Q3_Product_Strategy.docx</span></kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/c8578219-2979-48ba-a7d5-fba55d99a2bd.png" width="1471" height="575"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Activity logs of AIP operations</div>
<p>As we've already configured <strong>Azure Log Analytics</strong> in <a href="da02140a-858e-4ab1-9e31-a9a59df8d7f8.xhtml" target="_blank">Chapter 5</a>, <em>Configuring and Managing Identity Protection,</em> we can use the same <span class="packt_screen">Log Analytics</span> workspace for our Azure Information Protection data under the <span class="packt_screen">Configure analytics (Preview) </span>section. Ensure that the <span class="packt_screen">Enable the document content matches feature...</span> checkbox is enabled:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3521166f-31c5-4c9b-8274-5ed506f0abc2.png" width="888" height="243"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Log analytics store</div>
<ol start="2">
<li>Under <span class="packt_screen">Activity logs (Preview)</span>, you will find the <span class="packt_screen">Log Analytics</span> button—click it!</li>
</ol>
<ol start="3">
<li>We'll be shown more detailed information about our classification and protection task with <kbd>don.hall@yourdomain1.com</kbd>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/71df5b3c-5a9d-4ede-9252-ad3997411493.png" width="982" height="824"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Detailed log in Azure Log Analytics</div>
<ol start="4">
<li>You also can drill down directly over the <span class="packt_screen">Usage report (preview)</span> section, which is demonstrated in the following image:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/629a1cac-91d0-4e02-be90-0aaad95170cb.png" style="width:37.42em;height:20.33em;" width="604" height="328"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Labels usage overview</div>
<ol start="5">
<li>Click the <span class="packt_screen">Log Analytics</span> icon to view the generated query and the result:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/05107f34-7b30-4ea4-a3c3-425e76e95591.png" width="1286" height="517"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Specific log results of the document</div>
<div class="packt_tip">To identify and classify more information, we'll use several methods such as keywords, or prepared sets of sensitive information, in <a href="1bedc98d-8713-410f-b51b-04c8e97de9bf.xhtml">Chapter 15</a>, <em>Configuring Azure Informatio</em><em>n Protection Solutions</em>. You can come back to the monitoring part and see the results.</div>
<p class="mce-root"/>
<p>Now that we've seen the standard capabilities of Azure Information Protection for users and administrators to discover sensitive information, we can view the Windows Defender ATP features.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Scenario 2 – Monitoring with Windows Defender ATP</h1>
                </header>
            
            <article>
                
<p>Windows Defender Advanced Threat Protection is basically designed to prevent, detect, investigate, and respond to advanced threats. We can also use it to detect and identify sensitive information, especially on client systems.</p>
<p>To work with this feature, we need to configure it and onboard the two test clients:</p>
<ol>
<li>Visit <a href="https://securitycenter.windows.com/">https://securitycenter.windows.com/</a> and log in as <strong>global administrator</strong> to start the configuration as shown in the image here:
<ul>
<li>Click<span> </span><span class="packt_screen">Next</span>:</li>
</ul>
</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/58feeda3-e407-4a12-9a24-e896e1dd89e7.png" width="1611" height="814"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Windows Security Center p<span>ortal</span></div>
<ul>
<li style="list-style-type: none">
<ul>
<li>Choose your <span class="packt_screen">storage location</span> based on your needs:</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/519b4692-6d0a-426d-86b8-5f8117be4a6d.png" width="1392" height="817"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Data storage configuration</div>
<ul>
<li style="list-style-type: none">
<ul>
<li>Select the data retention policy.</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/34bdfdaf-e431-4021-a77a-533cea3399da.png" style="width:57.50em;height:16.25em;" width="1084" height="306"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Retention time configuration</div>
<ol start="2">
<li>Select your organization size, the industry, and the preview experience.</li>
<li>Onboard the two test clients:
<ul>
<li>Download the package and install it.</li>
<li>Run the detection test script on both clients:</li>
</ul>
</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/22ada1a2-702c-497f-8ce3-d0dac842c8e1.png" style="width:55.67em;height:53.08em;" width="836" height="796"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Onboarding the test script</div>
<ol start="4">
<li>Activate the Advanced features, including Azure Information Protection and Microsoft Cloud App Security, under <span class="packt_screen">Settings</span> | <span class="packt_screen">General</span> | <span class="packt_screen">Advanced Features</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/26e1d9e7-b17a-421b-82ba-8a2a3db2e271.png" width="1240" height="485"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Connected services configuration</div>
<ol start="5">
<li>The two demo clients will appear under the machine list:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/11ffe5dd-8311-43a1-8fc5-2b079a18d44b.png" style="width:35.83em;height:10.75em;" width="517" height="155"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Machine list</div>
<p>After the successful activation and onboarding <span>of the two client machines </span>to <strong>Windows Defender ATP</strong>, we're ready to test the features for our sensitive data discovery:</p>
<ol>
<li>Log on to one of the test clients with<span> </span><kbd>dan.jump@yourdomain1.com</kbd>. Dan Jump is the CEO.</li>
<li>Open the <kbd>Employee Details.xlsx</kbd> spreadsheet.</li>
<li>Classify the document as <span class="packt_screen">Highly Confidentia</span>l | <span class="packt_screen">All Employees</span>.</li>
</ol>
<p class="mce-root"/>
<div class="packt_infobox">In <a href="1bedc98d-8713-410f-b51b-04c8e97de9bf.xhtml">Chapter 15</a>, <em>Configuring Azure Information Protection Solutions,</em> we'll provide the related classification and labels for the specific use cases. For now, it's just important to generate, modify, and use sensitive data.</div>
<ol start="4">
<li>Wait a few minutes to receive the results in the Data Discovery (Preview) section of Azure Information Protection:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/610285f4-1a42-4778-8852-c7e075d124fa.png" style="width:64.17em;height:32.00em;" width="1172" height="584"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Label report from the clients</div>
<ol start="5">
<li>Click on the client <span class="packt_screen">Endpoint</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/4425b86f-641f-40a1-80ef-c2fc407b2348.png" style="width:76.58em;height:10.58em;" width="1517" height="209"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Client endpoint information</div>
<p class="mce-root"/>
<p>Awesome! This integration between the different services will let you discover sensitive data-handling in your environment. With Windows Defender ATP, Azure ATP, and Azure Information Protection, you can associate the three most important elements:</p>
<ul>
<li>The identity, including the authentication information</li>
<li>The data-handling associated to the identity itself</li>
<li>The attacks against computers, servers your identity provider and at the end to your sensitive information</li>
</ul>
<p>In the next section, we'll dive into the Cloud App Security feature set to identify sensitive data in your cloud ecosystem.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Scenario 3 – Identifying sensitive information in your cloud ecosystem</h1>
                </header>
            
            <article>
                
<p>Microsoft Cloud App Security is a <strong>Cloud Access Security Broker</strong> (<strong>CASB</strong>) that gives you the needed insights into your cloud app and services ecosystem. With this service, you're able to control how your data travels, and you can identify and work against cyber threats. In this section, we'll take a closer look at the discovery of sensitive information inside our demo environment.</p>
<p>First, we need to enable Cloud App Security and connect our cloud apps to monitor our cloud ecosystem. We also need to configure the Azure Information Protection integration to combine the services.</p>
<p>Visit <a href="https://portal.cloudappsecurity.com">https://portal.cloudappsecurity.com</a> and log in with the global administrator credentials.</p>
<p>If you're working through all the labs in this book, your <span class="packt_screen">General dashboard</span> will look like the following:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/aaf7f0d2-e6f0-4798-bb68-c650e882d79c.png" style="width:36.50em;height:39.33em;" width="753" height="812"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Cloud app security dashboard</div>
<p>With the following steps, we start the configuration:</p>
<ol>
<li>Connect the apps we configured in the previous chapters to the Cloud App Security framework:
<ul>
<li>Office 365</li>
<li>Salesforce</li>
<li>Dropbox</li>
<li>Microsoft Azure</li>
</ul>
</li>
</ol>
<ol start="2">
<li>This can be done through the getting started wizard—click <span class="packt_screen">Connect apps</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a70795b6-1591-4b63-897b-28fddc78ab3d.png" width="974" height="51"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Connecting additional apps to cloud app security</div>
<ol start="3">
<li>Connect these apps with the <span class="packt_screen">+</span> dropdown.</li>
<li>Provide the <strong>related administrative credentials</strong> to connect the apps:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1f6d83a7-174a-46d6-9944-7c29726b19d3.png" style="width:15.17em;height:18.58em;" width="263" height="321"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Cloud app connectors</div>
<p class="mce-root"/>
<p class="mce-root"/>
<p>To give you an example, we'll demonstrate the process with <span class="packt_screen">Salesforce</span>:</p>
<ol>
<li>Provide your <span class="packt_screen">Salesforce</span> instance name:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/2238c931-7f81-4f1d-a8ac-439fcdede8ff.png" style="width:38.42em;height:23.58em;" width="736" height="451"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Connecting Salesforce</div>
<ol start="2">
<li>Follow the link to connect the app and allow the required permissions:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/85637b72-5736-4a7a-8b2c-fe8fff22889c.png" style="width:28.58em;height:19.00em;" width="516" height="342"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Permission assignment</div>
<ol start="3">
<li>Provide your administrative credentials:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/d81730fb-1b2b-41c9-8157-b91c36e5282b.png" style="width:31.17em;height:40.33em;" width="456" height="589"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Providing admin credentials</div>
<ol start="4">
<li>You will be requested to consent—click <span class="packt_screen">Allow</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3ac112d7-cf6f-4b44-8dd7-15bd10e2647a.png" style="width:29.83em;height:46.92em;" width="440" height="691"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Checking and accepting OAuth consent</div>
<ol start="5">
<li>Cloud App Security will start scanning the users, data, and activities:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/960e730a-05c9-4fcc-bb36-be14a5630110.png" style="width:30.50em;height:17.00em;" width="554" height="308"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Cloud app security starting the discovery process</div>
<ol start="6">
<li>You will receive a <span class="packt_screen">Connected</span> status:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3597047f-32e0-4515-8bd0-5a55314d17bc.png" style="width:31.00em;height:19.42em;" width="505" height="316"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Salesforce connection status</div>
<div class="packt_infobox">Use the wizards for every application that's connected to Cloud App Security.</div>
<ol start="7">
<li>Activate the Azure Information Protection integration in the <span class="packt_screen">Settings</span> section:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/ef072155-bdc4-451f-8a42-92886e865e1f.png" style="width:17.75em;height:16.17em;" width="292" height="265"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Configuring AIP integration</div>
<ol start="8">
<li>Navigate to <span class="packt_screen">Information Protection</span> | <span class="packt_screen">Azure Information Protection</span> and set active the following two settings:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/7e3f2047-504c-4154-af83-9d53834ab220.png" style="width:34.17em;height:24.83em;" width="665" height="484"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">AIP settings in Cloud App Security</div>
<ol start="9">
<li>Grant permission to Cloud App Security to inspect protected files:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a69d5c53-7998-4c4a-b5e9-28e677224379.png" style="width:24.58em;height:29.92em;" width="516" height="628"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">OAuth consent to assign permissions</div>
<ol start="10">
<li>Click <span class="packt_screen">Accept</span>.</li>
</ol>
<p>Now, that we have connected our apps to Cloud App Security and configured the Azure Information protection, we can start, to work through our next tasks. With the following steps we start the configuration:</p>
<ol>
<li>Log in to one of the test clients with<span> </span><kbd>ye.xu@yourdomain1.com</kbd>. Ye Xu works in Sales.</li>
<li>Log in to your Access Panel UI: <a href="https://myapps.microsoft.com">https://myapps.microsoft.com.</a></li>
<li>Click <span class="packt_screen">Salesforce</span>.</li>
</ol>
<ol start="4">
<li>Post the following files from the code package:
<ul>
<li>Q3 Sales and Marketing Expense Report Audit</li>
<li>Employee Details</li>
<li>de-drv</li>
<li>Superstore Sales</li>
<li>Customer Accounts:</li>
</ul>
</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/56c63f6f-4336-4f49-84c1-a2885915f908.png" width="776" height="579"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Salesforce user view and data usage behavior</div>
<ol start="5">
<li>Jump back to the Cloud App Security portal (<a href="https://portal.cloudappsecurity.com">https://portal.cloudappsecurity.com</a>) as a global administrator.</li>
</ol>
<ol start="6">
<li>Navigate to <span class="packt_screen">Investigate</span> | <span class="packt_screen">Files</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/5009b70b-e62b-4d8d-90c5-b84f2ef1b95c.png" style="width:15.50em;height:25.25em;" width="282" height="459"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Cloud App Security file usage overview</div>
<ol start="7">
<li>Change the APP to <span class="packt_screen">Salesforce</span>—your posted files are now viewable:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/56bd383b-5782-49e7-80bc-a07059843b44.png" width="1309" height="564"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Data usage report of Salesforce</div>
<p>Some sensitive data was transferred unprotected to <span class="packt_screen">Salesforce</span>, and from this point, we can define rules that this information is blocked if someone uploads it to such an application. If we change the filter to Microsoft OneDrive for Business and you upload the documents to these locations, <strong>Cloud App Security</strong> is already able to set the correct classification label <span>manually or automatically</span> on the information:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a22bdaf2-9aae-4487-b9a0-f32a060b20e2.png" style="width:20.00em;height:20.50em;" width="281" height="289"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Applying classification labels with Cloud App Security</div>
<p>Now that we've seen a few powerful features of Cloud App Security, let's check out the last scenario: using Office 365 for data-leakage prevention.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Scenario 4 – Data leakage prevention in Office 365</h1>
                </header>
            
            <article>
                
<p>In this section, we'll use an Exchange Online Mail flow rule to detect sensitive information. We'll encrypt the mail to protect the content automatically. This is a typical use case.</p>
<p>We create the Exchange Online Mail flow rules:</p>
<ul>
<li><strong>Rule 1</strong>: Encrypts any email that contains a credit card number if the mail leaves the organization:</li>
</ul>
<pre style="padding-left: 90px"># Open an evaluated PowerShell<br/># Provide your global administrator credentials<br/>$Creds = Get-Credential<br/>$Session = New-PSSession -ConfigurationName Microsoft.Exchange -ConnectionUri https://outlook.office365.com/powershell-liveid/ -Credential $Creds -Authentication Basic -AllowRedirection<br/>Import-PSSession $Session<br/>New-TransportRule -Name "Protect external mails (Contains Credit Card)" -SentToScope NotInOrganization -ApplyRightsProtectionTemplate "Encrypt" -MessageContainsDataClassifications @(@{Name="Credit Card Number"; minCount="1"})</pre>
<ul>
<li><strong>Rule 2</strong>: Prevents emails from being sent externally if they're classified as <kbd>Confidential / All Employees</kbd>:</li>
</ul>
<pre style="padding-left: 90px"># Label ID of Confidential / All Employees gathered on the Azure Information Protection blade<br/>$labelid = "6eae6a7b-f321-4fc4-8049-1ef7cc9575b2"<br/>$label = "MSIP_Label_"+$labelid+"_enabled=true"<br/>New-TransportRule -name "Protect External User Access" -SentToScope notinorganization -HeaderContainsMessageHeader "msip_labels" -HeaderContainsWord $label -RejectMessageReasonText "Internal Protected Message"</pre>
<ol>
<li>Log on to one of the test clients with<span> </span><kbd>ye.xu@yourdomain1.com</kbd>. Ye Xu works in<span> </span>Sales.</li>
<li>Send a mail with the following content to <kbd>Karim.Manar@yourdomain1.com</kbd> and your private email address. Karim is a Controller.</li>
</ol>
<div style="padding-left: 60px" class="packt_quote">Hi Karim<br/>
My AMEX card number is 344047014854133. The expiration date is 09/28, and the CVV is 4368<br/>
Best regards<br/>
Ye</div>
<p class="mce-root"/>
<ol start="3">
<li>Log in as <kbd>Karim.Manar@yourdomain1.com</kbd> on the second client and view the email.</li>
<li>Log in to your private account.</li>
<li>Click <span class="packt_screen">Read the message</span> and you can read the message:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="Images/6754671e-5f5f-4393-a5ad-c444f549cb41.png" style="width:37.25em;height:29.75em;" width="637" height="508"/></div>
<div class="packt_figref CDPAlignCenter CDPAlign">OMEv2 user experience</div>
<ol start="6">
<li>Log in to one of the test clients with <kbd>Dan.Jump@yourdomain1.com</kbd>. Dan is the CEO.</li>
<li>Classify an email with the following content as <span class="packt_screen">Confidential</span> | <span class="packt_screen">All Employees</span>, then send it to your private email account and to Ye Xu:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a04138ca-fffa-42c9-a365-c6ef8c7fc5c6.png" style="width:39.42em;height:13.92em;" width="649" height="229"/></p>
<ol start="8">
<li>You should receive a message similar to this:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/72f78c2c-d411-4826-aa37-92c5c93a7b16.png" style="width:38.33em;height:27.58em;" width="601" height="433"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Office 365 DLP message</div>
<p>With this scenario, we saw a few capabilities of the Office 365 service, which helps us to discover and identify sensitive content. In the next section, we'll explore the functionalities of the Azure Information features for data at rest.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding and using AIP capabilities for data at rest</h1>
                </header>
            
            <article>
                
<p>The identification and detection of sensitive information that isn't actively moved is a very important component inside an information-protection solution. For this reason, Microsoft provides the Azure Information Protection scanner, which allows you to scan two typical file locations, File Shares and SharePoint Document libraries, as you can see in the following diagram:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a9bac3f5-d0b5-47d1-ac0d-b1146092192f.png" style="width:41.17em;height:32.00em;" width="782" height="608"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Azure Information Protection scanner architecture and components</div>
<p>To explore the functionality of the <strong>AIP Scanner</strong>, we need to distribute some of our example documents to the following file locations:</p>
<ol>
<li>Move the example contents from the code package to the <strong>YD1INF01</strong><span> server where we created the following test shares:</span></li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/c67cfb98-5a59-4bf8-bd9c-a2c81c9cc070.png" style="width:37.67em;height:15.00em;" width="541" height="216"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Example file structure</div>
<ol start="2">
<li>Upload some of the test files to your document library on SharePoint:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/aa3a718c-d9e5-4b53-8587-7fed3ebe03b4.png" style="width:44.67em;height:21.83em;" width="756" height="369"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Sample data on SharePoint</div>
<p class="mce-root"/>
<p>We need to install and configure the <strong>AIP Scanner</strong> on our <strong>YD1APP01</strong> server where, in <a href="468509fa-856c-411d-abdb-e9a39c266750.xhtml">Chapter 7</a>, <em>Deploying Solutions on Azure AD and ADFS</em>, we installed the SQL server:</p>
<ol>
<li>Use the following command to create the service account with which the AIP Scanner service runs and scans:</li>
</ol>
<pre style="padding-left: 90px"><strong>New-ADUser -Name "svcaipscanner" -SamAccountName svcaipscanner -UserPrincipalName svcaipscanner@inovitdemos.ch -path "OU=Users,OU=AIP,OU=Managed Service Objects,DC=inovitdemos,DC=ch" -AccountPassword (ConvertTo-SecureString "YourPassword" -AsPlainText -Force) -Enabled $True</strong></pre>
<p style="padding-left: 60px">If you want to work with a cloud-only account, use the following command:</p>
<pre style="padding-left: 90px"><strong>Connect-AzureAD</strong><br/><strong>$PasswordProfile = New-Object -TypeName Microsoft.Open.AzureAD.Model.PasswordProfile $PasswordProfile.ForceChangePasswordNextLogin = $false $Password = Read-Host -assecurestring "Please enter password for cloud service account" $Password = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto([System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($Password)) $PasswordProfile.Password = $Password</strong><br/><strong>$Tenant = Read-Host "Please enter tenant name for UserPrincipalName (e.g. inovitdemos.ch)" New-AzureADUser -AccountEnabled $True -DisplayName "AIP Scanner Cloud Service" -PasswordProfile $PasswordProfile -MailNickName "AIPScannerCloud" -UserPrincipalName "AIPScannerCloud@$Tenant"</strong></pre>
<ol start="2">
<li>Synchronize the service account to your Azure AD:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/d177f328-0468-490c-bb89-55a2c097609d.png" style="width:40.92em;height:12.00em;" width="578" height="170"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Synchronized AIP Scanner service account in Azure AD</div>
<ol start="3">
<li>The service account needs the following rights on different services:
<ul>
<li>Log on locally (need to be assigned) and Log on as service right (accomplished by the installation):</li>
</ul>
</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3e8b23a1-2a73-4da8-892d-e25ed716fd37.png" style="width:29.42em;height:16.67em;" width="411" height="233"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Log on locally permission assignment</div>
<ul>
<li style="list-style-type: none">
<ul>
<li>Read (Discovery) or Contribute rights on the document library for classification/protection:</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/c3e5949d-9c36-44da-9e26-b6abee51501a.png" style="width:21.25em;height:22.92em;" width="333" height="358"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">SharePoint access rights for the AIP Scanner service account</div>
<p class="mce-root"/>
<p class="mce-root"/>
<p style="padding-left: 60px">The following list shows the needed permissions:</p>
<ul>
<li style="list-style-type: none">
<ul>
<li>Read permissions to each file share repository for discovery, and Read/Write permissions for classification/protection</li>
<li>Local administrator of the server and permissions to write to the SQL Server master database, <strong>SQL specific permissions</strong> <span>if you can't grant the Sysadmin rights for the installation</span></li>
<li>AzInfoProtectionScanner database needs to be created manually</li>
</ul>
</li>
</ul>
<p style="padding-left: 60px">The following accounts need to be <kbd>db_owner</kbd>:</p>
<ul>
<li style="list-style-type: none">
<ul>
<li>Service account for the scanner</li>
<li>User account for scanner installation</li>
<li>User account for scanner configuration</li>
<li>For labels that re-protect or remove protection, the account needs to be part of the super users group</li>
</ul>
</li>
</ul>
<ol start="4">
<li>Install the <strong>Azure RMS PowerShell</strong> module with the following command:</li>
</ol>
<pre style="padding-left: 60px"><strong>Install-Module AADRM</strong></pre>
<ol start="5">
<li>Connect to Azure RMS with the following cmdlet and global administrator credentials:</li>
</ol>
<pre style="padding-left: 60px"><strong>Connect-AadrmService</strong></pre>
<ol start="6">
<li>Enable the <strong>Azure RMS Super User</strong> feature, which is disabled by default:</li>
</ol>
<pre style="padding-left: 60px"><strong>Enable-AadrmSuperUserFeature</strong></pre>
<ol start="7">
<li>Create a <strong>mail-enabled group</strong> called in your Azure AD and assign the group as <kbd>SuperUserGroup</kbd>:</li>
</ol>
<pre style="font-size: 16px;padding-left: 60px"><strong>Set-AadrmSuperUserGroup -GroupEmailAddress "AzureRMSSuperUsers@yourdomain1.com"</strong></pre>
<div class="mce-root packt_infobox">We will discuss the <strong>Super Users Group</strong> in more depth in <a href="1bedc98d-8713-410f-b51b-04c8e97de9bf.xhtml">Chapter 15</a>, <em>Configuring Azure Information Protection Solutions</em>.</div>
<p class="mce-root"/>
<ol start="8">
<li>Download the <span><strong>AzInfoProtection.exe</strong> binary from <a href="https://bit.ly/2ccqSu0">https://bit.ly/2ccqSu0</a></span><a href="https://bit.ly/2ccqSu0">.</a></li>
<li>Run the binary installation on the <strong>YD1APP01</strong> server.</li>
<li>Install the AIP Scanner on the server:</li>
</ol>
<pre style="padding-left: 60px"><span>$cred = Get-Credential</span><br/><span>Install-AIPScanner -SqlServerInstance <strong>YD1APP01</strong> -ServiceUserCredentials $cred</span></pre>
<ol start="11">
<li>To run the configuration tasks, install the <kbd>AzureADPreview</kbd> PowerShell Module:</li>
</ol>
<pre style="padding-left: 60px"><strong>Install-Module AzureADPreview</strong></pre>
<ol start="12">
<li>Run the following command to <strong>connect to your Azure AD</strong> and provide global administrator credentials:</li>
</ol>
<pre style="padding-left: 60px"><strong>Connect-AzureAD</strong></pre>
<ol start="13">
<li>Create the <kbd>WebApp</kbd> and the associated <kbd>Service Principle</kbd>:</li>
</ol>
<pre style="padding-left: 60px"><strong>New-AzureADApplication -DisplayName AIPOnBehalfOf -ReplyUrls 'http://localhost'</strong><br/><strong>$WebApp = Get-AzureADApplication -Filter "DisplayName eq 'AIPOnBehalfOf'"</strong><br/><strong>New-AzureADServicePrincipal -AppId $WebApp.AppId</strong><br/><strong>$WebAppKey = New-Guid</strong><br/><strong>$Date = Get-Date</strong><br/><strong>New-AzureADApplicationPasswordCredential -ObjectId $WebApp.ObjectID -startDate $Date -endDate $Date.AddYears(1) -Value $WebAppKey.Guid -CustomKeyIdentifier "AIPClient"</strong></pre>
<ol start="14">
<li class="mce-root">Build the <kbd>RequiredResourceAccess</kbd> object that's needed to <strong>automate delegation</strong> of permissions for the native application:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root"><strong>$AIPServicePrincipal = Get-AzureADServicePrincipal -All $true | ? {$_.DisplayName -eq 'AIPOnBehalfOf'}</strong><br/><strong> $AIPPermissions = $AIPServicePrincipal | select -expand Oauth2Permissions</strong><br/><strong> $Scope = New-Object -TypeName "Microsoft.Open.AzureAD.Model.ResourceAccess" -ArgumentList $AIPPermissions.Id,"Scope"</strong><br/><strong> $Access = New-Object -TypeName "Microsoft.Open.AzureAD.Model.RequiredResourceAccess"</strong><br/><strong> $Access.ResourceAppId = $WebApp.AppId</strong><br/><strong> $Access.ResourceAccess = $Scope</strong></pre>
<ol start="15">
<li class="mce-root">Run the following command to create the <kbd>Native App</kbd> and associated Service Principle:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root"><strong>New-AzureADApplication -DisplayName AIPClient -ReplyURLs http://localhost -RequiredResourceAccess $Access -PublicClient $true</strong><br/><strong> $NativeApp = Get-AzureADApplication -Filter "DisplayName eq 'AIPClient'"</strong><br/><strong> New-AzureADServicePrincipal -AppId $NativeApp.AppId</strong></pre>
<ol start="16">
<li class="mce-root">Build the <kbd>Set-AIPAuthentication</kbd> command, to run it under the AIP Scanner service account:</li>
</ol>
<pre style="padding-left: 60px" class="mce-root">"Set-AIPAuthentication -WebAppID " + $WebApp.AppId + " -WebAppKey " + $WebAppKey.Guid + " -NativeAppID " + $NativeApp.AppId | Out-File ~\Desktop\Set-AIPAuthentication.txt<br/> Start ~\Desktop\<strong>Set-AIPAuthentication.txt</strong></pre>
<ol start="17">
<li>Open a PowerShell (Run as different user) and provide the on-premises AIP Scanner Service account credentials.</li>
<li>Run the command from the <kbd>Set-AIPAuthentication.txt</kbd> file, as follows:</li>
</ol>
<pre style="padding-left: 60px"><strong>Set-AIPAuthentication -WebAppID 10fea33d-a6c0-44cb-88ea-eca3cf673d4d -WebAppKey f84ec310-cb36-44f9-ab7f-4edeecf099d0 -NativeAppID 4f478966-0930-4fc3-b1e4-a3acb92d4932</strong></pre>
<ol start="19">
<li>Accept to acquire an <strong>authentication token</strong>.</li>
<li>Restart the AIP Scanner.</li>
</ol>
<p>In the next procedure, we will provide the steps to <strong>upgrade</strong> the AIP Scanner from a GA version to the newest preview version, <kbd>AzInfoProtection_PREVIEW_1.45.32.0.exe</kbd>:</p>
<ol>
<li>Download the newest preview from <a href="https://bit.ly/2ccqSu0">https://bit.ly/2ccqSu0</a> and install the binaries.</li>
<li>Update the scanner with the <kbd>Profile</kbd> parameter:</li>
</ol>
<pre style="padding-left: 90px">Update-AIPScanner -Profile <strong>WestEurope</strong></pre>
<ol start="3">
<li>To check that the scanner successfully restarts, <strong>create the profile</strong> in the Azure Information Protection blade:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/0ebac29d-93c2-44dd-b576-a2f572bd3ef9.png" style="width:41.25em;height:10.83em;" width="763" height="200"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">AIP Profiles for location handling</div>
<ol start="4">
<li>The database will also be renamed to the profile name:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/6e110594-ad39-4ffe-86c6-f691d969360e.png" style="width:27.67em;height:6.00em;" width="419" height="91"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">AIP Scanner database viewed in SQL Management Studio</div>
<ol start="5">
<li>Open the newly-created profile and configure the AIP Scanner settings</li>
<li>Configure the following repositories (replace the server name):</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/dcc97e44-16eb-40c9-a2cf-cbb583b83642.png" style="width:38.00em;height:23.00em;" width="726" height="440"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Configured AIP Scanner repositories</div>
<ol start="7">
<li>Use the following configuration for all the file-share repositories and the SharePoint document library:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/87a656da-8020-403a-8541-0ae30da786ab.png" style="width:26.58em;height:47.75em;" width="371" height="666"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Repository policy settings options</div>
<p class="mce-root"/>
<p class="mce-root"/>
<ol start="8">
<li>Use the following settings for the <span class="packt_screen">Profile</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/84b21e06-7ff4-4c2b-963f-cfab5d952e3c.png" style="width:40.42em;height:50.58em;" width="617" height="772"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Profile settings section for the AIP Scanner</div>
<ol start="9">
<li>Navigate to the <span class="packt_screen">Policies</span> settings under the <span class="packt_screen">Classifications</span> section.</li>
<li>Click the <span class="packt_screen">Global policy</span> and change the default label to <span class="packt_screen">General</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/2e23fd35-c502-4cb4-ad5f-b11376c03d7b.png" style="width:19.58em;height:5.50em;" width="242" height="68"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Default label configuration in AIP Global Policy</div>
<ol start="11">
<li>Navigate to the <span class="packt_screen">Scanner</span> | <span class="packt_screen">Nodes</span> section, mark the scanner server, and click <span class="packt_screen">Scan now</span>:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/960de517-3c04-405a-836c-0cd1b70c00fd.png" width="971" height="177"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Enabling a scan on the repositories</div>
<ol start="12">
<li>Navigate to <span class="packt_screen">Dashboards</span> | <span class="packt_screen">Data discovery (Preview)</span> to view the first results:</li>
</ol>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a613fd9b-ce6f-4c4b-858b-b0a206ac57f6.png" style="width:81.00em;height:19.17em;" width="1316" height="311"/></p>
<div class="packt_figref CDPAlignCenter CDPAlign">Discovery results from the scanner</div>
<div class="packt_tip">Read the following articles for information on customizing your configuration to your needs:<a href="https://bit.ly/2T9CPn6"> https://bit.ly/2T9CPn6</a> and <a href="https://bit.ly/2Dk2YdK">https://bit.ly/2Dk2YdK</a>.</div>
<p class="mce-root"/>
<p class="mce-root"/>
<p class="mce-root">You can also use all the discussed technologies to gather information about data at rest. But, it's very important to understand that everything depends on the quality of your detection rules that you can get from the data in motion and the associated processes. We will follow up on this rule in <a href="1bedc98d-8713-410f-b51b-04c8e97de9bf.xhtml">Chapter 15</a>, <em>Configuring Azure Information Protection Solutions</em>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>In this chapter, we discussed and configured the key technologies for the discovery of sensitive data in motion, transit, and at rest. You saw how important these tasks are, and the benefits and data control they provide in your environment. They give you the power to build efficient detection and data-leakage-prevention rules. We'll use this knowledge to build an Azure Information Protection solution in <a href="1bedc98d-8713-410f-b51b-04c8e97de9bf.xhtml">Chapter 15</a>, <em>Configuring Azure Information Protection Solutions</em>. But first, we'll learn more about the Azure RMS keys, which you need to understand to follow the protection process and find the right tool to troubleshoot against errors.</p>
<p>In the next chapter, you'll learn how Azure RMS keys are used and which deployment models are available for different compliance requirements.</p>


            </article>

            
        </section>
    </div>



  </body></html>