["```\n# Class profile::login\n#\n# manages ssh access\n# company policy requires the following settings:\n# - forbid root login\n# - forbid x11 forwarding\n# - allow login based on group (admins)\n#\n# We have several other settings which are put into our own\n# sshd_config template file\n#\nclass profile::login {\n  class { 'ssh':\n    sshd_x11_forwarding     => false,\n    sshd_config_template    => \n    epp('profile/login/sshd_config.epp'),\n    sshd_config_allowgroups => ['admins'],\n    permit_root_login       => 'no',\n  }\n}\n```", "```\n# Class profile::login::secure\n#\n# Reuses profile::login classes\n# adds known_host_file based on template\n#\nclass profile::login::secure {\n  include profile::ssh\n  file { '/etc/ssh/ssh_known_hosts':\n    ensure  => file,\n    content => epp('profile/login/ssh_known_hosts.epp'),\n  }\n}\n```", "```\n# Class profile::database::mysql\n#\n# Needs data in hiera:\n# - mysql_root_password (String), defaults to 123456\n# - mysql_database (Hash)\n#\nclass profile::database::mysql {\n  $mysql_root_password = lookup('mysql_root_password', String, 'first', '123456')\n  $mysql_database = lookup('mysql_database', Hash, 'deep', '')\n  class { 'mysql':\n    root_password           => $mysql_root_password,\n    remove_default_accounts => true,\n  }\n  class { 'mysql::bindings':\n    php_enable => true,\n  }\n  $mysql_database.each |$db, $options| {\n    mysql::db { $db:\n      * => $options,\n    }\n  }\n}\n```", "```\n# Class profile::scripting::php\n#\n# uses puppet/php mdoule\n# basic installation only\n#\nclass profile::scripting::php {\n  include ::php\n} \n# Class profile::apps::phpmyadmin\n#\n# uses jlondon/phpmyadmin\n# configures the application and application vhost\n#\nclass profile::apps::phpmyadmin {\n  class { 'phpmyadmin': }\n  phpmyadmin::server{ 'default': }\n  phpmyadmin::vhost { 'internal.domain.net':\n    vhost_enabled => true,\n    priority      => '20',\n    docroot       => $phpmyadmin::params::doc_path,\n    ssl           => true,\n   }\n}\n# Class profile::apps::phpmyadmin::db\n#\n# uses jlondon/phpmyadmin module\n# exports the setting for phpmyadmin\n# \nclass profile::apps::phpmyadmin::db {\n  @@phpmyadmin::servernode { \"${::ipaddress}\":\n    server_group => 'default',\n  }\n}\n```", "```\nprofile/\n|- manifests/\n|   |- apps/\n|   |   |─ phpmyadmin/\n|   |   |   \\- db.pp\n|   |   \\- phpmyadmin.pp\n|   |- database/\n|   |   \\- mysql.pp\n|   |- login/\n|   |   \\- secure.pp\n|   |- login.pp\n|   \\- scripting/\n|   \\─ php.pp\n\\- templates/\n    \\- login/\n        |- sshd_config.epp\n        \\- ssh_known_hosts.epp \n```", "```\nclass role::crm_db_control_panel {\n  contain profile::login::secure\n  contain profile::database::mysql\n  contain profile::scripting::php\n  contain profile::apps::phpmyadmin::db\n  contain profile::apps::phpmyadmin\n}\n```", "```\nnode 'dbcrmmgmt.domain.com' {\n  contain role::crm_db_control_panel\n}\n```", "```\n#/etc/puppetlabs/code/environments/production/environment.conf\nmodulepath = site:modules:$basemodulepath\n```", "```\n/etc/puppetlabs/code/environment/production/site/\n  |- profile/\n  | |- manifests/\n  | | |- apps/\n  | | | |- phpmyadmin/\n  | | | | \\- db.pp\n  | | | \\- phpmyadmin.pp\n  | | |- database/\n  | | | \\- mysql.pp\n  | | |- login/\n  | | | \\- secure.pp\n  | | |- login.pp\n  | | \\ - scripting/\n  | | \\- php.pp\n  | \\- templates/\n  | \\- login/\n  | |- sshd_config.epp\n  | \\- ssh_known_hosts.epp\n\\- role/\n       \\- manifests/\n            \\- db_control_panel.pp\n```", "```\n# Third Party modules\nmod \"puppetlabs/concat\", '3.0.0' # postgresql requires concat < 3.0.0\nmod \"puppetlabs/stdlib\", :latest\nmod \"puppetlabs/aws\", :latest\nmod \"jdowning/rbenv\", :latest\nmod \"puppet/archive\", :latest\nmod \"puppetlabs/inifile\", :latest\n# Used by profile::puppet::server\nmod 'puppetlabs/postgresql', :latest\nmod 'puppetlabs/puppetdb', :latest\nmod 'puppet/puppetserver',\n  :git => \"https://github.com/voxpupuli/puppet-puppetserver.git\",\n  :tag => '2.1.0'\nmod 'puppetlabs/puppetserver_gem', :latest\nmod 'puppet/r10k', :latest\n# mod 'puppet/puppetboard', :latest\n```", "```\n control-repo/\n  |- environment.conf\n  |- hieradata/\n  |- hiera.yaml\n  |- manifests/\n  | |- dmz.pp\n  | |- internal.pp\n  | \\- site.pp\n  |- Puppetfile\n  |- README.md\n  \\- site/\n       |- profile/\n       | |- manifests/\n       | | |- apps/\n       | | | |- phpmyadmin/\n       | | | | \\- db.pp\n       | | | \\- phpmyadmin.pp\n       | | |- database/\n       | | | \\- mysql.pp\n       | | |- login/\n       | | | \\- secure.pp\n       | | |- login.pp\n       | | \\- scripting/\n       | | \\- php.pp\n       | \\- templates/\n       | \\- login/\n       | |- sshd_config.epp\n       | \\- ssh_known_hosts.epp\n       \\- role/\n            \\- manifests/\n                 \\- db_control_panel.pp  \n```", "```\ngit remote add github https://github.com/puppetlabs/puppetlabs-concat.git\n```", "```\n$ git pull github master\nremote: Counting objects: 2871, done.\nremote: Compressing objects: 100% (11/11), done.\nremote: Total 2871 (delta 1), reused 7 (delta 1), pack-reused 2859\nReceiving objects: 100% (2871/2871), 634.98 KiB | 648.00 KiB/s, done.\nResolving deltas: 100% (1394/1394), done.\nFrom https://github.com/puppetlabs/puppetlabs-concat\n* branch master -> FETCH_HEAD\n```", "```\ngit fetch --all\nFetching origin\nFetching github\nremote: Counting objects: 33, done.\nremote: Compressing objects: 100% (29/29), done.\nremote: Total 33 (delta 8), reused 28 (delta 3), pack-reused 0\nUnpacking objects: 100% (33/33), done.\nFrom https://github.com/puppetlabs/puppetlabs-concat\n* [new branch] 1.0.x -> github/1.0.x\n[...]\n   * [new tag] 3.0.0 -> 3.0.0\n   * [new tag] 4.0.0 -> 4.0.0\n   * [new tag] 4.0.1 -> 4.0.1 \n```", "```\n$ git push origin master\n   Counting objects: 2871, done.\nCompressing objects: 100% (1368/1368), done.\n    Writing objects: 100% (2871/2871), 634.76 KiB | 0 bytes/s, done.\nTotal 2871 (delta 1394), reused 2871 (delta 1394)\nTo /var/repositories/puppetlabs-concat.git\n* [new branch] master -> master \n```", "```\n$ git push origin master --tags\nCounting objects: 19, done.\nCompressing objects: 100% (19/19), done.\nWriting objects: 100% (19/19), 11.01 KiB | 0 bytes/s, done.\nTotal 19 (delta 0), reused 0 (delta 0)\nTo /var/repositories/puppetlabs-concat.git\n * [new tag] 0.1.0 -> 0.1.0\n[...]\n * [new tag] 3.0.0 -> 3.0.0\n * [new tag] 4.0.0 -> 4.0.0\n * [new tag] 4.0.1 -> 4.0.1\n```", "```\n$ puppet resource package r10k ensure=present provider=puppet_gem\npackage { 'r10k':\n  ensure => ['2.5.5'],\n}  \n```", "```\n# /etc/puppetlabs/r10k/r10k.yaml\n---\n cachedir: '/var/cache/r10k'\n  sources:\n  infrastructure:\n   remote: 'https://gitserver/infra/r10k-control-repo.git'\n  basedir: '/etc/puppetlabs/code/environments'\n  qa:\n   remote: 'https://gitserver/security/r10k-control-repo.git'\n  basedir: '/etc/puppetlabs/code/environments'\n   prefix: true\ngit:\n provider: shellgit\n    forge:\n  # proxy: 'http://proxyserver:port'\n```", "```\n# r10k deploy environment -v# r10k deploy environment -vINFO -> Deploying environment /etc/puppetlabs/code/r10k/developmentINFO -> Environment development is now at db43d907d5b39d6197e42fc5c8edb4c0a4db27d6[...]INFO -> Deploying environment /etc/puppetlabs/code/r10k/productionINFO -> Environment production is now at 149a903d027d69d88a50ef3a563cb432c1e087c4[…]INFO -> Deploying environment /etc/puppetlabs/code/r10k/qa_developmentINFO -> Environment qa_development is now at db43d907d5b39d6197e42fc5c8edb4c0a4db27d6[…]INFO -> Deploying environment /etc/puppetlabs/code/r10k/qa_productionINFO -> Environment production is now at 149a903d027d69d88a50ef3a563cb432c1e087c4\n```", "```\nclass profile::puppet::master::r10k_webhook {\n  class {'r10k::webhook::config':\n    enable_ssl      => false,\n    use_mcollective => false,\n  }\n  class {'r10k::webhook':\n    use_mcollective => false,\n    user            => 'root',\n    group           => '0',\n  }\n}\n```"]