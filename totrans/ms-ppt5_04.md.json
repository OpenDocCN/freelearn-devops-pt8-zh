["```\n---\nversion: 5\nhierarchy:\n  - name: Common\n    path: common.yaml\ndefaults:\n  data_hash: yaml_data\n  datadir: data\n```", "```\n---\nversion: 5\n hierarchy:\n   - name: \"Per-node data\"\n     path: \"nodes/%{trusted.certname}.yaml\"\n\n   - name: \"Per-environment data\"\n     path: \"%{server_facts.environment}.yaml\"\n\n - name: Common\n     path: common.yaml\n```", "```\n---\nversion: 5\n  hierarchy:\n    - name: \"Per-node data\"\n      path: \"nodes/%{trusted.certname}.yaml\"\n\n    - name: \"Per application data\"\n      path: \"%{facts.application}.yaml\"\n\n    - name: \"Per environment data\"\n      path: \"%{server_facts.environment}.yaml\"\n\n    - name: \"Per datacenter data\"\n      path: \"%{facts.datacenter}.yaml\"\n\n    - name: \"Common data\"\n      path: common.yaml\n```", "```\n$ sudo /opt/puppetlabs/bin/puppetserver gem install hiera-eyaml\n```", "```\n$ sudo /opt/puppetlabs/puppet/bin/gem install hiera-eyaml\n```", "```\n$ eyaml createkeys\n```", "```\n$ mv -t /etc/puppetlabs/puppet/eyaml ./keys/*.pem\n$ chown -R puppet:puppet /etc/puppetlabs/puppet/eyaml\n$ chmod -R 0500 /etc/puppetlabs/puppet/eyaml\n$ chmod 0400 /etc/puppetlabs/puppet/eyaml/*.pem\n$ ls -lha /etc/puppetlabs/puppet/eyaml\n-r-------- 1 puppet puppet 1.7K Apr 25 08:08 private_key.pkcs7.pem\n-r-------- 1 puppet puppet 1.1K Apr 25 08:08 public_key.pkcs7.pem\n```", "```\n---\n version: 5\n hierarchy:\n   - name: \"Encrypted and regular data\"\n     lookup_key: eyaml_lookup_key    paths:\n       - “nodes/%{trusted.certname}.eyaml”\n       - “%{facts.application}.eyaml”\n       - “%{server_facts.environment}.eyaml”\n       - “%{facts.datacenter}.eyaml”\n       - \"common.eyaml\"\n     options:\n       pkcs7_private_key: /etc/puppetlabs/puppet/eyaml/private_key.pkcs7.pem\n       pkcs7_public_key:  /etc/puppetlabs/puppet/eyaml/public_key.pkcs7.pem\n defaults:\n   datadir: data\n```", "```\nlookup(‘my::key’) |$my_key| {\"Hiera couldn't find '${my_key}'. Did you forget to add this key-value pair to your hierarchy?\"}\n```", "```\nlookup(‘my::key’) |$my_key| {\"Hiera couldn't find '${my_key}' using certname  ‘${trusted.certname}’, application ‘${facts.application}’, environment ${server_facts.environment}, and datacenter ${facts.datacenter}. Did you forget to add this key-value pair to your hierarchy?\"}\n```", "```\nlookup('ntp::user')\n # equivalent to hiera('ntp::user')\n```", "```\nlookup('ntp::user','root')\n # equivalent to hiera('ntp::user','root')\n```", "```\nlookup('my_ntp_servers', Array, 'unique')\n # equivalent to hiera_array('ntp_servers')\n```", "```\nlookup('users', Hash, 'deep')\n # equivalent to hiera_hash('users') with deep\n```", "```\nlookup('classes', Array[String], 'unique').include\n # equivalent to hiera_include('classes')\n```", "```\n# common.yaml\n ---\n classification:\n   classes:\n     - paessler\n     - other\n# mynode.myorg.net.yaml\n classification:\n   classes:\n     - -- paessler\n     - nagios\n     - webserver\n```", "```\nlookup({\n 'name' => 'classification',\n 'merge' => {\n 'strategy' => 'deep',\n 'knockout_prefix' => '--',\n },\n })\n```", "```\n lookup({\n   'name'  => 'classification',\n   'merge' => {\n     'strategy'          => 'deep',\n     'knockout_prefix'   => '--',\n     ‘sort_merge_arrays’ => true,\n   },\n })\n\n```", "```\n# mynode.myorg.net.yaml\n classification:\n   classes:\n     - --paessler,nagios\n     - webserver\n\n```", "```\nlookup({\n   'name'  => 'classification',\n   'merge' => {\n     'strategy'        => 'deep',\n     'knockout_prefix' => '--',\n     unpack_arrays     =>’,’,\n   },\n })\n```", "```\n$ hiera -c /etc/puppetlabs/puppet/hiera.yaml --debug mysetting\n```", "```\n$ hiera -c /etc/puppetlabs/puppet/hiera.yaml --debug --json facts.json mysetting environment=production fqdn=mynode.example.local\n```", "```\n$ puppet apply --debug -e '$foo = hiera(mysetting) notify { $foo: }'\n```", "```\n$ puppet lookup --node mynode.example.local --debug mysetting\n```", "```\n$ gem install jerakia\n```", "```\n$ mkdir /etc/jerakia\n$ vim /etc/jerakia/jerakia.yaml\n```", "```\n--- \npolicydir: /etc/jerakia/policy.d \nlogfile: /var/log/jerakia.log \nloglevel: info \neyaml:   \n private_key: /etc/puppetlabs/puppet/eyaml/private_key.pkcs7.pem         \n public_key: /etc/puppetlabs/puppet/eyaml/public_key.pkcs7.pem\n```", "```\n$ mkdir /etc/jerakia/policy.d\n$ vim /etc/jerakia/policy.d/default.rb\n```", "```\npolicy :default do\n\n   lookup :default do\n     datasource :file, {\n       :format     => :yaml,\n       :docroot    => \"/var/lib/jerakia\",\n       :searchpath => [\n         \"hostname/#{scope[:fqdn]}\",\n         \"environment/#{scope[:environment]}\",\n         \"common\",\n        ],\n     }\n   end\n\n end\n```", "```\npolicy :default do\n\n   lookup :denmark do\n     datasource :file, {\n       :format     => :yaml,\n       :docroot    => \"/var/external/data/ie\",\n       :searchpath => [\n         \"project/#{scope[:project]}\",\n         \"common\",\n       ]\n     }\n\n     confine scope[:location], \"dk\"\n\n     confine request.namespace[0], [\n       \"apache\",\n       \"php\",\n     ]\n     stop\n\n   end\n\n   lookup :default do\n     datasource :file, {\n       :format     => :yaml,\n       :docroot    => \"/var/lib/jerakia\",\n       :searchpath => [\n         \"hostname/#{scope[:fqdn]}\",\n         \"environment/#{scope[:environment]}\",\n         \"common\",\n        ],\n     }\n   end\n\n end\n```", "```\n$ ./vault mount transit\n```", "```\n$ ./vault write -f transit/keys/jerakia\n```", "```\n# jerakia_policy.hcl \npath \"transit/decrypt/jerakia\" {\n   policy = \"write\"\n }\n path \"transit/encrypt/jerakia\" {\n   policy = \"write\"\n }\n$ ./vault policy-write jerakia jerakia_policy.hcl\n```", "```\n$ echo -n \"Lorem ipsum dolor sit amet\" | base64 | ./vault write transit/encrypt/jerakia plaintext=- -policy=jerakia\nvault:v1:Xv3R5CugxnCLhL/T2eJ+rN+UilHzo78evxd0tf5efx0M2U2qIgaI\n```", "```\n$ ./vault write auth/approle/role/jerakia token_ttl=15m policies=jerakia\n```", "```\n$ ./vault read auth/approle/role/jerakia/role-id\nKey     Value\n ---     -----\n role_id bfce3860-0805-43dc-ab6d-fe789559fe32\n```", "```\n$ ./vault write -f auth/approle/role/jerakia/secret-id\nKey                 Value\n ---                 -----\n secret_id           94f23dba-7355-426c-ae1e-5768dbb70280\n secret_id_accessor  f7b0f10a-99f4-4c7e-b69d-7bbd27a3c016\n```", "```\nencryption:\n   provider: vault\n   vault_addr: http://127.0.0.1:8200\n   vault_use_ssl: false\n   vault_role_id: bfce3860-0805-43dc-ab6d-fe789559fe32\n   vault_secret_id: 8a2fa99c-7811-5e65-a74a-8ab2ba9b6389\n   vault_keyname: jerakia\n```", "```\n$ jerakia secret encrypt mySecret\n vault:v1: d3HftM8HAJDwWeSfLkBcdpAdTFy8fBu3mj4Kf3mHADSLuevwCbjZ\n$ jerakia secret decrypt vault:v1:d3HftM8HAJDwWeSfLkBcdpAdTFy8fBu3mj4Kf3mHADSLuevwCbjZ\n mySecret\n```", "```\npolicy :default do\n\n   lookup :default do\n     datasource :file, {\n       :format     => :yaml,\n       :docroot    => \"/var/lib/jerakia\",\n       :searchpath => [\n         \"hostname/#{scope[:fqdn]}\",\n         \"environment/#{scope[:environment]}\",\n         \"common\",\n        ],\n     }\n     output_filter :encryption\n   end\n\n end\n```"]