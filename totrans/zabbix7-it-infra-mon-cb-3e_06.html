<html><head></head><body>
<div id="_idContainer394" class="calibre2">
<h1 class="chapter-number" id="_idParaDest-184"><a id="_idTextAnchor1022" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1.1">6</span></h1>
<h1 id="_idParaDest-185" class="calibre5"><a id="_idTextAnchor1023" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.2.1">Visualizing Data, Inventory, and Reporting</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.3.1">When working with Zabbix, collected data must be put to good use. </span><span class="kobospan" id="kobo.3.2">After all, the data is of no use if we don’t have a place to easily access it. </span><span class="kobospan" id="kobo.3.3">Zabbix already puts our data to good use with the </span><strong class="bold"><span class="kobospan" id="kobo.4.1">Latest data</span></strong><span class="kobospan" id="kobo.5.1"> page and with problems created from triggers, but we can also put our data to good use by building some stuff ourselves, such as graphs, maps, an inventory, and completely custom dashboards. </span><span class="kobospan" id="kobo.5.2">We can even create reports from the dashboards and use built-in reports in </span><span><span class="kobospan" id="kobo.6.1">the frontend.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.7.1">After working through these recipes, you’ll be able to set up the most important parts of Zabbix data visualization. </span><span class="kobospan" id="kobo.7.2">You’ll also be able to make good use of your inventory and reporting systems to get the most out of their </span><span><span class="kobospan" id="kobo.8.1">useful features.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.9.1">In this chapter, we’ll cover the following recipes to show you how to achieve </span><span><span class="kobospan" id="kobo.10.1">good results:</span></span></p>
<ul class="calibre14">
<li class="calibre15"><span class="kobospan" id="kobo.11.1">Creating graphs to access </span><span><span class="kobospan" id="kobo.12.1">visual data</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.13.1">Creating maps to keep an eye </span><span><span class="kobospan" id="kobo.14.1">on infrastructure</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.15.1">Creating dashboards to get the </span><span><span class="kobospan" id="kobo.16.1">right overview</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.17.1">Templating dashboards to work at the </span><span><span class="kobospan" id="kobo.18.1">host level</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.19.1">Setting up </span><span><span class="kobospan" id="kobo.20.1">Zabbix inventory</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.21.1">Using the Zabbix </span><span><span class="kobospan" id="kobo.22.1">Geomap widget</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.23.1">Working through </span><span><span class="kobospan" id="kobo.24.1">Zabbix reporting</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.25.1">Setting up scheduled </span><span><span class="kobospan" id="kobo.26.1">PDF reports</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.27.1">Setting up improved business </span><span><span class="kobospan" id="kobo.28.1">service monitoring</span></span></li>
</ul>
<h1 id="_idParaDest-186" class="calibre5"><a id="_idTextAnchor1024" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1025" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.29.1">Technical requirements</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.30.1">For this chapter, we will need our Zabbix server, our </span><strong class="bold"><span class="kobospan" id="kobo.31.1">Simple Network Management</span></strong><strong class="bold"> </strong><strong class="bold"><span class="kobospan" id="kobo.32.1">Protocol</span></strong><span class="kobospan" id="kobo.33.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.34.1">SNMP</span></strong><span class="kobospan" id="kobo.35.1">)-monitored host from </span><a href="B19803_05.xhtml#_idTextAnchor809" class="pcalibre calibre6 pcalibre1"><span><em class="italic"><span class="kobospan" id="kobo.36.1">Chapter 5</span></em></span></a><span class="kobospan" id="kobo.37.1">, </span><em class="italic"><span class="kobospan" id="kobo.38.1">Building Your Own Structured Templates</span></em><span class="kobospan" id="kobo.39.1">. </span><span class="kobospan" id="kobo.39.2">We’ll be doing most of our work in the frontend of Zabbix, so have your mouse at </span><span><span class="kobospan" id="kobo.40.1">the ready.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.41.1">The code files for this chapter can be found in this book’s GitHub </span><span><span class="kobospan" id="kobo.42.1">repository:</span></span><span><span> </span></span><a href="https://github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook/tree/main/chapter06" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.43.1">https://github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook/tree/main/chapter06</span></span></a><span><span class="kobospan" id="kobo.44.1">.</span></span></p>
<h1 id="_idParaDest-187" class="calibre5"><a id="_idTextAnchor1026" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1027" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.45.1">Creating graphs to access visual data</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.46.1">Graphs in Zabbix </span><a id="_idTextAnchor1028" class="pcalibre calibre6 pcalibre1"/><a id="_idIndexMarker395" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.47.1">are a powerful tool to show what’s</span><a id="_idTextAnchor1029" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.48.1"> going </span><a id="_idIndexMarker396" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.49.1">on with your collected data. </span><span class="kobospan" id="kobo.49.2">You might have already created some ad hoc graphs by using the </span><strong class="bold"><span class="kobospan" id="kobo.50.1">Latest data</span></strong><span class="kobospan" id="kobo.51.1"> page, but we can also create o predefined graphs. </span><span class="kobospan" id="kobo.51.2">In this recipe, we will go over doing </span><span><span class="kobospan" id="kobo.52.1">just that</span><a id="_idTextAnchor1030" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1031" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.53.1">.</span></span></p>
<h2 id="_idParaDest-188" class="calibre7"><a id="_idTextAnchor1032" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.54.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.55.1">Make sure to get your Zabbix server ready, along with a Linux host that we can monitor (with SNMP). </span><span class="kobospan" id="kobo.55.2">If you followed the recipes in </span><a href="B19803_05.xhtml#_idTextAnchor809" class="pcalibre calibre6 pcalibre1"><span><em class="italic"><span class="kobospan" id="kobo.56.1">Chapter 5</span></em></span></a><span class="kobospan" id="kobo.57.1">, </span><em class="italic"><span class="kobospan" id="kobo.58.1">Building Your Own Structured Templates</span></em><span class="kobospan" id="kobo.59.1">, you should already have </span><span><span class="kobospan" id="kobo.60.1">a template.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.61.1">Alternatively, you can download the templates available </span><span><span class="kobospan" id="kobo.62.1">at </span></span><a href="https://github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook/tree/main/chapter06" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.63.1">https://github.com/PacktPublishing/Zabbix-7-IT-Infrastructure-Monitoring-Cookbook/tree/main/chapter06</span></span></a><span><span class="kobospan" id="kobo.64.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.65.1">If you’re using the downloaded templates, download and import </span><strong class="bold"><span class="kobospan" id="kobo.66.1">Custom Linux uptime by SNMP</span></strong><span class="kobospan" id="kobo.67.1"> first, then </span><strong class="bold"><span class="kobospan" id="kobo.68.1">Custom Linux by SNMP</span></strong><span class="kobospan" id="kobo.69.1">. </span><span class="kobospan" id="kobo.69.2">You can import a template by going to </span><strong class="bold"><span class="kobospan" id="kobo.70.1">Data collection</span></strong><span class="kobospan" id="kobo.71.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.72.1">Templates</span></strong><span class="kobospan" id="kobo.73.1"> and clicking the blue </span><strong class="bold"><span class="kobospan" id="kobo.74.1">Import</span></strong><span class="kobospan" id="kobo.75.1"> button in the </span><span><span class="kobospan" id="kobo.76.1">top-right corner.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.77.1">Make sure you put the template on a host and </span><span><span class="kobospan" id="kobo.78.1">monitor it</span><a id="_idTextAnchor1033" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1034" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.79.1">.</span></span></p>
<h2 id="_idParaDest-189" class="calibre7"><a id="_idTextAnchor1035" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.80.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.81.1">Follow </span><span><span class="kobospan" id="kobo.82.1">these steps:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.83.1">Let’s start by navigating to our templates by going to </span><strong class="bold"><span class="kobospan" id="kobo.84.1">Data collection</span></strong><span class="kobospan" id="kobo.85.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.86.1">Templates</span></strong><span class="kobospan" id="kobo.87.1"> and selecting the template. </span><span class="kobospan" id="kobo.87.2">For me, it is still called </span><strong class="bold"><span class="kobospan" id="kobo.88.1">Custom Linux </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.89.1">by SNMP</span></strong></span><span><span class="kobospan" id="kobo.90.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.91.1">Go to </span><strong class="bold"><span class="kobospan" id="kobo.92.1">Items</span></strong><span class="kobospan" id="kobo.93.1"> and create the following item on </span><span><span class="kobospan" id="kobo.94.1">the template:</span></span><a id="_idTextAnchor1036" class="pcalibre calibre6 pcalibre1"/></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer287">
<span class="kobospan" id="kobo.95.1"><img alt="Figure 6.1 – ICMP item creation page" src="image/B19803_06_001.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.96.1">Figure 6.1 – ICMP item creation page</span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.97.1">Make</span><a id="_idTextAnchor1037" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.98.1"> sure</span><a id="_idIndexMarker397" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.99.1"> you</span><a id="_idIndexMarker398" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.100.1"> go to the </span><strong class="bold"><span class="kobospan" id="kobo.101.1">Tags</span></strong><span class="kobospan" id="kobo.102.1"> tab a</span><a id="_idTextAnchor1038" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.103.1">nd add a tag, </span><span><span class="kobospan" id="kobo.104.1">as follows</span><a id="_idTextAnchor1039" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.105.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer288">
<span class="kobospan" id="kobo.106.1"><img alt="Figure 6.2 – ICMP item creation page – the Tags tab" src="image/B19803_06_002.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.107.1">Figure 6.2 – ICMP item creation page – the Tags tab</span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.108.1">Click the blue </span><strong class="bold"><span class="kobospan" id="kobo.109.1">Add</span></strong><span class="kobospan" id="kobo.110.1"> button to save </span><span><span class="kobospan" id="kobo.111.1">this item.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.112.1">Now, back at the template configuration page, go to </span><strong class="bold"><span class="kobospan" id="kobo.113.1">Graphs</span></strong><span class="kobospan" id="kobo.114.1">. </span><span class="kobospan" id="kobo.114.2">This is where we can see all of our configured graphs for this template; at the moment, there </span><span><span class="kobospan" id="kobo.115.1">are none.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.116.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.117.1">Create graph</span></strong><span class="kobospan" id="kobo.118.1"> in </span><a id="_idIndexMarker399" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.119.1">the</span><a id="_idIndexMarker400" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.120.1"> top-right corner. </span><span class="kobospan" id="kobo.120.2">This will take you to the graph </span><span><span class="kobospan" id="kobo.121.1">creation pag</span><a id="_idTextAnchor1040" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.122.1">e:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer289">
<span class="kobospan" id="kobo.123.1"><img alt="Figure 6.3 – Graph creation page" src="image/B19803_06_003.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.124.1">Figure 6.3 – Graph creation page</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.125.1">This </span><a id="_idTextAnchor1041" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.126.1">is where we can create graphs f</span><a id="_idTextAnchor1042" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.127.1">or standalone items. </span><span class="kobospan" id="kobo.127.2">Let’s create a graph to see </span><span><span class="kobospan" id="kobo.128.1">our uptime.</span></span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.129.1">Fill in the graph creation page with the </span><span><span class="kobospan" id="kobo.130.1">following information</span><a id="_idTextAnchor1043" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.131.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer290">
<span class="kobospan" id="kobo.132.1"><img alt="Figure 6.4 – Graph creation page filled with our information" src="image/B19803_06_004.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.133.1">Figure 6.4 – Graph creation page filled with our information</span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.134.1">Tip</span></p>
<p class="callout"><span class="kobospan" id="kobo.135.1">When working with graphs, it’s a good idea to keep colorblind people in mind. </span><span class="kobospan" id="kobo.135.2">Worldwide, about 8% of all males and 0.5% of all females are affected by this condition. </span><span class="kobospan" id="kobo.135.3">There are great sources online that explain which colors to use for your production environment. </span><span class="kobospan" id="kobo.135.4">You can find one such source </span><span><span class="kobospan" id="kobo.136.1">here: </span></span><a href="https://www.tableau.com/about/blog/2016/4/examining-data-viz-rules-dont-use-red-green-together-53463" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.137.1">https://www.tableau.com/about/blog/2016/4/examining-data-viz-rules-dont-use-red-green-together-53463</span></span></a><span><span class="kobospan" id="kobo.138.1">.</span></span></p>
<ol class="calibre16">
<li value="8" class="calibre15"><span class="kobospan" id="kobo.139.1">Now, pin</span><a id="_idTextAnchor1044" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.140.1">g </span><a id="_idIndexMarker401" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.141.1">your </span><a id="_idIndexMarker402" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.142.1">SNMP-monitored host for a while. </span><span class="kobospan" id="kobo.142.2">Do this from your Zabbix</span><a id="_idIndexMarker403" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.143.1"> server </span><strong class="bold"><span class="kobospan" id="kobo.144.1">command-line </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.145.1">interface</span></strong></span><span><span class="kobospan" id="kobo.146.1"> (</span></span><span><strong class="bold"><span class="kobospan" id="kobo.147.1">CLI</span></strong></span><span><span class="kobospan" id="kobo.148.1">):</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.149.1">ping 10.16.16.153</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.150.1">Afterward, navi</span><a id="_idTextAnchor1045" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.151.1">gate to </span><strong class="bold"><span class="kobospan" id="kobo.152.1">Monitoring</span></strong><span class="kobospan" id="kobo.153.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.154.1">Hosts</span><a id="_idTextAnchor1046" class="pcalibre calibre6 pcalibre1"/></strong><span class="kobospan" id="kobo.155.1"> and click the </span><strong class="bold"><span class="kobospan" id="kobo.156.1">Graphs</span></strong><span class="kobospan" id="kobo.157.1"> button next to your host. </span><span class="kobospan" id="kobo.157.2">In my case, the host is still </span><span><span class="kobospan" id="kobo.158.1">called </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.159.1">lar-book-templated_snmp</span></strong></span><span><span class="kobospan" id="kobo.160.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.161.1">This will immediately take us to an overview of graphs for this host, where we can see our new </span><strong class="bold"><span class="kobospan" id="kobo.162.1">Incoming ICMP </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.163.1">messages</span></strong></span><span><span class="kobospan" id="kobo.164.1"> gra</span><a id="_idTextAnchor1047" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.165.1">ph:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer291">
<span class="kobospan" id="kobo.166.1"><img alt="Figure 6.5 –Monitoring | Hosts graph page with our graph" src="image/B19803_06_005.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.167.1">Figure 6.5 –Monitoring | Hosts graph page with our graph</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.168.1">We can also make graphs</span><a id="_idIndexMarker404" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.169.1"> for</span><a id="_idIndexMarker405" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.170.1"> discovery items; this is called a graph prototype. </span><span class="kobospan" id="kobo.170.2">They work in about the same way as our item prototypes. </span><span class="kobospan" id="kobo.170.3">Let’s create one of these </span><span><span class="kobospan" id="kobo.171.1">as well:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.172.1">Nav</span><a id="_idTextAnchor1048" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.173.1">igate to </span><strong class="bold"><span class="kobospan" id="kobo.174.1">Data collection</span></strong><span class="kobospan" id="kobo.175.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.176.1">Template</span><a id="_idTextAnchor1049" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.177.1">s</span></strong><span class="kobospan" id="kobo.178.1"> and select our </span><strong class="bold"><span class="kobospan" id="kobo.179.1">Custom Linux by </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.180.1">SNMP</span></strong></span><span><span class="kobospan" id="kobo.181.1"> template.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.182.1">Go to </span><strong class="bold"><span class="kobospan" id="kobo.183.1">Discovery rules</span></strong><span class="kobospan" id="kobo.184.1">. </span><span class="kobospan" id="kobo.184.2">Then, for the </span><strong class="bold"><span class="kobospan" id="kobo.185.1">Discover Network Interfaces</span></strong><span class="kobospan" id="kobo.186.1"> discovery rule, click on </span><strong class="bold"><span class="kobospan" id="kobo.187.1">Item prototypes</span></strong><span class="kobospan" id="kobo.188.1">. </span><span class="kobospan" id="kobo.188.2">In the top-right corner, click </span><strong class="bold"><span class="kobospan" id="kobo.189.1">Create item prototype</span></strong><span class="kobospan" id="kobo.190.1"> and create the following </span><span><span class="kobospan" id="kobo.191.1">item protot</span><a id="_idTextAnchor1050" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.192.1">ype:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer292">
<span class="kobospan" id="kobo.193.1"><img alt="Figure 6.6 – Item prototype – the Incoming bits page filled with our information" src="image/B19803_06_006.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.194.1">Figure 6.6 – Item prototype – the Incoming bits page filled with our information</span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.195.1">Now, let’s add</span><a id="_idIndexMarker406" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.196.1"> a</span><a id="_idIndexMarker407" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.197.1"> tag on the </span><span><strong class="bold"><span class="kobospan" id="kobo.198.1">Tags</span><a id="_idTextAnchor1051" class="pcalibre calibre6 pcalibre1"/></strong></span><span><span class="kobospan" id="kobo.199.1"> tab:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer293">
<span class="kobospan" id="kobo.200.1"><img alt="Figure 6.7 – Item prototype Incoming bits – the Tags tab" src="image/B19803_06_007.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.201.1">Figure 6.7 – Item prototype Incoming bits – the Tags tab</span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.202.1">Lastly, make sure you add the following on the </span><span><strong class="bold"><span class="kobospan" id="kobo.203.1">Preprocessing</span></strong></span><span><span class="kobospan" id="kobo.204.1"> p</span><a id="_idTextAnchor1052" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.205.1">age:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer294">
<span class="kobospan" id="kobo.206.1"><img alt="Figure 6.8 – Item prototype – the Incoming bits Preprocessing tab filled with our information" src="image/B19803_06_008.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.207.1">Figure 6.8 – Item prototype – the Incoming bits Preprocessing tab filled with our information</span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.208.1">Important note</span></p>
<p class="callout"><span class="kobospan" id="kobo.209.1">Preprocessing is quite an extensive topic. </span><span class="kobospan" id="kobo.209.2">In short, the preprocessing in this step will ensure that our data is calculated at a change per second, with the mathematical formula </span><em class="italic"><span class="kobospan" id="kobo.210.1">(value - prev_value)/(time - prev_time)</span></em><span class="kobospan" id="kobo.211.1">, and that our data is multiplied by 8 so that it’s changed from bytes </span><span><span class="kobospan" id="kobo.212.1">to bits.</span></span></p>
<ol class="calibre16">
<li value="5" class="calibre15"><span class="kobospan" id="kobo.213.1">Click</span><a id="_idTextAnchor1053" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.214.1"> the</span><a id="_idIndexMarker408" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.215.1"> blue </span><strong class="bold"><span class="kobospan" id="kobo.216.1">Add</span></strong><span class="kobospan" id="kobo.217.1"> button</span><a id="_idIndexMarker409" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.218.1"> to finish creatin</span><a id="_idTextAnchor1054" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.219.1">g this </span><span><span class="kobospan" id="kobo.220.1">item prototype.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.221.1">Now, back at our </span><strong class="bold"><span class="kobospan" id="kobo.222.1">Discover Network interfaces</span></strong><span class="kobospan" id="kobo.223.1"> discovery rule, click the </span><strong class="bold"><span class="kobospan" id="kobo.224.1">Graph </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.225.1">prototypes</span></strong></span><span><span class="kobospan" id="kobo.226.1"> button.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.227.1">In the top-right corner, click </span><strong class="bold"><span class="kobospan" id="kobo.228.1">Create graph prototype</span></strong><span class="kobospan" id="kobo.229.1"> and fill in the next page with the </span><span><span class="kobospan" id="kobo.230.1">following informa</span><a id="_idTextAnchor1055" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.231.1">tion:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer295">
<span class="kobospan" id="kobo.232.1"><img alt="Figure 6.9 – Graph prototype – the Incoming bits page filled with our information" src="image/B19803_06_009.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.233.1">Figure 6.9 – Graph prototype – the Incoming bits page filled with our information</span></p>
<ol class="calibre16">
<li value="8" class="calibre15"><span class="kobospan" id="kobo.234.1">Now, </span><a id="_idTextAnchor1056" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.235.1">if we go</span><a id="_idIndexMarker410" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.236.1"> back</span><a id="_idIndexMarker411" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.237.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.238.1">Monitoring</span></strong><span class="kobospan" id="kobo.239.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.240.1">Ho</span><a id="_idTextAnchor1057" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.241.1">sts</span></strong><span class="kobospan" id="kobo.242.1"> and click the </span><strong class="bold"><span class="kobospan" id="kobo.243.1">Graphs</span></strong><span class="kobospan" id="kobo.244.1"> button, we’ll see two </span><span><span class="kobospan" id="kobo.245.1">new g</span><a id="_idTextAnchor1058" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.246.1">raphs:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer296">
<span class="kobospan" id="kobo.247.1"><img alt="Figure 6.10 – Graphs page for our host" src="image/B19803_06_010.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.248.1">Figure 6.10 – Graphs page for our host</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.249.1">It might take some </span><a id="_idIndexMarker412" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.250.1">time</span><a id="_idIndexMarker413" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.251.1"> for the graph to fill with data since we’ve only just added the item. </span><span class="kobospan" id="kobo.251.2">Give it some time and you will start to see them </span><a id="_idTextAnchor1059" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1060" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.252.1">fill up.</span></span></p>
<h2 id="_idParaDest-190" class="calibre7"><a id="_idTextAnchor1061" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.253.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.254.1">Graphs work by putting your collected values in a visual form. </span><span class="kobospan" id="kobo.254.2">We collect our data </span><a id="_idTextAnchor1062" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.255.1">from our host – through SNMP, for example </span><a id="_idTextAnchor1063" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.256.1">– and we put that data in our database. </span><span class="kobospan" id="kobo.256.2">Our graphs, in turn, collect this data from the database and put it in this visual form. </span><span class="kobospan" id="kobo.256.3">For humans, this is a lot better to read, and we can interpret the </span><span><span class="kobospan" id="kobo.257.1">data easily.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.258.1">The graph prototype works in almost the same way as our item prototype. </span><span class="kobospan" id="kobo.258.2">For every di</span><a id="_idTextAnchor1064" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.259.1">scovered interface, we create a graph usin</span><a id="_idTextAnchor1065" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.260.1">g a name containing the </span><strong class="source-inline"><span class="kobospan" id="kobo.261.1">{#IFNAME}</span></strong> <strong class="bold"><span class="kobospan" id="kobo.262.1">low-level discovery</span></strong><span class="kobospan" id="kobo.263.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.264.1">LLD</span></strong><span class="kobospan" id="kobo.265.1">) macro. </span><span class="kobospan" id="kobo.265.2">This</span><a id="_idIndexMarker414" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.266.1"> way, we get a versatile s</span><a id="_idTextAnchor1066" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.267.1">tructured environment because when a new </span><a id="_idIndexMarker415" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.268.1">interface</span><a id="_idIndexMarker416" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.269.1"> is created (or deleted), a new graph is also created (</span><span><span class="kobospan" id="kobo.270.1">o</span><a id="_idTextAnchor1067" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1068" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.271.1">r deleted).</span></span></p>
<h1 id="_idParaDest-191" class="calibre5"><a id="_idTextAnchor1069" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.272.1">Creating maps to keep an eye on infrastructure</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.273.1">Maps in Zabbix are a</span><a id="_idIndexMarker417" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.274.1"> great way to get an overview of infrastructure. </span><span class="kobospan" id="kobo.274.2">For instance, the</span><a id="_idTextAnchor1070" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.275.1">y’re amazing for following traffic flows or seeing where something is going off in your environment. </span><span class="kobospan" id="kobo.275.2">They’re not only super-useful for network overviews but also for server management overviews, and even for a lot of </span><span><span class="kobospan" id="kobo.276.1">cool customization.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.277.1">Maps are super useful, and we use them a lot in environments we build. </span><span class="kobospan" id="kobo.277.2">Since we love maps so much, we’ve also taken the liberty of opening a feature request suggesting some collected map improvements to make them even </span><span><span class="kobospan" id="kobo.278.1">better: </span></span><a href="https://support.zabbix.com/browse/ZBXNEXT-7680" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.279.1">https://support.zabbix.com/browse/Z</span><span id="_idTextAnchor1071"/><span id="_idTextAnchor1072"/><span class="kobospan" id="kobo.280.1">BXNEXT-7680</span></span></a><span><span class="kobospan" id="kobo.281.1">.</span></span></p>
<h2 id="_idParaDest-192" class="calibre7"><a id="_idTextAnchor1073" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.282.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.283.1">We will need our Zabbix server, our SNMP-monitored host, and the templates from the </span><span><span class="kobospan" id="kobo.284.1">prev</span><a id="_idTextAnchor1074" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1075" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.285.1">ious recipe.</span></span></p>
<h2 id="_idParaDest-193" class="calibre7"><a id="_idTextAnchor1076" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.286.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.287.1">Follow </span><span><span class="kobospan" id="kobo.288.1">these steps:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.289.1">Let’s start this recipe off by navigating to </span><strong class="bold"><span class="kobospan" id="kobo.290.1">Data collection</span></strong><span class="kobospan" id="kobo.291.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.292.1">Templates</span></strong><span class="kobospan" id="kobo.293.1"> and selecting our </span><strong class="bold"><span class="kobospan" id="kobo.294.1">Custom Linux by </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.295.1">SNMP</span></strong></span><span><span class="kobospan" id="kobo.296.1"> template.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.297.1">Go to </span><strong class="bold"><span class="kobospan" id="kobo.298.1">Discovery rules</span></strong><span class="kobospan" id="kobo.299.1"> and then </span><strong class="bold"><span class="kobospan" id="kobo.300.1">Item prototypes</span></strong><span class="kobospan" id="kobo.301.1">. </span><span class="kobospan" id="kobo.301.2">Create the following item prototype by filling in the fields on the </span><strong class="bold"><span class="kobospan" id="kobo.302.1">Item prototype</span></strong> <span><span class="kobospan" id="kobo.303.1">cre</span><a id="_idTextAnchor1077" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.304.1">ation page:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer297">
<span class="kobospan" id="kobo.305.1"><img alt="Figure 6.11 – Item prototype creation page﻿" src="image/B19803_06_011.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.306.1">Figure 6.11 – Item prototype creation page</span><a id="_idTextAnchor1078" class="pcalibre calibre6 pcalibre1"/></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.307.1">We’ll also need</span><a id="_idIndexMarker418" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.308.1"> to go to </span><strong class="bold"><span class="kobospan" id="kobo.309.1">Tags</span></strong><span class="kobospan" id="kobo.310.1"> to add a new tag, as shown in the </span><span><span class="kobospan" id="kobo.311.1">following </span><a id="_idTextAnchor1079" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.312.1">screenshot:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer298">
<span class="kobospan" id="kobo.313.1"><img alt="Figure 6.12 – Item prototype creation page – the Tags tab" src="image/B19803_06_012.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.314.1">Figure 6.12 – Item prototype creation page – the Tags tab</span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.315.1">Lastly, don’t forget to add preprocessing by going to the </span><span><strong class="bold"><span class="kobospan" id="kobo.316.1">Preproce</span><a id="_idTextAnchor1080" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.317.1">ssing</span></strong></span><span><span class="kobospan" id="kobo.318.1"> tab:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer299">
<span class="kobospan" id="kobo.319.1"><img alt="Figure 6.13 – Item prototype – the Preprocessing tab" src="image/B19803_06_013.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.320.1">Figure 6.13 – Item prototype – the Preprocessing tab</span></p>
<ol class="calibre16">
<li value="5" class="calibre15"><span class="kobospan" id="kobo.321.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.322.1">Add</span></strong><span class="kobospan" id="kobo.323.1"> button </span><span><span class="kobospan" id="kobo.324.1">to finish.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.325.1">Next, navigate to </span><strong class="bold"><span class="kobospan" id="kobo.326.1">Monitoring</span></strong><span class="kobospan" id="kobo.327.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.328.1">Maps</span></strong><span class="kobospan" id="kobo.329.1">. </span><span class="kobospan" id="kobo.329.2">There’s already a default map here that’s included</span><a id="_idIndexMarker419" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.330.1"> in all Zabbix server installs called </span><strong class="bold"><span class="kobospan" id="kobo.331.1">Local network</span></strong><span class="kobospan" id="kobo.332.1">. </span><span class="kobospan" id="kobo.332.2">Feel free to che</span><a id="_idTextAnchor1081" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.333.1">ck </span><span><span class="kobospan" id="kobo.334.1">it out:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer300">
<span class="kobospan" id="kobo.335.1"><img alt="Figure 6.14 – The default local network map" src="image/B19803_06_014.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.336.1">Figure 6.14 – The default local network map</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.337.1">T</span><a id="_idTextAnchor1082" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.338.1">here’s not much to see here besides your local Zabbix server host and whether it is in a problem state or not. </span><span class="kobospan" id="kobo.338.2">So, let’s click on </span><span><strong class="bold"><span class="kobospan" id="kobo.339.1">All maps</span></strong></span><span><span class="kobospan" id="kobo.340.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.341.1">We’re going to create our own map, so click the </span><strong class="bold"><span class="kobospan" id="kobo.342.1">Create map</span></strong><span class="kobospan" id="kobo.343.1"> button in the top-right corner. </span><span class="kobospan" id="kobo.343.2">Create the map by filling in the </span><span><span class="kobospan" id="kobo.344.1">followin</span><a id="_idTextAnchor1083" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.345.1">g fields:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer301">
<span class="kobospan" id="kobo.346.1"><img alt="Figure 6.15 – Map creation page" src="image/B19803_06_015.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.347.1">Figure 6.15 – Map creation page</span></p>
<ol class="calibre16">
<li value="9" class="calibre15"><span class="kobospan" id="kobo.348.1">After clicking </span><a id="_idIndexMarker420" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.349.1">the blue </span><strong class="bold"><span class="kobospan" id="kobo.350.1">Add</span></strong><span class="kobospan" id="kobo.351.1"> button, the frontend will take you back to the </span><strong class="bold"><span class="kobospan" id="kobo.352.1">Map</span></strong><span class="kobospan" id="kobo.353.1"> overview page. </span><span class="kobospan" id="kobo.353.2">Click the newly created </span><strong class="source-inline1"><span class="kobospan" id="kobo.354.1">Templated SNMP host </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.355.1">map</span></strong></span><span><span class="kobospan" id="kobo.356.1"> here.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.357.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.358.1">Edit map</span></strong><span class="kobospan" id="kobo.359.1"> in the top-right corner to start editing </span><span><span class="kobospan" id="kobo.360.1">the map.</span></span><a id="_idTextAnchor1084" class="pcalibre calibre6 pcalibre1"/></li>
<li class="calibre15"><span class="kobospan" id="kobo.361.1">Now, what we want to do here is select the </span><strong class="bold"><span class="kobospan" id="kobo.362.1">Add</span></strong><span class="kobospan" id="kobo.363.1"> button next to </span><strong class="bold"><span class="kobospan" id="kobo.364.1">Map element</span></strong><span class="kobospan" id="kobo.365.1">, which is in the horizontal menu at the top of the map. </span><span class="kobospan" id="kobo.365.2">This will add the </span><span><span class="kobospan" id="kobo.366.1">following</span><a id="_idTextAnchor1085" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.367.1"> element:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer302">
<span class="kobospan" id="kobo.368.1"><img alt="Figure 6.16 – The added element" src="image/B19803_06_016.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.369.1">Figure 6.16 – The added element</span></p>
<ol class="calibre16">
<li value="12" class="calibre15"><span class="kobospan" id="kobo.370.1">Click the newly</span><a id="_idIndexMarker421" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.371.1"> added element. </span><span class="kobospan" id="kobo.371.2">This will open the </span><span><span class="kobospan" id="kobo.372.1">followin</span><a id="_idTextAnchor1086" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.373.1">g screen:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer303">
<span class="kobospan" id="kobo.374.1"><img alt="Figure 6.17 – The  Map element edit win﻿dow" src="image/B19803_06_017.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.375.1">Figure 6.17 – The  Map element edit win</span><a id="_idTextAnchor1087" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.376.1">dow</span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.377.1">Here, we can fill out our host information. </span><span class="kobospan" id="kobo.377.2">Let’s add the following information to </span><span><span class="kobospan" id="kobo.378.1">the</span><a id="_idTextAnchor1088" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.379.1"> fields:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer304">
<span class="kobospan" id="kobo.380.1"><img alt="Figure 6.18 – Map element – lar-book-templated_snmp" src="image/B19803_06_018.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.381.1">Figure 6.18 – Map element – lar-book-templated_snmp</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.382.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.383.1">Apply</span></strong><span class="kobospan" id="kobo.384.1"> and </span><a id="_idIndexMarker422" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.385.1">move the element by dragging it to </span><strong class="bold"><span class="kobospan" id="kobo.386.1">X</span></strong><span class="kobospan" id="kobo.387.1">:</span><strong class="source-inline"><span class="kobospan" id="kobo.388.1">400</span></strong><span class="kobospan" id="kobo.389.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.390.1">Y</span></strong><span class="kobospan" id="kobo.391.1">:</span><strong class="source-inline"><span class="kobospan" id="kobo.392.1">100</span></strong><span class="kobospan" id="kobo.393.1"> (see </span><span><em class="italic"><span class="kobospan" id="kobo.394.1">Figure 6</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.395.1">.20</span></em></span><span><span class="kobospan" id="kobo.396.1">).</span></span><a id="_idTextAnchor1089" class="pcalibre calibre6 pcalibre1"/></p>
<ol class="calibre16">
<li value="14" class="calibre15"><span class="kobospan" id="kobo.397.1">Now, add another element by clicking the </span><strong class="bold"><span class="kobospan" id="kobo.398.1">Add</span></strong><span class="kobospan" id="kobo.399.1"> button next to </span><strong class="bold"><span class="kobospan" id="kobo.400.1">Map element</span></strong><span class="kobospan" id="kobo.401.1">. </span><span class="kobospan" id="kobo.401.2">Edit the new element and add the </span><span><span class="kobospan" id="kobo.402.1">following info</span><a id="_idTextAnchor1090" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.403.1">rmation:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer305">
<span class="kobospan" id="kobo.404.1"><img alt="Figure 6.19 – Map element vSwitch edit window filled with information" src="image/B19803_06_019.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.405.1">Figure 6.19 – Map element vSwitch edit window filled with information</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.406.1">After creating</span><a id="_idIndexMarker423" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.407.1"> both elements, move the new switch element to </span><strong class="bold"><span class="kobospan" id="kobo.408.1">X</span></strong><span class="kobospan" id="kobo.409.1">:</span><strong class="source-inline"><span class="kobospan" id="kobo.410.1">150</span></strong><span class="kobospan" id="kobo.411.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.412.1">Y</span></strong><span class="kobospan" id="kobo.413.1">:</span><strong class="source-inline"><span class="kobospan" id="kobo.414.1">80</span></strong><span class="kobospan" id="kobo.415.1">, as seen in </span><span><em class="italic"><span class="kobospan" id="kobo.416.1">Figure 6</span></em></span><span><em class="italic"><span class="kobospan" id="kobo.417.1">.20</span></em></span><span><span class="kobospan" id="kobo.418.1">.</span></span></p>
<ol class="calibre16">
<li value="15" class="calibre15"><span class="kobospan" id="kobo.419.1">Now, se</span><a id="_idTextAnchor1091" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.420.1">lect both elements by holding the </span><em class="italic"><span class="kobospan" id="kobo.421.1">Ctrl</span></em><span class="kobospan" id="kobo.422.1"> key (</span><em class="italic"><span class="kobospan" id="kobo.423.1">command</span></em><span class="kobospan" id="kobo.424.1"> on Mac) on </span><span><span class="kobospan" id="kobo.425.1">your keyboard.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.426.1">Then, click </span><strong class="bold"><span class="kobospan" id="kobo.427.1">Add</span></strong><span class="kobospan" id="kobo.428.1"> next to </span><strong class="bold"><span class="kobospan" id="kobo.429.1">Link</span></strong><span class="kobospan" id="kobo.430.1"> to add a link between the two elements. </span><span class="kobospan" id="kobo.430.2">It should now look </span><span><span class="kobospan" id="kobo.431.1">li</span><a id="_idTextAnchor1092" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.432.1">ke this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer306">
<span class="kobospan" id="kobo.433.1"><img alt="Figure 6.20 – Our newly created map" src="image/6.20.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.434.1">Figure 6.20 – Our newly created map</span></p>
<ol class="calibre16">
<li value="17" class="calibre15"><span class="kobospan" id="kobo.435.1">Edit the </span><a id="_idIndexMarker424" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.436.1">information for our server again after creating the link by clicking on our icon. </span><span class="kobospan" id="kobo.436.2">Click on </span><strong class="bold"><span class="kobospan" id="kobo.437.1">Edit</span></strong><span class="kobospan" id="kobo.438.1"> next to the newly created link, as shown in the </span><span><span class="kobospan" id="kobo.439.1">following scr</span><a id="_idTextAnchor1093" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.440.1">eenshot:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer307">
<span class="kobospan" id="kobo.441.1"><img alt="Figure 6.21 – The Edit link in the Map element edit window﻿" src="image/B19803_06_021.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.442.1">Figure 6.21 – The Edit link in the Map element edit window</span><a id="_idTextAnchor1094" class="pcalibre calibre6 pcalibre1"/></p>
<ol class="calibre16">
<li value="18" class="calibre15"><span class="kobospan" id="kobo.443.1">Add the following information to </span><span><span class="kobospan" id="kobo.444.1">the </span><a id="_idTextAnchor1095" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.445.1">window:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer308">
<span class="kobospan" id="kobo.446.1"><img alt="Figure 6.22 – Editing the link in the Map element edit window with our information" src="image/B19803_06_022.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.447.1">Figure 6.22 – Editing the link in the Map element edit window with our information</span></p>
<p class="callout-heading"><span class="kobospan" id="kobo.448.1">Important information</span></p>
<p class="callout"><span class="kobospan" id="kobo.449.1">Make sure the hostname (in this example, </span><strong class="source-inline1"><span class="kobospan" id="kobo.450.1">lar-book-templated_snmp</span></strong><span class="kobospan" id="kobo.451.1">) is an exact match with the hostname in your Zabbix system. </span><span class="kobospan" id="kobo.451.2">We’re requesting data specifically from that host. </span><span class="kobospan" id="kobo.451.3">We cannot omit the hostname or use macros such as </span><strong class="source-inline1"><span class="kobospan" id="kobo.452.1">{HOST.HOST}</span></strong><span class="kobospan" id="kobo.453.1"> here since the link belongs to two hosts and Zabbix won’t understand </span><span><span class="kobospan" id="kobo.454.1">the context.</span></span></p>
<ol class="calibre16">
<li value="19" class="calibre15"><span class="kobospan" id="kobo.455.1">Let’s also click </span><strong class="bold"><span class="kobospan" id="kobo.456.1">Add</span></strong><span class="kobospan" id="kobo.457.1"> in the </span><strong class="bold"><span class="kobospan" id="kobo.458.1">Link indicators</span></strong><span class="kobospan" id="kobo.459.1"> section and add the following trigger with the </span><span><span class="kobospan" id="kobo.460.1">colo</span><a id="_idTextAnchor1096" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.461.1">r red:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer309">
<span class="kobospan" id="kobo.462.1"><img alt="Figure 6.23 – Link indicator filled with a trigger" src="image/B19803_06_023.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.463.1">Figure 6.23 – Link indicator filled with a trigger</span></p>
<ol class="calibre16">
<li value="20" class="calibre15"><span class="kobospan" id="kobo.464.1">Now, click </span><strong class="bold"><span class="kobospan" id="kobo.465.1">Apply</span></strong><span class="kobospan" id="kobo.466.1"> at</span><a id="_idIndexMarker425" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.467.1"> the bottom of the window and then </span><strong class="bold"><span class="kobospan" id="kobo.468.1">Update</span></strong><span class="kobospan" id="kobo.469.1"> in the to</span><a id="_idTextAnchor1097" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.470.1">p-right corner of the page. </span><span class="kobospan" id="kobo.470.2">That’s our first </span><span><span class="kobospan" id="kobo.471.1">map c</span><a id="_idTextAnchor1098" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1099" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.472.1">reated!</span></span></li>
</ol>
<h2 id="_idParaDest-194" class="calibre7"><a id="_idTextAnchor1100" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.473.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.474.1">After creating and opening our map, we’ll see </span><span><span class="kobospan" id="kobo.475.1">the foll</span><a id="_idTextAnchor1101" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.476.1">owing:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer310">
<span class="kobospan" id="kobo.477.1"><img alt="Figure 6.24 – Our newly created map" src="image/B19803_06_024.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.478.1">Figure 6.24 – Our newly created map</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.479.1">The map shows our switch (which is not a monitored host at the moment) and our server (which is a monitored host). </span><span class="kobospan" id="kobo.479.2">This means that when something is wrong with our server, the </span><strong class="bold"><span class="kobospan" id="kobo.480.1">OK</span></strong><span class="kobospan" id="kobo.481.1"> status will turn into a </span><strong class="bold"><span class="kobospan" id="kobo.482.1">PROBLEM</span></strong><span class="kobospan" id="kobo.483.1"> status on </span><span><span class="kobospan" id="kobo.484.1">the map.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.485.1">We can also see our configured label (see </span><span><em class="italic"><span class="kobospan" id="kobo.486.1">Figure 6</span></em></span><em class="italic"><span class="kobospan" id="kobo.487.1">.24)</span></em><span class="kobospan" id="kobo.488.1">, which shows us real-time information on traffic statistics. </span><span class="kobospan" id="kobo.488.2">Now, when we break down the label, we get </span><span><span class="kobospan" id="kobo.489.1">the follo</span><a id="_idTextAnchor1102" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.490.1">wing:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer311">
<span class="kobospan" id="kobo.491.1"><img alt="Figure 6.25 – Map label breakdown" src="image/B19803_06_025.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.492.1">Figure 6.25 – Map label breakdown</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.493.1">We can pull </span><a id="_idIndexMarker426" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.494.1">real-time statistics into a label by defining which statistics we want to pull into the</span><a id="_idTextAnchor1103" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.495.1"> label between </span><strong class="source-inline"><span class="kobospan" id="kobo.496.1">{}</span></strong><span class="kobospan" id="kobo.497.1">. </span><span class="kobospan" id="kobo.497.2">In this case, we collect our values for interface traffic and put them directly in the label, creating a real-time traffic </span><span><span class="kobospan" id="kobo.498.1">analysis map.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.499.1">We also put a trigger on this link. </span><span class="kobospan" id="kobo.499.2">The cool thing about putting triggers such as this on our map is that when our link goes down, we can see the </span><span><span class="kobospan" id="kobo.500.1">following ha</span><a id="_idTextAnchor1104" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.501.1">ppen:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer312">
<span class="kobospan" id="kobo.502.1"><img alt="Figure 6.26 – Map showing problems" src="image/B19803_06_026.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.503.1">Figure 6.26 – Map showing problems</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.504.1">Traffic has stopped flowing because the link is now down, and our line has turned red. </span><span class="kobospan" id="kobo.504.2">Also, our host is now showing a </span><strong class="bold"><span class="kobospan" id="kobo.505.1">PROBLEM</span></strong><span class="kobospan" id="kobo.506.1"> state under </span><span><span class="kobospan" id="kobo.507.1">the hostname.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.508.1">We can</span><a id="_idTextAnchor1105" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.509.1"> even</span><a id="_idIndexMarker427" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.510.1"> create orange lines with trigger</span><a id="_idTextAnchor1106" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.511.1">s that state 50% traffic utilization like this and trace </span><strong class="bold"><span class="kobospan" id="kobo.512.1">Distributed Denial-of-Service</span></strong><span class="kobospan" id="kobo.513.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.514.1">DDoS</span></strong><span class="kobospan" id="kobo.515.1">) traffic</span><a id="_idIndexMarker428" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.516.1"> through </span><span><span class="kobospan" id="kobo.517.1">our n</span><a id="_idTextAnchor1107" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1108" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.518.1">etwork.</span></span></p>
<h1 id="_idParaDest-195" class="calibre5"><a id="_idTextAnchor1109" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.519.1">Creating dashboards to get the right overview</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.520.1">Now that we’ve</span><a id="_idIndexMarker429" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.521.1"> created some graphs and a </span><a id="_idIndexMarker430" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.522.1">map, let’s continue by not only visual</span><a id="_idTextAnchor1110" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.523.1">izing our data but also getting the visualization in an overview. </span><span class="kobospan" id="kobo.523.2">In this recipe, we’re going to create a dashboard for our </span><span><span class="kobospan" id="kobo.524.1">Linux-monitor</span><a id="_idTextAnchor1111" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1112" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.525.1">ed hosts.</span></span></p>
<h2 id="_idParaDest-196" class="calibre7"><a id="_idTextAnchor1113" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.526.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.527.1">Make sure you followed the previous two recipes and that you have your Zabbix server ready. </span><span class="kobospan" id="kobo.527.2">We’ll be using our SNMP-monitored host from the previous recipe, as well as some items, triggers, and a map we </span><span><span class="kobospan" id="kobo.528.1">created earlier.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.529.1">Feel free to substitute any items you might not have with anything else from your environment. </span><span class="kobospan" id="kobo.529.2">With dashboards, the most important thing is to play around with data, something you can do once you understand the concept of </span><a id="_idTextAnchor1114" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1115" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.530.1">a widget.</span></span></p>
<h2 id="_idParaDest-197" class="calibre7"><a id="_idTextAnchor1116" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.531.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.532.1">Follow </span><span><span class="kobospan" id="kobo.533.1">these steps:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.534.1">From the sidebar, navigate to </span><strong class="bold"><span class="kobospan" id="kobo.535.1">Dashboards</span></strong><span class="kobospan" id="kobo.536.1"> and click </span><strong class="bold"><span class="kobospan" id="kobo.537.1">All dashboards</span></strong><span class="kobospan" id="kobo.538.1"> in the left corner of </span><span><span class="kobospan" id="kobo.539.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.540.1">Now, click the </span><strong class="bold"><span class="kobospan" id="kobo.541.1">Create dashboard</span></strong><span class="kobospan" id="kobo.542.1"> button in the top-right corner and fill in your dashboard’s name, </span><span><span class="kobospan" id="kobo.543.1">li</span><a id="_idTextAnchor1117" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.544.1">ke this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer313">
<span class="kobospan" id="kobo.545.1"><img alt="Figure 6.27 – The Dashboard properties area" src="image/B19803_06_027.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.546.1">Figure 6.27 – The Dashboard properties area</span></p>
<p class="calibre3"><strong class="bold"><span class="kobospan" id="kobo.547.1">Start slideshow automatically</span></strong><span class="kobospan" id="kobo.548.1"> is enabled here, but it’s only useful if you want to use this dashboard in a slideshow, such as on a big screen (TV) in a </span><strong class="bold"><span class="kobospan" id="kobo.549.1">Network Operating Center</span></strong><span class="kobospan" id="kobo.550.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.551.1">NOC</span></strong><span class="kobospan" id="kobo.552.1">) room. </span><span class="kobospan" id="kobo.552.2">I always disable it for dashboards that are used</span><a id="_idIndexMarker431" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.553.1"> on</span><a id="_idIndexMarker432" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.554.1"> personal computers so that my pages don’t jump around </span><span><span class="kobospan" id="kobo.555.1">while troubleshooting.</span></span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.556.1">I’ve also opened a case to ask Zabbix to change the default </span><span><span class="kobospan" id="kobo.557.1">behavior: </span></span><a href="https://support.zabbix.com/browse/ZBXNEXT-7713" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.558.1">https://support.zabbix.com/browse/ZBXNEXT-7713</span></span></a><span><span class="kobospan" id="kobo.559.1">.</span></span></li>
</ol>
<p class="callout-heading"><span class="kobospan" id="kobo.560.1">Tip</span></p>
<p class="callout"><span class="kobospan" id="kobo.561.1">Keeping Zabbix elements such as maps and dashboards that are meant to be used by entire departments owned by the Zabbix </span><strong class="bold"><span class="kobospan" id="kobo.562.1">Admin</span></strong><span class="kobospan" id="kobo.563.1"> user is a good idea. </span><span class="kobospan" id="kobo.563.2">This way, they aren’t dependent on a single user who might leave your environment at a later stage, which means we have to change the map owner once we want to delete their account. </span><span class="kobospan" id="kobo.563.3">The elements can be owned by a disabled user as well. </span><span class="kobospan" id="kobo.563.4">If you’re not a super admin, don’t forget to share the dashboard with yourself before changing </span><span><span class="kobospan" id="kobo.564.1">the owner.</span></span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.565.1">Now, cl</span><a id="_idTextAnchor1118" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.566.1">ick </span><strong class="bold"><span class="kobospan" id="kobo.567.1">Apply</span></strong><span class="kobospan" id="kobo.568.1">; you’ll be taken to </span><span><span class="kobospan" id="kobo.569.1">your d</span><a id="_idTextAnchor1119" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.570.1">ashboard:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer314">
<span class="kobospan" id="kobo.571.1"><img alt="Figure 6.28 – New empty dashboard" src="image/B19803_06_028.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.572.1">Figure 6.28 – New empty dashboard</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.573.1">After creating </span><a id="_idIndexMarker433" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.574.1">our</span><a id="_idIndexMarker434" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.575.1"> dashboard, we will see that it is empty. </span><span class="kobospan" id="kobo.575.2">We need to fill it with several widgets to create a </span><span><span class="kobospan" id="kobo.576.1">good overview.</span></span></p>
<ol class="calibre16">
<li value="5" class="calibre15"><a id="_idTextAnchor1120" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.577.1">Let’s start by adding a problem widget. </span><span class="kobospan" id="kobo.577.2">Click </span><strong class="bold"><span class="kobospan" id="kobo.578.1">+ Add</span></strong><span class="kobospan" id="kobo.579.1"> in the top-right corner. </span><span class="kobospan" id="kobo.579.2">Add the following widget by filling out all </span><span><span class="kobospan" id="kobo.580.1">t</span><a id="_idTextAnchor1121" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.581.1">he fields:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer315">
<span class="kobospan" id="kobo.582.1"><img alt="Figure 6.29 – New problem widget creation window" src="image/B19803_06_029.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.583.1">Figure 6.29 – New problem widget creation window</span></p>
<ol class="calibre16">
<li value="6" class="calibre15"><span class="kobospan" id="kobo.584.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.585.1">Add</span></strong><span class="kobospan" id="kobo.586.1">. </span><span class="kobospan" id="kobo.586.2">By doing this, we’ll have our first widget on our dashboard, displaying all </span><strong class="bold"><span class="kobospan" id="kobo.587.1">Unacknowledged problems</span></strong><span class="kobospan" id="kobo.588.1">. </span><span class="kobospan" id="kobo.588.2">It will only show them for the </span><strong class="bold"><span class="kobospan" id="kobo.589.1">Severity</span></strong><span class="kobospan" id="kobo.590.1"> warning and higher on all </span><span><span class="kobospan" id="kobo.591.1">Linux</span><a id="_idTextAnchor1122" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.592.1"> servers:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer316">
<span class="kobospan" id="kobo.593.1"><img alt="Figure 6.30 – The Unacknowledged problems widget" src="image/B19803_06_030.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.594.1">Figure 6.30 – The Unacknowledged problems widget</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.595.1">Let’s im</span><a id="_idTextAnchor1123" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.596.1">mediately</span><a id="_idIndexMarker435" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.597.1"> add</span><a id="_idIndexMarker436" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.598.1"> some more widgets, starting with our </span><strong class="bold"><span class="kobospan" id="kobo.599.1">Map</span></strong><span class="kobospan" id="kobo.600.1"> widget. </span><span class="kobospan" id="kobo.600.2">Click </span><strong class="bold"><span class="kobospan" id="kobo.601.1">+ Add</span></strong><span class="kobospan" id="kobo.602.1"> in the top-right corner and add the </span><span><span class="kobospan" id="kobo.603.1">followi</span><a id="_idTextAnchor1124" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.604.1">ng widget:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer317">
<span class="kobospan" id="kobo.605.1"><img alt="Figure 6.31 – The Add widget page" src="image/B19803_06_031.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.606.1">Figure 6.31 – The Add widget page</span></p>
<ol class="calibre16">
<li value="8" class="calibre15"><span class="kobospan" id="kobo.607.1">Also, add a </span><strong class="bold"><span class="kobospan" id="kobo.608.1">Graph</span></strong><span class="kobospan" id="kobo.609.1"> type widget by clicking </span><strong class="bold"><span class="kobospan" id="kobo.610.1">+ Add</span></strong><span class="kobospan" id="kobo.611.1"> in the top-right corner again. </span><span class="kobospan" id="kobo.611.2">This one is a bit more difficult. </span><span class="kobospan" id="kobo.611.3">Let’s add our </span><span><span class="kobospan" id="kobo.612.1">na</span><a id="_idTextAnchor1125" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.613.1">me first:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer318">
<span class="kobospan" id="kobo.614.1"><img alt="Figure 6.32 – New graph widget creation window﻿" src="image/B19803_06_032.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.615.1">Figure 6.32 – New graph widget creation window</span><a id="_idTextAnchor1126" class="pcalibre calibre6 pcalibre1"/></p>
<ol class="calibre16">
<li value="9" class="calibre15"><span class="kobospan" id="kobo.616.1">Then, we need to add our first </span><strong class="bold"><span class="kobospan" id="kobo.617.1">Data set</span></strong><span class="kobospan" id="kobo.618.1">, </span><span><span class="kobospan" id="kobo.619.1">li</span><a id="_idTextAnchor1127" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.620.1">ke this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer319">
<span class="kobospan" id="kobo.621.1"><img alt="Figure 6.33 – Adding a dataset" src="image/B19803_06_033.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.622.1">Figure 6.33 – Adding a dataset</span></p>
<ol class="calibre16">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.623.1">Then, add a </span><a id="_idIndexMarker437" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.624.1">second </span><a id="_idIndexMarker438" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.625.1">one by clicking </span><strong class="bold"><span class="kobospan" id="kobo.626.1">+ Add new data set</span></strong><span class="kobospan" id="kobo.627.1"> and adding </span><span><span class="kobospan" id="kobo.628.1">the f</span><a id="_idTextAnchor1128" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.629.1">ollowing:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer320">
<span class="kobospan" id="kobo.630.1"><img alt="Figure 6.34 – Adding another dataset" src="image/B19803_06_034.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.631.1">Figure 6.34 – Adding another dataset</span></p>
<ol class="calibre16">
<li value="11" class="calibre15"><span class="kobospan" id="kobo.632.1">We can then click </span><strong class="bold"><span class="kobospan" id="kobo.633.1">Add</span></strong><span class="kobospan" id="kobo.634.1">, and our graph will be added to </span><span><span class="kobospan" id="kobo.635.1">our dashboard.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.636.1">L</span><a id="_idTextAnchor1129" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.637.1">et’s also add the </span><strong class="bold"><span class="kobospan" id="kobo.638.1">Item value</span></strong><span class="kobospan" id="kobo.639.1"> widget to the page. </span><span class="kobospan" id="kobo.639.2">Click on </span><strong class="bold"><span class="kobospan" id="kobo.640.1">+ Add</span></strong><span class="kobospan" id="kobo.641.1"> again. </span><span class="kobospan" id="kobo.641.2">Then, set up the </span><span><span class="kobospan" id="kobo.642.1">following</span><a id="_idTextAnchor1130" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.643.1"> widget:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer321">
<span class="kobospan" id="kobo.644.1"><img alt="Figure 6.35 – Adding the Item value widget" src="image/B19803_06_035.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.645.1">Figure 6.35 – Adding the Item value widget</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.646.1">If you’re interested </span><a id="_idIndexMarker439" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.647.1">in</span><a id="_idIndexMarker440" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.648.1"> changing exactly how this widget looks, be sure to use the </span><strong class="bold"><span class="kobospan" id="kobo.649.1">Advanced configuration</span></strong><span class="kobospan" id="kobo.650.1"> fields in this widget </span><span><span class="kobospan" id="kobo.651.1">configuration screen.</span></span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.652.1">Another widget we love is the very useful new </span><strong class="bold"><span class="kobospan" id="kobo.653.1">Top hosts</span></strong><span class="kobospan" id="kobo.654.1"> widget. </span><span class="kobospan" id="kobo.654.2">Let’s add it by using the </span><strong class="bold"><span class="kobospan" id="kobo.655.1">+ Add</span></strong> <span><span class="kobospan" id="kobo.656.1">button again.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.657.1">On the widget configuration screen, set </span><strong class="bold"><span class="kobospan" id="kobo.658.1">Host groups</span></strong><span class="kobospan" id="kobo.659.1"> to </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.660.1">Linux servers</span></strong></span><span><span class="kobospan" id="kobo.661.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.662.1">N</span><a id="_idTextAnchor1131" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.663.1">ext, click on the </span><strong class="bold"><span class="kobospan" id="kobo.664.1">Add</span></strong><span class="kobospan" id="kobo.665.1"> button next to </span><strong class="bold"><span class="kobospan" id="kobo.666.1">Columns</span></strong><span class="kobospan" id="kobo.667.1"> to add a column with information. </span><span class="kobospan" id="kobo.667.2">Fill out the form </span><span><span class="kobospan" id="kobo.668.1">l</span><a id="_idTextAnchor1132" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.669.1">ike this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer322">
<span class="kobospan" id="kobo.670.1"><img alt="Figure 6.36 – Top hosts widget 1, column 1" src="image/B19803_06_036.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.671.1">Figure 6.36 – Top hosts widget 1, column 1</span></p>
<ol class="calibre16">
<li value="16" class="calibre15"><span class="kobospan" id="kobo.672.1">Click on</span><a id="_idIndexMarker441" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.673.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.674.1">Add</span></strong><span class="kobospan" id="kobo.675.1"> button</span><a id="_idIndexMarker442" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.676.1"> next to </span><strong class="bold"><span class="kobospan" id="kobo.677.1">Columns</span></strong><span class="kobospan" id="kobo.678.1"> again and add </span><span><span class="kobospan" id="kobo.679.1">the </span><a id="_idTextAnchor1133" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.680.1">following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer323">
<span class="kobospan" id="kobo.681.1"><img alt="Figure 6.37 – Top hosts widget 1, co﻿lumn 2" src="image/B19803_06_037.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.682.1">Figure 6.37 – Top hosts widget 1, co</span><a id="_idTextAnchor1134" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.683.1">lumn 2</span></p>
<ol class="calibre16">
<li value="17" class="calibre15"><span class="kobospan" id="kobo.684.1">The result should look </span><span><span class="kobospan" id="kobo.685.1">l</span><a id="_idTextAnchor1135" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.686.1">ike this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer324">
<span class="kobospan" id="kobo.687.1"><img alt="Figure 6.38 – Top hosts widget 1" src="image/B19803_06_038.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.688.1">Figure 6.38 – Top hosts widget 1</span></p>
<ol class="calibre16">
<li value="18" class="calibre15"><span class="kobospan" id="kobo.689.1">Don’t forget to</span><a id="_idIndexMarker443" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.690.1"> click</span><a id="_idIndexMarker444" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.691.1"> the blue </span><strong class="bold"><span class="kobospan" id="kobo.692.1">Add</span></strong><span class="kobospan" id="kobo.693.1"> button at the bottom of the form to save </span><span><span class="kobospan" id="kobo.694.1">your cha</span><a id="_idTextAnchor1136" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.695.1">nges.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.696.1">Let’s create one more </span><strong class="bold"><span class="kobospan" id="kobo.697.1">Top hosts</span></strong><span class="kobospan" id="kobo.698.1"> widget by using the </span><strong class="bold"><span class="kobospan" id="kobo.699.1">+ Add</span></strong> <span><span class="kobospan" id="kobo.700.1">button again.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.701.1">Set </span><strong class="bold"><span class="kobospan" id="kobo.702.1">Host groups</span></strong><span class="kobospan" id="kobo.703.1"> to </span><strong class="source-inline1"><span class="kobospan" id="kobo.704.1">Linux servers</span></strong><span class="kobospan" id="kobo.705.1"> again. </span><span class="kobospan" id="kobo.705.2">Then, click on the </span><strong class="bold"><span class="kobospan" id="kobo.706.1">Add</span></strong><span class="kobospan" id="kobo.707.1"> button next to </span><strong class="bold"><span class="kobospan" id="kobo.708.1">Columns</span></strong><span class="kobospan" id="kobo.709.1"> again. </span><span class="kobospan" id="kobo.709.2">Add </span><span><span class="kobospan" id="kobo.710.1">the </span><a id="_idTextAnchor1137" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.711.1">following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer325">
<span class="kobospan" id="kobo.712.1"><img alt="Figure 6.39 – Top hosts widget 2, column ﻿1" src="image/B19803_06_039.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.713.1">Figure 6.39 – Top hosts widget 2, column </span><a id="_idTextAnchor1138" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.714.1">1</span></p>
<ol class="calibre16">
<li value="21" class="calibre15"><span class="kobospan" id="kobo.715.1">Click on</span><a id="_idIndexMarker445" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.716.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.717.1">Add</span></strong><span class="kobospan" id="kobo.718.1"> button </span><a id="_idIndexMarker446" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.719.1">next to </span><strong class="bold"><span class="kobospan" id="kobo.720.1">Columns</span></strong><span class="kobospan" id="kobo.721.1"> again and add </span><span><span class="kobospan" id="kobo.722.1">the</span><a id="_idTextAnchor1139" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.723.1"> following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer326">
<span class="kobospan" id="kobo.724.1"><img alt="Figure 6.40 – Top hosts widget 2, c﻿olumn 2" src="image/B19803_06_040.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.725.1">Figure 6.40 – Top hosts widget 2, c</span><a id="_idTextAnchor1140" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.726.1">olumn 2</span></p>
<ol class="calibre16">
<li value="22" class="calibre15"><span class="kobospan" id="kobo.727.1">The result </span><a id="_idIndexMarker447" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.728.1">will </span><a id="_idIndexMarker448" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.729.1">loo</span><a id="_idTextAnchor1141" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.730.1">k </span><span><span class="kobospan" id="kobo.731.1">like this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer327">
<span class="kobospan" id="kobo.732.1"><img alt="Figure 6.41 – Top hosts widget 2" src="image/B19803_06_041.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.733.1">Figure 6.41 – Top hosts widget 2</span></p>
<ol class="calibre16">
<li value="23" class="calibre15"><span class="kobospan" id="kobo.734.1">Now, we can </span><a id="_idIndexMarker449" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.735.1">freely </span><a id="_idIndexMarker450" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.736.1">move around the widgets until</span><a id="_idTextAnchor1142" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.737.1"> we </span><span><span class="kobospan" id="kobo.738.1">see this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer328">
<span class="kobospan" id="kobo.739.1"><img alt="Figure 6.42 – Our dashboard filled with information" src="image/B19803_06_042.JPG" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.740.1">Figure 6.42 – Our dashboard filled with information</span></p>
<ol class="calibre16">
<li value="24" class="calibre15"><span class="kobospan" id="kobo.741.1">Now, let’s add another page. </span><span class="kobospan" id="kobo.741.2">Click on the drop-down arrow next to </span><strong class="bold"><span class="kobospan" id="kobo.742.1">+ Add</span></strong><span class="kobospan" id="kobo.743.1"> and click </span><strong class="bold"><span class="kobospan" id="kobo.744.1">Add page</span></strong><span class="kobospan" id="kobo.745.1">. </span><span class="kobospan" id="kobo.745.2">This will</span><a id="_idIndexMarker451" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.746.1"> open</span><a id="_idIndexMarker452" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.747.1"> the following popup, where we will add a new page called </span><span><strong class="source-inline1"><span class="kobospan" id="kobo.748.1">Host data</span></strong></span><span><span class="kobospan" id="kobo.749.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer329">
<span class="kobospan" id="kobo.750.1"><img alt="Figure 6.43 – Adding a new Host data page" src="image/B19803_06_043.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.751.1">Figure 6.43 – Adding a new Host data page</span></p>
<ol class="calibre16">
<li value="25" class="calibre15"><span class="kobospan" id="kobo.752.1">Click on </span><strong class="bold"><span class="kobospan" id="kobo.753.1">Apply</span></strong><span class="kobospan" id="kobo.754.1"> to add the new page. </span><span class="kobospan" id="kobo.754.2">We can now immediately start adding additional widgets on the </span><span><span class="kobospan" id="kobo.755.1">first page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.756.1">Let’s click on </span><strong class="bold"><span class="kobospan" id="kobo.757.1">+ Add</span></strong><span class="kobospan" id="kobo.758.1"> again to add a new widget and select the widget called </span><span><strong class="bold"><span class="kobospan" id="kobo.759.1">Gauge</span></strong></span><span><span class="kobospan" id="kobo.760.1"> first.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.761.1"> Let’s select an item from the default </span><strong class="source-inline1"><span class="kobospan" id="kobo.762.1">Zabbix server</span></strong><span class="kobospan" id="kobo.763.1"> host. </span><span class="kobospan" id="kobo.763.2">Click </span><strong class="bold"><span class="kobospan" id="kobo.764.1">Select</span></strong><span class="kobospan" id="kobo.765.1"> next to the </span><strong class="bold"><span class="kobospan" id="kobo.766.1">Item</span></strong><span class="kobospan" id="kobo.767.1"> field and search your host groups for the </span><strong class="source-inline1"><span class="kobospan" id="kobo.768.1">Zabbix server</span></strong><span class="kobospan" id="kobo.769.1"> host. </span><span class="kobospan" id="kobo.769.2">From the list, select the </span><strong class="bold"><span class="kobospan" id="kobo.770.1">Available memory in %</span></strong> <span><span class="kobospan" id="kobo.771.1">item.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.772.1">Make sure the </span><a id="_idIndexMarker453" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.773.1">form</span><a id="_idIndexMarker454" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.774.1"> looks like </span><span><span class="kobospan" id="kobo.775.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer330">
<span class="kobospan" id="kobo.776.1"><img alt="Figure 6.44 – Dashboard Gauge widget creation form" src="image/B19803_06_044.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.777.1">Figure 6.44 – Dashboard Gauge widget creation form</span></p>
<ol class="calibre16">
<li value="29" class="calibre15"><span class="kobospan" id="kobo.778.1">Click on the </span><strong class="bold"><span class="kobospan" id="kobo.779.1">Add</span></strong><span class="kobospan" id="kobo.780.1"> button at the bottom of this window to save the changes and add </span><span><span class="kobospan" id="kobo.781.1">this widget.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.782.1">Now, let’s add our last widget by clicking </span><strong class="bold"><span class="kobospan" id="kobo.783.1">+ Add</span></strong><span class="kobospan" id="kobo.784.1"> again. </span><span class="kobospan" id="kobo.784.2">We’ll add a new widget called </span><span><strong class="bold"><span class="kobospan" id="kobo.785.1">Pie chart</span></strong></span><span><span class="kobospan" id="kobo.786.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.787.1">Set </span><strong class="bold"><span class="kobospan" id="kobo.788.1">Name</span></strong><span class="kobospan" id="kobo.789.1"> to </span><strong class="source-inline1"><span class="kobospan" id="kobo.790.1">CPU timings</span></strong><span class="kobospan" id="kobo.791.1">. </span><span class="kobospan" id="kobo.791.2">For </span><strong class="bold"><span class="kobospan" id="kobo.792.1">host pattern</span></strong><span class="kobospan" id="kobo.793.1">, set </span><strong class="source-inline1"><span class="kobospan" id="kobo.794.1">Zabbix server</span></strong><span class="kobospan" id="kobo.795.1">, and for </span><strong class="bold"><span class="kobospan" id="kobo.796.1">item pattern</span></strong><span class="kobospan" id="kobo.797.1">, set </span><strong class="source-inline1"><span class="kobospan" id="kobo.798.1">CPU * time</span></strong><span class="kobospan" id="kobo.799.1">. </span><span class="kobospan" id="kobo.799.2">It should look </span><span><span class="kobospan" id="kobo.800.1">like this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer331">
<span class="kobospan" id="kobo.801.1"><img alt="Figure 6.45 – Dashboard Pie chart widget creation form" src="image/B19803_06_045.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.802.1">Figure 6.45 – Dashboard Pie chart widget creation form</span></p>
<ol class="calibre16">
<li value="32" class="calibre15"><span class="kobospan" id="kobo.803.1">On the </span><strong class="bold"><span class="kobospan" id="kobo.804.1">Legend</span></strong><span class="kobospan" id="kobo.805.1"> tab, set </span><strong class="bold"><span class="kobospan" id="kobo.806.1">Number of rows</span></strong> <span><span class="kobospan" id="kobo.807.1">to </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.808.1">3</span></strong></span><span><span class="kobospan" id="kobo.809.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.810.1">Now, click</span><a id="_idIndexMarker455" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.811.1"> on</span><a id="_idIndexMarker456" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.812.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.813.1">Add</span></strong><span class="kobospan" id="kobo.814.1"> button at the bottom of the page to save the changes and add </span><span><span class="kobospan" id="kobo.815.1">the widget.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.816.1">Your new page should now look </span><span><span class="kobospan" id="kobo.817.1">like this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer332">
<span class="kobospan" id="kobo.818.1"><img alt="Figure 6.46 – Zabbix global dashboard second page" src="image/B19803_06_046.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.819.1">Figure 6.46 – Zabbix global dashboard second page</span></p>
<ol class="calibre16">
<li value="35" class="calibre15"><span class="kobospan" id="kobo.820.1">I don’t like the name of our first page, so let’s click on </span><strong class="bold"><span class="kobospan" id="kobo.821.1">Page 1</span></strong><span class="kobospan" id="kobo.822.1"> and then on the three dots next to </span><strong class="bold"><span class="kobospan" id="kobo.823.1">Page 1</span></strong><span class="kobospan" id="kobo.824.1">. </span><span class="kobospan" id="kobo.824.2">It should open a dropdown, where we can </span><span><span class="kobospan" id="kobo.825.1">select </span></span><span><strong class="bold"><span class="kobospan" id="kobo.826.1">Properties</span></strong></span><span><span class="kobospan" id="kobo.827.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.828.1">Here, give your page a new name. </span><span class="kobospan" id="kobo.828.2">I will name it </span><strong class="bold"><span class="kobospan" id="kobo.829.1">Overview</span></strong><span class="kobospan" id="kobo.830.1">. </span><span class="kobospan" id="kobo.830.2">I always rename the first page to keep things organized and not have any default non-descriptive names in my dashboard (or anywhere for that matter). </span><span class="kobospan" id="kobo.830.3">It should now show us two pages with </span><span><span class="kobospan" id="kobo.831.1">different names:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer333">
<span class="kobospan" id="kobo.832.1"><img alt="Figure 6.47 – Zabbix Linux servers global dashboard page names" src="image/B19803_06_047.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.833.1">Figure 6.47 – Zabbix Linux servers global dashboard page names</span></p>
<ol class="calibre16">
<li value="37" class="calibre15"><span class="kobospan" id="kobo.834.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.835.1">Save changes</span></strong><span class="kobospan" id="kobo.836.1"> in the top-right corner an</span><a id="_idTextAnchor1143" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1144" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.837.1">d </span><span><span class="kobospan" id="kobo.838.1">you’re done.</span></span></li>
</ol>
<h2 id="_idParaDest-198" class="calibre7"><a id="_idTextAnchor1145" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.839.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.840.1">Creating</span><a id="_idIndexMarker457" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.841.1"> dashboards is</span><a id="_idIndexMarker458" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.842.1"> the best way to create overviews for quick access to data during troubleshooting, day-to-day problem monitoring, and – of course – for use with big</span><a id="_idTextAnchor1146" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.843.1"> TV walls. </span><span class="kobospan" id="kobo.843.2">We’ve probably all seen the big operation centers with TVs displaying data. </span><span class="kobospan" id="kobo.843.3">Zabbix is great for all these purposes and more, as you saw in </span><span><span class="kobospan" id="kobo.844.1">this recipe.</span></span></p>
<h2 id="_idParaDest-199" class="calibre7"><a id="_idTextAnchor1147" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.845.1">There’s more…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.846.1">Zabbix has added a lot of new widgets in 7.0 as a big focus for them has been visualization. </span><span class="kobospan" id="kobo.846.2">New widgets will be added in even newer versions of Zabbix as well, so keep your eye on the roadmap if you’re still missing </span><span><span class="kobospan" id="kobo.847.1">something: </span></span><span><span class="kobospan" id="kobo.848.1">https://www.zabbix.com/roadmap</span></span><span><span class="kobospan" id="kobo.849.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.850.1">We also haven’t talked about every single new widget yet, so check out the </span><em class="italic"><span class="kobospan" id="kobo.851.1">what’s new</span></em><span class="kobospan" id="kobo.852.1"> page </span><span><span class="kobospan" id="kobo.853.1">here: </span></span><a href="https://www.zabbix.com/whats_new_7_0" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.854.1">https://www.zabbix.com/whats_new_7_0</span></span></a><span><span class="kobospan" id="kobo.855.1">.</span></span></p>
<h1 id="_idParaDest-200" class="calibre5"><a id="_idTextAnchor1148" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.856.1">Templating dashboards to work at the host level</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.857.1">When Zabbix</span><a id="_idIndexMarker459" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.858.1"> removed the screens functionality and replaced it with dashboards completely, a lot of people in the Zabbix community got very excited about using the newer widgets on their host-level dashboards. </span><span class="kobospan" id="kobo.858.2">Unfortunately, development time is limited and at the time of writing, the feature is limited to only </span><span><span class="kobospan" id="kobo.859.1">six widgets.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.860.1">In Zabbix 7.0, this all changes. </span><span class="kobospan" id="kobo.860.2">All the widgets available on your global dashboards are now available on host-level dashboards, making the whole feature </span><span><span class="kobospan" id="kobo.861.1">incredibly useful.</span></span></p>
<h2 id="_idParaDest-201" class="calibre7"><a id="_idTextAnchor1149" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.862.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.863.1">Make sure you followed the first two recipes in this chapter and that you have your Zabbix server ready. </span><span class="kobospan" id="kobo.863.2">We’ll be using our SNMP-monitored host from the first two recipes, as well as our item, triggers, </span><span><span class="kobospan" id="kobo.864.1">and map.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.865.1">Alternatively, anyone can create host-level dashboards, so long as they have some data available on a host that has a template assigned. </span><span class="kobospan" id="kobo.865.2">As such, feel free to apply your own </span><span><span class="kobospan" id="kobo.866.1">datasets instead.</span></span></p>
<h2 id="_idParaDest-202" class="calibre7"><a id="_idTextAnchor1150" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.867.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.868.1">Let’s start building some </span><span><span class="kobospan" id="kobo.869.1">templated dashboards:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.870.1">Navigate to </span><strong class="bold"><span class="kobospan" id="kobo.871.1">Data collection</span></strong><span class="kobospan" id="kobo.872.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.873.1">Templates</span></strong><span class="kobospan" id="kobo.874.1"> and edit the </span><strong class="source-inline1"><span class="kobospan" id="kobo.875.1">Custom Linux by SNMP</span></strong><span class="kobospan" id="kobo.876.1"> template by clicking on </span><strong class="bold"><span class="kobospan" id="kobo.877.1">Dashboards</span></strong><span class="kobospan" id="kobo.878.1"> next </span><span><span class="kobospan" id="kobo.879.1">to it.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.880.1">Now, in the top-right corner, click on </span><strong class="bold"><span class="kobospan" id="kobo.881.1">Create dashboard</span></strong><span class="kobospan" id="kobo.882.1"> to start creating your first templated </span><span><span class="kobospan" id="kobo.883.1">host-level dashboard.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.884.1">We will call this dashboard </span><strong class="source-inline1"><span class="kobospan" id="kobo.885.1">Host overview</span></strong><span class="kobospan" id="kobo.886.1"> as it will contain several different statistics about </span><span><span class="kobospan" id="kobo.887.1">our host:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer334">
<span class="kobospan" id="kobo.888.1"><img alt="Figure 6.48 – Host dashboard creation" src="image/B19803_06_048.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.889.1">Figure 6.48 – Host dashboard creation</span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.890.1">Start slideshow automatically</span></strong><span class="kobospan" id="kobo.891.1"> is enabled here, but this is only useful if you want to use this dashboard in a slideshow, such as on a big screen (TV) in a NOC room. </span><span class="kobospan" id="kobo.891.2">I always disable it for dashboards used on personal computers so that my pages don’t jump around </span><span><span class="kobospan" id="kobo.892.1">while troubleshooting.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.893.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.894.1">Apply</span></strong><span class="kobospan" id="kobo.895.1"> to add this </span><span><span class="kobospan" id="kobo.896.1">new dashboard.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.897.1">Now that the dashboard has been created, we can start adding some widgets. </span><span class="kobospan" id="kobo.897.2">Add your first widget by clicking on </span><strong class="bold"><span class="kobospan" id="kobo.898.1">+ Add</span></strong><span class="kobospan" id="kobo.899.1"> in the </span><span><span class="kobospan" id="kobo.900.1">top-right corner.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.901.1">Let’s start </span><a id="_idIndexMarker460" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.902.1">with a simple </span><strong class="bold"><span class="kobospan" id="kobo.903.1">Item value</span></strong><span class="kobospan" id="kobo.904.1"> widget. </span><span class="kobospan" id="kobo.904.2">Add the </span><span><span class="kobospan" id="kobo.905.1">following information:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer335">
<span class="kobospan" id="kobo.906.1"><img alt="Figure 6.49 – Host dashboard, Item value widget" src="image/B19803_06_049.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.907.1">Figure 6.49 – Host dashboard, Item value widget</span></p>
<ol class="calibre16">
<li value="8" class="calibre15"><span class="kobospan" id="kobo.908.1">Make sure you apply your changes and add the widget by clicking </span><strong class="bold"><span class="kobospan" id="kobo.909.1">+ </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.910.1">Add</span></strong></span><span><span class="kobospan" id="kobo.911.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.912.1">Next up, we’ll add a graph widget. </span><span class="kobospan" id="kobo.912.2">Click </span><strong class="bold"><span class="kobospan" id="kobo.913.1">+ Add</span></strong><span class="kobospan" id="kobo.914.1"> to create another widget and add the </span><span><span class="kobospan" id="kobo.915.1">following information:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer336">
<span class="kobospan" id="kobo.916.1"><img alt="Figure 6.50 – Host dashboard, Graph widget" src="image/B19803_06_050.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.917.1">Figure 6.50 – Host dashboard, Graph widget</span></p>
<ol class="calibre16">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.918.1">Still on the widget creation form, we’ll also create a dataset. </span><span class="kobospan" id="kobo.918.2">In this case, we can keep it simple</span><a id="_idIndexMarker461" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.919.1"> by just adding a </span><span><span class="kobospan" id="kobo.920.1">single-item dataset:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer337">
<span class="kobospan" id="kobo.921.1"><img alt="Figure 6.51 – Host dashboard, Graph widget dataset" src="image/B19803_06_051.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.922.1">Figure 6.51 – Host dashboard, Graph widget dataset</span></p>
<ol class="calibre16">
<li value="11" class="calibre15"><span class="kobospan" id="kobo.923.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.924.1">Add</span></strong><span class="kobospan" id="kobo.925.1"> to save your changes and add the widget to </span><span><span class="kobospan" id="kobo.926.1">the dashboard.</span></span><p class="calibre3"><span class="kobospan" id="kobo.927.1">This dataset will simply show the number of incoming ICMP messages in a graph for us. </span><span class="kobospan" id="kobo.927.2">However, it is also possible to use wildcards by using the asterisk symbol (</span><strong class="source-inline"><span class="kobospan" id="kobo.928.1">*</span></strong><span class="kobospan" id="kobo.929.1">) to grab multiple items in a </span><span><span class="kobospan" id="kobo.930.1">single-item pattern.</span></span></p></li>
<li class="calibre15"><span class="kobospan" id="kobo.931.1">Let’s also create a problem overview of the host here. </span><span class="kobospan" id="kobo.931.2">Add the </span><strong class="bold"><span class="kobospan" id="kobo.932.1">Problems</span></strong><span class="kobospan" id="kobo.933.1"> widget, </span><span><span class="kobospan" id="kobo.934.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer338">
<span class="kobospan" id="kobo.935.1"><img alt="Figure 6.52 – Host dashboard, Problems widget" src="image/B19803_06_052.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.936.1">Figure 6.52 – Host dashboard, Problems widget</span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.937.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.938.1">Add</span></strong><span class="kobospan" id="kobo.939.1"> to save </span><a id="_idIndexMarker462" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.940.1">your changes and add the widget to </span><span><span class="kobospan" id="kobo.941.1">the dashboard.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.942.1">Now, make sure you arrange these widgets so that they form a </span><span><span class="kobospan" id="kobo.943.1">proper dashboard:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer339">
<span class="kobospan" id="kobo.944.1"><img alt="Figure 6.53 – Host dashboard, completed and arranged" src="image/B19803_06_053.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.945.1">Figure 6.53 – Host dashboard, completed and arranged</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.946.1">At this point, you might be wondering why this dashboard is empty. </span><span class="kobospan" id="kobo.946.2">Templates do not contain data, meaning we have to navigate to a host to look at the </span><span><span class="kobospan" id="kobo.947.1">actual data.</span></span></p>
<ol class="calibre16">
<li value="15" class="calibre15"><span class="kobospan" id="kobo.948.1">Navigate to </span><strong class="bold"><span class="kobospan" id="kobo.949.1">Monitoring</span></strong><span class="kobospan" id="kobo.950.1"> |</span><strong class="bold"><span class="kobospan" id="kobo.951.1"> Hosts</span></strong><span class="kobospan" id="kobo.952.1"> and go to the </span><strong class="source-inline1"><span class="kobospan" id="kobo.953.1">lar-book-templated_snmp</span></strong><span class="kobospan" id="kobo.954.1"> host. </span><span class="kobospan" id="kobo.954.2">Click </span><strong class="bold"><span class="kobospan" id="kobo.955.1">Dashboards</span></strong><span class="kobospan" id="kobo.956.1"> next </span><span><span class="kobospan" id="kobo.957.1">to it:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer340">
<span class="kobospan" id="kobo.958.1"><img alt="Figure 6.54 – Host dashboard for host lar-book-templated_snmp" src="image/B19803_06_054.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.959.1">Figure 6.54 – Host dashboard for host lar-book-templated_snmp</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.960.1">As you can</span><a id="_idIndexMarker463" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.961.1"> see, the dashboard now contains data about our </span><span><span class="kobospan" id="kobo.962.1">specific host.</span></span></p>
<h2 id="_idParaDest-203" class="calibre7"><a id="_idTextAnchor1151" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.963.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.964.1">Host-level dashboards are super useful since they completely rely on templates. </span><span class="kobospan" id="kobo.964.2">We have to set them up at the template level; when we do, all of the hosts that are using that template will have the same dashboard with unique information shown in the widgets. </span><span class="kobospan" id="kobo.964.3">This makes it possible for us to create hundreds or even thousands of dashboards by simply setting it up at the </span><span><span class="kobospan" id="kobo.965.1">template level.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.966.1">However, we have to keep in mind that host-level dashboards are different than the global dashboards we set up in the previous recipe. </span><span class="kobospan" id="kobo.966.2">Not only do we access them differently, but they also operate at the host level. </span><span class="kobospan" id="kobo.966.3">This means that they are mainly used to show information about a </span><span><span class="kobospan" id="kobo.967.1">single host.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.968.1">With Zabbix 7.0, we can add all of the widgets we have available on the global dashboard level, making host-level dashboards very useful. </span><span class="kobospan" id="kobo.968.2">If we have several templates with one or even multiple dashboards, we can also use the pages at the top to easily navigate </span><span><span class="kobospan" id="kobo.969.1">several</span></span><span><a id="_idIndexMarker464" class="pcalibre calibre6 pcalibre1"/></span><span><span class="kobospan" id="kobo.970.1"> dashboards:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer341">
<span class="kobospan" id="kobo.971.1"><img alt="Figure 6.55 – Host dashboard selector for the Zabb﻿﻿ix server host" src="image/B19803_06_055.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.972.1">Figure 6.55 – Host dashboard selector for the Zabb</span><a id="_idTextAnchor1152" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1153" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.973.1">ix server host</span></p>
<h1 id="_idParaDest-204" class="calibre5"><a id="_idTextAnchor1154" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.974.1">Setting up Zabbix inventory</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.975.1">Zabbix inventory is</span><a id="_idIndexMarker465" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.976.1"> a feature I love, but it hasn’t had a lot of love from the Zab</span><a id="_idTextAnchor1155" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.977.1">bix development team lately, even though it was on the roadmap for 7.0. </span><span class="kobospan" id="kobo.977.2">Sorry – I still love you Zabbix developers, but if you’re reading this, feel free to put some time into </span><span><span class="kobospan" id="kobo.978.1">the feature!</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.979.1">Specifically, I’m talking about this old gem of a feature </span><span><span class="kobospan" id="kobo.980.1">request: </span></span><a href="https://support.zabbix.com/browse/ZBXNEXT-336" class="pcalibre calibre6 pcalibre1"><span><span class="kobospan" id="kobo.981.1">https://support.zabbix.com/browse/ZBXNEXT-336</span></span></a><span><span class="kobospan" id="kobo.982.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.983.1">The inventory feature makes it possible for us to automatically put collected data in a visual </span><strong class="bold"><span class="kobospan" id="kobo.984.1">configuration management database</span></strong><span class="kobospan" id="kobo.985.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.986.1">CMDB</span></strong><span class="kobospan" id="kobo.987.1">) such as inventory in the Zabbix frontend. </span><span class="kobospan" id="kobo.987.2">I think we’ve all seen CMDB inventory systems not be updated and thus missing out on data we need once we look into the system. </span><span class="kobospan" id="kobo.987.3">Zabbix inventory fixes this by getting the data from the monitored systems. </span><span class="kobospan" id="kobo.987.4">Let</span><a id="_idTextAnchor1156" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1157" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.988.1">’s </span><span><span class="kobospan" id="kobo.989.1">get started.</span></span></p>
<h2 id="_idParaDest-205" class="calibre7"><a id="_idTextAnchor1158" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.990.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.991.1">Make sure that you log in to the Zabbix frontend and keep your SNMP-monitored host from the previous</span><a id="_idTextAnchor1159" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1160" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.992.1">recipes ready.</span></span></p>
<h2 id="_idParaDest-206" class="calibre7"><a id="_idTextAnchor1161" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.993.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.994.1">Follow </span><span><span class="kobospan" id="kobo.995.1">these steps:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.996.1">Let’s start by making sure our Zabbix server puts all of our hosts’ inventory information into the fields. </span><span class="kobospan" id="kobo.996.2">I like to do this by going to </span><strong class="bold"><span class="kobospan" id="kobo.997.1">Administration</span></strong><span class="kobospan" id="kobo.998.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.999.1">General</span></strong><span class="kobospan" id="kobo.1000.1"> and then selecting </span><strong class="bold"><span class="kobospan" id="kobo.1001.1">Other</span></strong><span class="kobospan" id="kobo.1002.1"> from the dropdown in the </span><span><span class="kobospan" id="kobo.1003.1">top-left corner.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1004.1">We can then set our </span><strong class="bold"><span class="kobospan" id="kobo.1005.1">Default host inventory mode</span></strong><span class="kobospan" id="kobo.1006.1"> parameter to </span><strong class="bold"><span class="kobospan" id="kobo.1007.1">Automatic</span></strong><span class="kobospan" id="kobo.1008.1">. </span><span class="kobospan" id="kobo.1008.2">Don’t forget to</span><a id="_idTextAnchor1162" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1009.1">click </span></span><span><strong class="bold"><span class="kobospan" id="kobo.1010.1">Update</span></strong></span><span><span class="kobospan" id="kobo.1011.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer342">
<span class="kobospan" id="kobo.1012.1"><img alt="Figure 6.56 – Administration | General | Other configuration parameters" src="image/B19803_06_056.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1013.1">Figure 6.56 – Administration | General | Other configuration parameters</span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.1014.1">Alternatively, we can do this at the host level. </span><span class="kobospan" id="kobo.1014.2">Go to </span><strong class="bold"><span class="kobospan" id="kobo.1015.1">Configuration</span></strong><span class="kobospan" id="kobo.1016.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1017.1">Hosts</span></strong><span class="kobospan" id="kobo.1018.1"> and select our </span><strong class="source-inline1"><span class="kobospan" id="kobo.1019.1">lar-book-templated_snmp</span></strong> <span><span class="kobospan" id="kobo.1020.1">SNMP-monitored host.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1021.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.1022.1">Inventory</span></strong><span class="kobospan" id="kobo.1023.1"> and set it to </span><strong class="bold"><span class="kobospan" id="kobo.1024.1">Automatic</span></strong><span class="kobospan" id="kobo.1025.1"> here as well. </span><span class="kobospan" id="kobo.1025.2">As you may have noticed, the default</span><a id="_idIndexMarker466" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1026.1"> only applies to newly created hosts from </span><span><span class="kobospan" id="kobo.1027.1">now on.</span></span></li>
</ol>
<p class="callout-heading"><span class="kobospan" id="kobo.1028.1">Important note</span></p>
<p class="callout"><span class="kobospan" id="kobo.1029.1">Changing the global setting does not apply it to all existing hosts, only to newly created hosts. </span><span class="kobospan" id="kobo.1029.2">It might be a good idea to run a </span><strong class="bold"><span class="kobospan" id="kobo.1030.1">Mass update</span></strong><span class="kobospan" id="kobo.1031.1"> operation for all the hosts or change the inventory mode manually, host </span><span><span class="kobospan" id="kobo.1032.1">by h</span><a id="_idTextAnchor1163" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1033.1">ost.</span></span></p>
<ol class="calibre16">
<li value="5" class="calibre15"><span class="kobospan" id="kobo.1034.1">Now, let’s go to </span><strong class="bold"><span class="kobospan" id="kobo.1035.1">Data collection</span></strong><span class="kobospan" id="kobo.1036.1"> |</span><strong class="bold"><span class="kobospan" id="kobo.1037.1"> Templates</span></strong><span class="kobospan" id="kobo.1038.1"> and select </span><strong class="bold"><span class="kobospan" id="kobo.1039.1">Custom Linux </span></strong><span><strong class="bold"><span class="kobospan" id="kobo.1040.1">by SNMP</span></strong></span><span><span class="kobospan" id="kobo.1041.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1042.1">Go to </span><strong class="bold"><span class="kobospan" id="kobo.1043.1">Items</span></strong><span class="kobospan" id="kobo.1044.1"> and edit </span><strong class="bold"><span class="kobospan" id="kobo.1045.1">System hostname</span></strong><span class="kobospan" id="kobo.1046.1">. </span><span class="kobospan" id="kobo.1046.2">We have to change the </span><strong class="bold"><span class="kobospan" id="kobo.1047.1">Populates host inventory field</span></strong><span class="kobospan" id="kobo.1048.1"> setti</span><a id="_idTextAnchor1164" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1049.1">ng, </span><span><span class="kobospan" id="kobo.1050.1">like this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer343">
<span class="kobospan" id="kobo.1051.1"><img alt="Figure 6.57 – Edit item page" src="image/B19803_06_057.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1052.1">Figure 6.57 – Edit item page</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.1053.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.1054.1">Update</span></strong><span class="kobospan" id="kobo.1055.1"> and navigate to </span><strong class="bold"><span class="kobospan" id="kobo.1056.1">Inventory</span></strong><span class="kobospan" id="kobo.1057.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1058.1">Hosts</span></strong><span class="kobospan" id="kobo.1059.1">. </span><span class="kobospan" id="kobo.1059.2">You will see </span><span><span class="kobospan" id="kobo.1060.1">t</span><a id="_idTextAnchor1165" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1061.1">he following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer344">
<span class="kobospan" id="kobo.1062.1"><img alt="Figure 6.58 – Inve﻿﻿ntory | Hosts" src="image/B19803_06_058.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1063.1">Figure 6.58 – Inve</span><a id="_idTextAnchor1166" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1167" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1064.1">ntory | Hosts</span></p>
<h2 id="_idParaDest-207" class="calibre7"><a id="_idTextAnchor1168" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1065.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1066.1">Zabbix inventory is simple but underdeveloped at the moment. </span><span class="kobospan" id="kobo.1066.2">It’s not amazing to filter to a point where it shows exactly what we want to see, but it can be very </span><span><span class="kobospan" id="kobo.1067.1">useful nonetheless.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1068.1">If you’re working with a lot of equipment, such as in an MSP environment, it can become overwhelming to log in to every device and get the ser</span><a id="_idTextAnchor1169" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1069.1">ial number by hand. </span><span class="kobospan" id="kobo.1069.2">If you poll the serial number and populate the </span><strong class="bold"><span class="kobospan" id="kobo.1070.1">inventory</span></strong><span class="kobospan" id="kobo.1071.1"> field, you suddenly have an active list of up-to-date </span><span><span class="kobospan" id="kobo.1072.1">serial numbers.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1073.1">The same works with anything from hardware information to software versions. </span><span class="kobospan" id="kobo.1073.2">We could get the active operating system versions from devices and generate an extensive list of all our operating system versions, which is very useful if you ever have to patch something, </span><span><span class="kobospan" id="kobo.1074.1">for example.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1075.1">Use Zabbix inventory wisely when creating items, and set the population to </span><strong class="bold"><span class="kobospan" id="kobo.1076.1">Aut</span><a id="_idTextAnchor1170" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1077.1">omatic</span></strong><span class="kobospan" id="kobo.1078.1">, as we did in this</span><a id="_idIndexMarker467" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1079.1"> chapter – you’ll never have to think too much about the feature. </span><span class="kobospan" id="kobo.1079.2">You configure it almost automatically this way and have nice lists waiting for you when </span><a id="_idTextAnchor1171" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1172" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1080.1">you </span><span><span class="kobospan" id="kobo.1081.1">need them.</span></span></p>
</div>


<div id="_idContainer394" class="calibre2">
<h1 id="_idParaDest-208" class="calibre5"><a id="_idTextAnchor1173" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1082.1">Using the Zabbix Geomap widget</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.1083.1">Now that we’ve</span><a id="_idIndexMarker468" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1084.1"> seen how to create dashboards, let’s set up another d</span><a id="_idTextAnchor1174" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1085.1">ashboard. </span><span class="kobospan" id="kobo.1085.2">We’ll use this one to create a full-fledged geographical overview of some of our hosts in Zabbix. </span><span class="kobospan" id="kobo.1085.3">We’ll do this by using the Zabbix inventory functionality we have just lear</span><a id="_idTextAnchor1175" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1176" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1086.1">ned how </span><span><span class="kobospan" id="kobo.1087.1">to use.</span></span></p>
<h2 id="_idParaDest-209" class="calibre7"><a id="_idTextAnchor1177" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1088.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1089.1">All we need for this recipe is our Zabbix setup with access to the frontend. </span><span class="kobospan" id="kobo.1089.2">It is also smart to follow the previous two recipes about dashboards and inventory. </span><span class="kobospan" id="kobo.1089.3">If you haven’t followed those yet, it is recommended that you fol</span><a id="_idTextAnchor1178" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1179" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1090.1">low </span><span><span class="kobospan" id="kobo.1091.1">them first.</span></span></p>
<h2 id="_idParaDest-210" class="calibre7"><a id="_idTextAnchor1180" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1092.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1093.1">Using the Zabbix Geomap functionality is quite easy – we simply need to use our Zabbix inventory on our hosts in combination with a </span><span><span class="kobospan" id="kobo.1094.1">dashboard widget:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.1095.1">First, let’s navigate to our </span><strong class="bold"><span class="kobospan" id="kobo.1096.1">Data collection</span></strong><span class="kobospan" id="kobo.1097.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1098.1">Hosts</span></strong><span class="kobospan" id="kobo.1099.1"> page and edit one of our hosts. </span><span class="kobospan" id="kobo.1099.2">I’ll be using the </span><strong class="source-inline1"><span class="kobospan" id="kobo.1100.1">lar-book-templated_snmp</span></strong><span class="kobospan" id="kobo.1101.1"> host, but it doesn’t matter which host you use, so long as it is in the </span><strong class="source-inline1"><span class="kobospan" id="kobo.1102.1">Linux servers</span></strong> <span><span class="kobospan" id="kobo.1103.1">host group.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1104.1">Go to the </span><strong class="bold"><span class="kobospan" id="kobo.1105.1">Inventory</span></strong><span class="kobospan" id="kobo.1106.1"> tab and</span><a id="_idIndexMarker469" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1107.1"> make sure that it is set to </span><strong class="bold"><span class="kobospan" id="kobo.1108.1">Manua</span><a id="_idTextAnchor1181" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1109.1">l</span></strong> <span><span class="kobospan" id="kobo.1110.1">or </span></span><span><strong class="bold"><span class="kobospan" id="kobo.1111.1">Automatic</span></strong></span><span><span class="kobospan" id="kobo.1112.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer345">
<span class="kobospan" id="kobo.1113.1"><img alt="Figure 6.59 – Inventory mode selector on the Zabbix host Inventory tab" src="image/B19803_06_059.JPG" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1114.1">Figure 6.59 – Inventory mode selector on the Zabbix host Inventory tab</span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.1115.1">Now, in the </span><strong class="bold"><span class="kobospan" id="kobo.1116.1">Location latitude</span></strong><span class="kobospan" id="kobo.1117.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.1118.1">Location longitude</span></strong><span class="kobospan" id="kobo.1119.1"> fields, fill in </span><a id="_idTextAnchor1182" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1120.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer346">
<span class="kobospan" id="kobo.1121.1"><img alt="Figure 6.60 – Inventory tab fields on a Zabbix﻿ host" src="image/B19803_06_060.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1122.1">Figure 6.60 – Inventory tab fields on a Zabbix</span><a id="_idTextAnchor1183" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1123.1"> host</span></p>
<ol class="calibre16">
<li value="4" class="calibre15"><span class="kobospan" id="kobo.1124.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1125.1">Update</span></strong><span class="kobospan" id="kobo.1126.1"> button to save </span><span><span class="kobospan" id="kobo.1127.1">these changes.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1128.1">Back at </span><strong class="bold"><span class="kobospan" id="kobo.1129.1">Data collection</span></strong><span class="kobospan" id="kobo.1130.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1131.1">Hosts</span></strong><span class="kobospan" id="kobo.1132.1">, let’s do the same thing for another host. </span><span class="kobospan" id="kobo.1132.2">I’ll </span><span><span class="kobospan" id="kobo.1133.1">use </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.1134.1">lar-book-agent_simple</span></strong></span><span><span class="kobospan" id="kobo.1135.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1136.1">Go to the </span><strong class="bold"><span class="kobospan" id="kobo.1137.1">Inventory</span></strong><span class="kobospan" id="kobo.1138.1"> tab and fill in the </span><strong class="bold"><span class="kobospan" id="kobo.1139.1">Location latitude</span></strong><span class="kobospan" id="kobo.1140.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.1141.1">Location longitude</span></strong> <a id="_idTextAnchor1184" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1142.1">fields again:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer347">
<span class="kobospan" id="kobo.1143.1"><img alt="Figure 6.61 – Inventory tab fields on another Zabbix host" src="image/B19803_06_061.JPG" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1144.1">Figure 6.61 – Inventory tab fields on another Zabbix host</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.1145.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1146.1">Update</span></strong><span class="kobospan" id="kobo.1147.1"> button to save </span><span><span class="kobospan" id="kobo.1148.1">these changes.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1149.1">Now, let’s go to </span><strong class="bold"><span class="kobospan" id="kobo.1150.1">Dashboards</span></strong><span class="kobospan" id="kobo.1151.1"> and, at </span><strong class="bold"><span class="kobospan" id="kobo.1152.1">All dashboards</span></strong><span class="kobospan" id="kobo.1153.1">, create a new dashboard or use our existing </span><strong class="bold"><span class="kobospan" id="kobo.1154.1">Linux servers</span></strong><span class="kobospan" id="kobo.1155.1"> dashboard. </span><span class="kobospan" id="kobo.1155.2">This is what </span><span><span class="kobospan" id="kobo.1156.1">I’ll do.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1157.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1158.1">Edit dashboard</span></strong><span class="kobospan" id="kobo.1159.1"> button in the top-right corner and use the </span><strong class="bold"><span class="kobospan" id="kobo.1160.1">Add</span></strong><span class="kobospan" id="kobo.1161.1"> button </span><a id="_idIndexMarker470" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1162.1">dropdown to click</span><a id="_idTextAnchor1185" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1163.1"> on </span><span><strong class="bold"><span class="kobospan" id="kobo.1164.1">Add page</span></strong></span><span><span class="kobospan" id="kobo.1165.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer348">
<span class="kobospan" id="kobo.1166.1"><img alt="Figure 6.62 – Existing dashboard Add page but﻿ton" src="image/B19803_06_062.JPG" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1167.1">Figure 6.62 – Existing dashboard Add page but</span><a id="_idTextAnchor1186" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1168.1">ton</span></p>
<ol class="calibre16">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.1169.1">We’ll add the followi</span><a id="_idTextAnchor1187" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1170.1">ng </span><span><span class="kobospan" id="kobo.1171.1">new page:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer349">
<span class="kobospan" id="kobo.1172.1"><img alt="Figure 6.63 – Dashboard page properties" src="image/B19803_06_063.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1173.1">Figure 6.63 – Dashboard page properties</span></p>
<ol class="calibre16">
<li value="11" class="calibre15"><span class="kobospan" id="kobo.1174.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.1175.1">Apply</span></strong><span class="kobospan" id="kobo.1176.1"> to add this </span><span><span class="kobospan" id="kobo.1177.1">new page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1178.1">We can now add our </span><strong class="bold"><span class="kobospan" id="kobo.1179.1">Geomap</span></strong><span class="kobospan" id="kobo.1180.1"> widget simply by clicking anywhere on the page. </span><span class="kobospan" id="kobo.1180.2">Fill it in </span><a id="_idTextAnchor1188" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1181.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer350">
<span class="kobospan" id="kobo.1182.1"><img alt="Figure 6.64 – Zabbix Geomap widget properties" src="image/B19803_06_064.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1183.1">Figure 6.64 – Zabbix Geomap widget properties</span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.1184.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.1185.1">Apply</span></strong><span class="kobospan" id="kobo.1186.1"> to save</span><a id="_idIndexMarker471" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1187.1"> the </span><span><span class="kobospan" id="kobo.1188.1">widget configuration.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1189.1">We can now click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1190.1">Save changes</span></strong><span class="kobospan" id="kobo.1191.1"> button in the top-right corner to save our </span><span><span class="kobospan" id="kobo.1192.1">dashboard changes.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1193.1">Th</span><a id="_idTextAnchor1189" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1194.1">is will take us back to our dashboard, where we can click the </span><strong class="bold"><span class="kobospan" id="kobo.1195.1">Geomap</span></strong><span class="kobospan" id="kobo.1196.1"> page of </span><span><span class="kobospan" id="kobo.1197.1">this</span><a id="_idTextAnchor1190" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1198.1"> dashboard:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer351">
<span class="kobospan" id="kobo.1199.1"><img alt="Figure 6.65 – Zabbix Geomap widget on a dashboard with two hosts" src="image/B19803_06_065.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1200.1">Figure 6.65 – Zabbix Geomap widget on a dashboard with two hosts</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1201.1">We now have a</span><a id="_idIndexMarker472" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1202.1"> functioning Geomap in our Zabbix dashboard that uses the latitude and longitude that are available in our </span><span><span class="kobospan" id="kobo.1203.1">Zabbi</span><a id="_idTextAnchor1191" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1192" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1204.1">x inventory.</span></span></p>
<h2 id="_idParaDest-211" class="calibre7"><a id="_idTextAnchor1193" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1205.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1206.1">Instead of creating an entirely new </span><strong class="bold"><span class="kobospan" id="kobo.1207.1">Monitoring</span></strong><span class="kobospan" id="kobo.1208.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1209.1">Geomap</span></strong><span class="kobospan" id="kobo.1210.1"> page, Zabbix has chosen to include this new feature via a widget, giving us the option to create even more advanced dashboards. </span><span class="kobospan" id="kobo.1210.2">It’s important to note here that Zabbix also chose to use existing inventory data. </span><span class="kobospan" id="kobo.1210.3">Because it is possible to automatically fill in inventory data, as we saw in the </span><em class="italic"><span class="kobospan" id="kobo.1211.1">Setting up Zabbix inventory</span></em><span class="kobospan" id="kobo.1212.1"> recipe, we can also automate our Geomap </span><span><span class="kobospan" id="kobo.1213.1">widget content.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1214.1">So, whether you go the manual route or the automatic route, the Geomap widget is a valuable extension of our dashboard. </span><span class="kobospan" id="kobo.1214.2">In general, Zabbix is extending the dashboard functionality quite a bit by including a bunch of new widgets in </span><span><span class="kobospan" id="kobo.1215.1">Zabbix 7.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1216.1">We will set up our Zabbix automatic reporting in this chapter, which will also use the dashboard functionality. </span><span class="kobospan" id="kobo.1216.2">f you’d like, you can combine a Geomap widget with your automatic report to send out a geographical report. </span><span class="kobospan" id="kobo.1216.3">The key takeaway here is that Zabbix is building interoperability between components and giving us flexibility in the way we want to use a new widget </span><span><span class="kobospan" id="kobo.1217.1">like this.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1218.1">When </span><a id="_idTextAnchor1194" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1219.1">working with the initial release of the Geomap widget, some people asked us if it was possible to change the kind of map that’s used by the Geomap widget. </span><span class="kobospan" id="kobo.1219.2">If we navigate to </span><strong class="bold"><span class="kobospan" id="kobo.1220.1">Administration</span></strong><span class="kobospan" id="kobo.1221.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1222.1">General</span></strong><span class="kobospan" id="kobo.1223.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1224.1">Geographical maps</span></strong><span class="kobospan" id="kobo.1225.1">, we can choose several built-in </span><a id="_idIndexMarker473" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1226.1">ma</span><a id="_idTextAnchor1195" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1227.1">p providers:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer352">
<span class="kobospan" id="kobo.1228.1"><img alt="Figure 6.66 – Administration | General | Geographical maps" src="image/B19803_06_066.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1229.1">Figure 6.66 – Administration | General | Geographical maps</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1230.1">If that isn’t enough, it is also possible to add a custom map provider using the </span><strong class="bold"><span class="kobospan" id="kobo.1231.1">Other</span></strong><span class="kobospan" id="kobo.1232.1"> option under </span><strong class="bold"><span class="kobospan" id="kobo.1233.1">Tile provider</span></strong><span class="kobospan" id="kobo.1234.1">. </span><span class="kobospan" id="kobo.1234.2">Simply fill in the form and you’</span><a id="_idTextAnchor1196" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1235.1">re </span><span><span class="kobospan" id="kobo.1236.1">all set:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer353">
<span class="kobospan" id="kobo.1237.1"><img alt="Figure 6.67 – Administration | General | Geographical maps – Other" src="image/B19803_06_067.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1238.1">Figure 6.67 – Administration | General | Geographical maps – Other</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1239.1">As you can see, a lot of possibilities have been added through this single widget. </span><span class="kobospan" id="kobo.1239.2">One </span><a id="_idTextAnchor1197" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1240.1">of the most requested</span><a id="_idIndexMarker474" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1241.1"> features from the Zabbix community, we can now set it up and use it in the latest </span><span><span class="kobospan" id="kobo.1242.1">Zabb</span><a id="_idTextAnchor1198" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1199" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1243.1">ix releases.</span></span></p>
<h1 id="_idParaDest-212" class="calibre5"><a id="_idTextAnchor1200" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1244.1">Working through Zabbix reporting</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.1245.1">Zabbix reporting got </span><a id="_idIndexMarker475" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1246.1">some well-deserved love from Zabbix development, especially conce</span><a id="_idTextAnchor1201" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1247.1">rning getting reports out of the system and improving the audit log. </span><span class="kobospan" id="kobo.1247.2">First, let’s take a look at some powerful features to show you exactly what’s going on with your statistics right from the Zabbix frontend. </span><span class="kobospan" id="kobo.1247.3">Then, in the next recipe, we’ll take a look at how to create automatic PDF reports, a new and </span><span><span class="kobospan" id="kobo.1248.1">much-anticip</span><a id="_idTextAnchor1202" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1203" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1249.1">ated feature.</span></span></p>
<h2 id="_idParaDest-213" class="calibre7"><a id="_idTextAnchor1204" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1250.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1251.1">For this recipe, all you’ll need is the Zabbix frontend and a monitored host. </span><span class="kobospan" id="kobo.1251.2">I’ll be using the SNMP-monitored host from the </span><span><span class="kobospan" id="kobo.1252.1">prev</span><a id="_idTextAnchor1205" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1206" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1253.1">ious recipes.</span></span></p>
<h2 id="_idParaDest-214" class="calibre7"><a id="_idTextAnchor1207" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1254.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1255.1">There isn’t anything to configure really as reporting is present in Zabbix from the start. </span><span class="kobospan" id="kobo.1255.2">So, let’s dive into what each page of reporting </span><span><span class="kobospan" id="kobo.1256.1">offers us.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1257.1">System infor</span><a id="_idTextAnchor1208" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1258.1">mation</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1259.1">If you navigate</span><a id="_idIndexMarker476" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1260.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.1261.1">Reports</span></strong><span class="kobospan" id="kobo.1262.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1263.1">System information</span></strong><span class="kobospan" id="kobo.1264.1">, you will find the </span><span><span class="kobospan" id="kobo.1265.1">fol</span><a id="_idTextAnchor1209" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1266.1">lowing table:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer354">
<span class="kobospan" id="kobo.1267.1"><img alt="Figure 6.68 – Reports | System information" src="image/B19803_06_068.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1268.1">Figure 6.68 – Reports | System information</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1269.1">You might have seen this table before as it can also be configured as a dashboard widget. </span><span class="kobospan" id="kobo.1269.2">This page gives us all of the information we need about our Zabbix server, such as </span><span><span class="kobospan" id="kobo.1270.1">the following:</span></span></p>
<ul class="calibre14">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1271.1">Zabbix server is running</span></strong><span class="kobospan" id="kobo.1272.1">: This informs us whether the Zabbix server backend is running and where it is running. </span><span class="kobospan" id="kobo.1272.2">In this case, it’s running, and it’s running </span><span><span class="kobospan" id="kobo.1273.1">on </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.1274.1">localhost:10051</span></strong></span><span><span class="kobospan" id="kobo.1275.1">.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1276.1">Zabbix server version</span></strong><span class="kobospan" id="kobo.1277.1">: The version of the Zabbix server daemon installed on </span><span><span class="kobospan" id="kobo.1278.1">our instance.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1279.1">Zabbix frontend version</span></strong><span class="kobospan" id="kobo.1280.1">: The version of the Zabbix frontend currently running on our </span><span><span class="kobospan" id="kobo.1281.1">web server.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1282.1">Software update last checked</span></strong><span class="kobospan" id="kobo.1283.1">: Details when Zabbix last checked for a new </span><span><span class="kobospan" id="kobo.1284.1">available version.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1285.1">Latest release</span></strong><span class="kobospan" id="kobo.1286.1">: This shows us if there is a new version of </span><span><span class="kobospan" id="kobo.1287.1">Zabbix available.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1288.1">Number of hosts</span></strong><span class="kobospan" id="kobo.1289.1">: This will detail the number of hosts enabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1290.1">16</span></strong><span class="kobospan" id="kobo.1291.1">) and the number of hosts disabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1292.1">5</span></strong><span class="kobospan" id="kobo.1293.1">). </span><span class="kobospan" id="kobo.1293.2">It gives us a quick overview of our Zabbix server </span><span><span class="kobospan" id="kobo.1294.1">host information.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1295.1">Number of templates</span></strong><span class="kobospan" id="kobo.1296.1">: A simple counter showing the number of templates currently available on this </span><span><span class="kobospan" id="kobo.1297.1">Zabbix system.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1298.1">Number of items</span></strong><span class="kobospan" id="kobo.1299.1">: Here, we can see details of our Zabbix server’s items – in this case, enabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1300.1">565</span></strong><span class="kobospan" id="kobo.1301.1">), disabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1302.1">241</span></strong><span class="kobospan" id="kobo.1303.1">), and not </span><span><span class="kobospan" id="kobo.1304.1">supported (</span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.1305.1">217</span></strong></span><span><span class="kobospan" id="kobo.1306.1">).</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1307.1">Number of triggers</span></strong><span class="kobospan" id="kobo.1308.1">: This details the number of triggers we have. </span><span class="kobospan" id="kobo.1308.2">We can see how many are enabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1309.1">373</span></strong><span class="kobospan" id="kobo.1310.1">) and disabled (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1311.1">38</span></strong><span class="kobospan" id="kobo.1312.1">), but also how many are in a problem state (</span><strong class="source-inline1"><span class="kobospan" id="kobo.1313.1">12</span></strong><span class="kobospan" id="kobo.1314.1">) and how many are in an OK </span><span><span class="kobospan" id="kobo.1315.1">state (</span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.1316.1">361</span></strong></span><span><span class="kobospan" id="kobo.1317.1">).</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1318.1">Number of users (online)</span></strong><span class="kobospan" id="kobo.1319.1">: The first value details the total number of users. </span><span class="kobospan" id="kobo.1319.2">The second value details the number of users currently logged in to the </span><span><span class="kobospan" id="kobo.1320.1">Zabbix frontend.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1321.1">Required server performance, new values per second</span></strong><span class="kobospan" id="kobo.1322.1">: Perhaps I’m introducing you to a completely new concept here, which is </span><strong class="bold"><span class="kobospan" id="kobo.1323.1">new values per second</span></strong><span class="kobospan" id="kobo.1324.1"> (</span><strong class="bold"><span class="kobospan" id="kobo.1325.1">NVPS</span></strong><span class="kobospan" id="kobo.1326.1">). </span><span class="kobospan" id="kobo.1326.2">A server </span><a id="_idIndexMarker477" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1327.1">receives or requests values through items and </span><a id="_idTextAnchor1210" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1328.1">writes this to our Zabbix database. </span><span class="kobospan" id="kobo.1328.2">The information detailed here shows the estimated number of NVPS</span><a id="_idIndexMarker478" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1329.1"> received by the </span><span><span class="kobospan" id="kobo.1330.1">Zabbix server.</span></span></li>
</ul>
<p class="calibre3"><span class="kobospan" id="kobo.1331.1">You might also see two additional values here, depending on </span><span><span class="kobospan" id="kobo.1332.1">your setup:</span></span></p>
<ul class="calibre14">
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1333.1">Database name</span></strong><span class="kobospan" id="kobo.1334.1">: If you see the name of your database with the value of your version, it might indicate you are running a non-supported database version. </span><span class="kobospan" id="kobo.1334.2">You could see a message like </span><strong class="source-inline1"><span class="kobospan" id="kobo.1335.1">Warning! </span><span class="kobospan" id="kobo.1335.2">Unsupported &lt;DATABASE NAME&gt; database server version. </span><span class="kobospan" id="kobo.1335.3">Should be at least &lt;</span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.1336.1">DATABASE VERSION&gt;</span></strong></span><span><span class="kobospan" id="kobo.1337.1">.</span></span></li>
<li class="calibre15"><strong class="bold"><span class="kobospan" id="kobo.1338.1">High availability cluster</span></strong><span class="kobospan" id="kobo.1339.1">: If you are running a Zabbix server high availa</span><a id="_idTextAnchor1211" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1340.1">bility cluster, you will see if it is enabled here and what the failover delay is. </span><span class="kobospan" id="kobo.1340.2">Additionally, the </span><strong class="bold"><span class="kobospan" id="kobo.1341.1">Reports</span></strong><span class="kobospan" id="kobo.1342.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1343.1">System information</span></strong><span class="kobospan" id="kobo.1344.1"> page will display additional </span><span><span class="kobospan" id="kobo.1345.1">high-availability</span></span><span><a id="_idIndexMarker479" class="pcalibre calibre6 pcalibre1"/></span><span><span class="kobospan" id="kobo.1346.1"> information.</span></span></li>
</ul>
<h3 class="calibre8"><span class="kobospan" id="kobo.1347.1">Availability report</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1348.1">Navigating to </span><strong class="bold"><span class="kobospan" id="kobo.1349.1">Reports</span></strong><span class="kobospan" id="kobo.1350.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1351.1">Availability report</span></strong><span class="kobospan" id="kobo.1352.1"> will give us some useful information </span><a id="_idTextAnchor1212" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1353.1">about how</span><a id="_idIndexMarker480" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1354.1"> long a trigger has been in a </span><strong class="bold"><span class="kobospan" id="kobo.1355.1">Problems</span></strong><span class="kobospan" id="kobo.1356.1"> state versus an </span><strong class="bold"><span class="kobospan" id="kobo.1357.1">Ok</span></strong><span class="kobospan" id="kobo.1358.1"> state for a</span><a id="_idTextAnchor1213" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1359.1">certain period:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer355">
<span class="kobospan" id="kobo.1360.1"><img alt="Figure 6.69 – Reports | Availability report" src="image/6.69.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1361.1">Figure 6.69 – Reports | Availability report</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1362.1">Looking at one of our hosts, we can see that in the last 30 days, the </span><strong class="bold"><span class="kobospan" id="kobo.1363.1">Zabbix agent is not available (for 3m)</span></strong><span class="kobospan" id="kobo.1364.1"> trigger has been in a </span><strong class="bold"><span class="kobospan" id="kobo.1365.1">Problems</span></strong><span class="kobospan" id="kobo.1366.1"> state for </span><strong class="bold"><span class="kobospan" id="kobo.1367.1">10.0000%</span></strong><span class="kobospan" id="kobo.1368.1"> of the time. </span><span class="kobospan" id="kobo.1368.2">This might be useful for us to know so that we can determine how often a certain </span><span><span class="kobospan" id="kobo.1369.1">problem arises.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1370.1">Trigger top 100</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1371.1">Upon navigating </span><a id="_idIndexMarker481" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1372.1">to </span><strong class="bold"><span class="kobospan" id="kobo.1373.1">Reports</span></strong><span class="kobospan" id="kobo.1374.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1375.1">Trigger top 100</span></strong><span class="kobospan" id="kobo.1376.1">, we will find the top 100 triggers that</span><a id="_idTextAnchor1214" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1377.1"> have been firing in a certain</span><a id="_idTextAnchor1215" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1378.1"> amount </span><span><span class="kobospan" id="kobo.1379.1">of time:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer356">
<span class="kobospan" id="kobo.1380.1"><img alt="Figure 6.70 – Reports | Trigger top 100" src="image/6.70.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1381.1">Figure 6.70 – Reports | Trigger top 100</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1382.1">For my Zabbix server, the busiest trigger was a </span><strong class="bold"><span class="kobospan" id="kobo.1383.1">Zabbix agent is not available</span></strong><span class="kobospan" id="kobo.1384.1"> trigger on a server. </span><span class="kobospan" id="kobo.1384.2">It’s a useful page to see what we are putting most of our time </span><span><span class="kobospan" id="kobo.1385.1">into, problem-wise.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1386.1">Audit</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1387.1">The </span><a id="_idTextAnchor1216" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1388.1">audit log, which </span><a id="_idIndexMarker482" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1389.1">is a handy addition to Zabbix, can be found by going to </span><a id="_idTextAnchor1217" class="pcalibre calibre6 pcalibre1"/><strong class="bold"><span class="kobospan" id="kobo.1390.1">Reports</span></strong><span class="kobospan" id="kobo.1391.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1392.1">Audit</span></strong></span><span><span class="kobospan" id="kobo.1393.1">:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer357">
<span class="kobospan" id="kobo.1394.1"><img alt="Figure 6.71 – Reports | Audit" src="image/6.71.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1395.1">Figure 6.71 – Reports | Audit</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1396.1">Here, we can see which user has done what on our Zabbix server – identifying a culprit for something that shouldn’t have been done, </span><span><span class="kobospan" id="kobo.1397.1">for instance.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1398.1">Action log</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1399.1">When we </span><a id="_idIndexMarker483" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1400.1">go to </span><strong class="bold"><span class="kobospan" id="kobo.1401.1">Reports</span></strong><span class="kobospan" id="kobo.1402.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1403.1">Action log</span></strong><span class="kobospan" id="kobo.1404.1">, we land on a page that shows which actions have been</span><a id="_idTextAnchor1218" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1405.1"> fired. </span><span class="kobospan" id="kobo.1405.2">If you’ve configured </span><strong class="bold"><span class="kobospan" id="kobo.1406.1">Actions</span></strong><span class="kobospan" id="kobo.1407.1">, then you can get a list </span><a id="_idTextAnchor1219" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1408.1">here, </span><span><span class="kobospan" id="kobo.1409.1">like this:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer358">
<span class="kobospan" id="kobo.1410.1"><img alt="Figure 6.72 – Reports | Action log" src="image/B19803_06_072.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1411.1">Figure 6.72 – Reports | Action log</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1412.1">If you’re not sure if your action succeeded, then look at this list. </span><span class="kobospan" id="kobo.1412.2">It is very useful to troubleshoot your actions to a point where you get them up and running as </span><span><span class="kobospan" id="kobo.1413.1">you want</span><a id="_idTextAnchor1220" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1414.1">.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1415.1">When you hover over the </span><strong class="bold"><span class="kobospan" id="kobo.1416.1">Info</span></strong><span class="kobospan" id="kobo.1417.1"> box, you also get to see what went wrong. </span><span class="kobospan" id="kobo.1417.2">For example, for the </span><strong class="bold"><span class="kobospan" id="kobo.1418.1">Failed</span></strong><span class="kobospan" id="kobo.1419.1"> items on my Zabbix instance, I must define the appropriate media type for </span><a id="_idTextAnchor1221" class="pcalibre calibre6 pcalibre1"/><a id="_idIndexMarker484" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1420.1">the </span><span><strong class="bold"><span class="kobospan" id="kobo.1421.1">Admin</span></strong></span><span><span class="kobospan" id="kobo.1422.1"> user:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer359">
<span class="kobospan" id="kobo.1423.1"><img alt="Figure 6.73 – Reports | Action log – Info" src="image/B19803_06_073.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1424.1">Figure 6.73 – Reports | Action log – Info</span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1425.1">Notifications</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1426.1">Last, but </span><a id="_idIndexMarker485" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1427.1">not least, navigating to </span><strong class="bold"><span class="kobospan" id="kobo.1428.1">Reports</span></strong><span class="kobospan" id="kobo.1429.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1430.1">Notifications</span></strong><span class="kobospan" id="kobo.1431.1"> will show us the number of notifications th</span><a id="_idTextAnchor1222" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1432.1">at have been sent to a certain user over a</span><a id="_idTextAnchor1223" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1433.1">certain period:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer360">
<span class="kobospan" id="kobo.1434.1"><img alt="Figure 6.74 – Reports | Notifications" src="image/B19803_06_074.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1435.1">Figure 6.74 – Reports | Notifications</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1436.1">In my case, </span><strong class="source-inline"><span class="kobospan" id="kobo.1437.1">50</span></strong><span class="kobospan" id="kobo.1438.1"> notifications have been sent to the </span><strong class="bold"><span class="kobospan" id="kobo.1439.1">Admin</span></strong><span class="kobospan" id="kobo.1440.1"> user this year, and </span><strong class="source-inline"><span class="kobospan" id="kobo.1441.1">0</span><a id="_idTextAnchor1224" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1225" class="pcalibre calibre6 pcalibre1"/></strong><span class="kobospan" id="kobo.1442.1"> to </span><span><span class="kobospan" id="kobo.1443.1">other users.</span></span></p>
<h1 id="_idParaDest-215" class="calibre5"><span class="kobospan" id="kobo.1444.1">Setting up scheduled PDF repor</span><a id="_idTextAnchor1226" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1445.1">ts</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.1446.1">A much-wanted feature</span><a id="_idIndexMarker486" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1447.1"> was added in Zabbix 5.4: sending automatic PDF reports through email. </span><span class="kobospan" id="kobo.1447.2">Let me start by stating that this implementation might not fully cover every Zabbix user’s situation yet. </span><span class="kobospan" id="kobo.1447.3">What this feature does is take a screenshot of any Zabbix dashboard and send it through email. </span><span class="kobospan" id="kobo.1447.4">It’s not just a screenshot, though – data is converted into text in the PDF file and the resolution is very high. </span><span class="kobospan" id="kobo.1447.5">It’s the first setup from the Zabbix developers and I think we should appreciate it for what </span><span><span class="kobospan" id="kobo.1448.1">it is.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1449.1">On top of that, it is a very flexible way of implementing this as we can choose any kind of widget available, along with its filters, and send it in an automatic report. </span><span class="kobospan" id="kobo.1449.2">On top of that, it gives the Zabbix development team the flexibility to add new widgets on the fly that immediately work with </span><a id="_idTextAnchor1227" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1228" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1450.1">your </span><span><span class="kobospan" id="kobo.1451.1">PDF reports.</span></span></p>
<h2 id="_idParaDest-216" class="calibre7"><a id="_idTextAnchor1229" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1452.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1453.1">We will need an existing Zabbix installation with access to the frontend and the CLI. </span><span class="kobospan" id="kobo.1453.2">You can use the server we have been using throughout this book for this or you can use your </span><span><span class="kobospan" id="kobo.1454.1">own installation.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1455.1">In the case of a multi-host setup, the easiest method is to install this where the Zabb</span><a id="_idTextAnchor1230" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1456.1">ix server is also running, but it is possible to run this on any host. </span><span class="kobospan" id="kobo.1456.2">In this example, we’ve used our </span><span><span class="kobospan" id="kobo.1457.1">single-host installation.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1458.1">You will also need to set up a user with an </span><a id="_idTextAnchor1231" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1232" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1459.1">email </span><span><span class="kobospan" id="kobo.1460.1">media type.</span></span></p>
<h2 id="_idParaDest-217" class="calibre7"><a id="_idTextAnchor1233" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1461.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1462.1">To get started with Zabbix scheduled reports, we need to install some things on our </span><span><span class="kobospan" id="kobo.1463.1">Zabbix server:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.1464.1">Let’s log in to our Zabbix server CLI and execute the following command to install the Google </span><span><span class="kobospan" id="kobo.1465.1">Chrome browser.</span></span><p class="calibre3"><span class="kobospan" id="kobo.1466.1">On RHEL-based systems, run the </span><span><span class="kobospan" id="kobo.1467.1">following command:</span></span></p><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1468.1">vim /etc/yum.repos.d/google-chrome.repo</span></strong></pre><p class="calibre3"><span class="kobospan" id="kobo.1469.1">Then, add the following to </span><span><span class="kobospan" id="kobo.1470.1">the file:</span></span></p><pre class="source-code"><span class="kobospan1" id="kobo.1471.1">[google-chrome]
name=google-chrome
baseurl=http://dl.google.com/linux/chrome/rpm/stable/$basearch
enabled=1
gpgcheck=1
gpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub</span></pre><p class="calibre3"><span class="kobospan" id="kobo.1472.1">Finally, install </span><span><span class="kobospan" id="kobo.1473.1">Google Chrome:</span></span></p><pre class="source-code"><strong class="bold1"><span class="kobospan1" id="kobo.1474.1">dnf install -y google-chrome-stable</span></strong></pre><p class="calibre3"><span class="kobospan" id="kobo.1475.1">On Ubuntu systems, run the </span><span><span class="kobospan" id="kobo.1476.1">following command:</span></span></p><pre class="source-code"><strong class="bold1"><span class="kobospan1" id="kobo.1477.1">wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -</span></strong>
<strong class="bold1"><span class="kobospan1" id="kobo.1478.1">sudo sh -c 'echo "deb http://dl.google.com/linux/chrome/deb/ stable main" &gt;&gt; /etc/apt/sources.list.d/google.list'</span></strong>
<strong class="bold1"><span class="kobospan1" id="kobo.1479.1">sudo apt update</span></strong>
<strong class="bold1"><span class="kobospan1" id="kobo.1480.1">sudo apt-get install google-chrome-stable</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.1481.1">Now, let’s install </span><a id="_idIndexMarker487" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1482.1">our required Zabbix web services package with the </span><span><span class="kobospan" id="kobo.1483.1">following commands.</span></span><p class="calibre3"><span class="kobospan" id="kobo.1484.1">Here’s the command for </span><span><span class="kobospan" id="kobo.1485.1">RHEL-based systems:</span></span></p><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1486.1">dnf install zabbix-web-service</span></strong></pre><p class="calibre3"><span class="kobospan" id="kobo.1487.1">Here’s the command for </span><span><span class="kobospan" id="kobo.1488.1">Ubuntu systems:</span></span></p><pre class="source-code"><strong class="bold1"><span class="kobospan1" id="kobo.1489.1">apt install install zabbix-web-service</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.1490.1">Now, let’s edit our new Zabbix web service </span><span><span class="kobospan" id="kobo.1491.1">configuration file:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1492.1">vim /etc/zabbix/zabbix_web_service.conf</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.1493.1">We can find a bunch of Zabbix web-service-specific parameters here, includin</span><a id="_idTextAnchor1234" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1494.1">g encryption. </span><span class="kobospan" id="kobo.1494.2">Make sure the following line is set up to match your Zabbix </span><span><span class="kobospan" id="kobo.1495.1">server(s) IP(s):</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1496.1">AllowedIP=127.0.0.1,::1</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.1497.1">Now, let’s edit our Zabbix server </span><span><span class="kobospan" id="kobo.1498.1">configuration file:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1499.1">vim /etc/zabbix/zabbix_server.conf</span></strong></pre></li> <li class="calibre15"><span class="kobospan" id="kobo.1500.1">Edit the </span><strong class="source-inline1"><span class="kobospan" id="kobo.1501.1">WebServiceURL</span></strong><span class="kobospan" id="kobo.1502.1"> parameter so that it matches your Zabbix web service IP and </span><strong class="source-inline1"><span class="kobospan" id="kobo.1503.1">StartReportWriters</span></strong><span class="kobospan" id="kobo.1504.1"> to make sure we have a </span><span><span class="kobospan" id="kobo.1505.1">reporting subprocess:</span></span><pre class="source-code">
<strong class="bold1"><span class="kobospan1" id="kobo.1506.1">WebServiceURL=https://localhost:10053/report</span></strong>
<strong class="bold1"><span class="kobospan1" id="kobo.1507.1">StartReportWriters=3</span></strong></pre></li> </ol>
<p class="callout-heading"><span class="kobospan" id="kobo.1508.1">Important note</span></p>
<p class="callout"><span class="kobospan" id="kobo.1509.1">For scheduled reporting to work, you will need to set up SSL encryption for your Zabbix frontend; we recommend using Let’s Encrypt. </span><span class="kobospan" id="kobo.1509.2">Alternatively, set the </span><strong class="source-inline1"><span class="kobospan" id="kobo.1510.1">IgnoreURLCertErrors=1</span></strong><span class="kobospan" id="kobo.1511.1"> parameter </span><span><span class="kobospan" id="kobo.1512.1">in </span></span><span><strong class="source-inline1"><span class="kobospan" id="kobo.1513.1">/etc/zabbix/zabbix_web_service.conf</span></strong></span><span><span class="kobospan" id="kobo.1514.1">.</span></span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.1515.1">That’s it for</span><a id="_idIndexMarker488" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1516.1"> the CLI part. </span><span class="kobospan" id="kobo.1516.2">Let’s log in to our frontend and navigate to </span><strong class="bold"><span class="kobospan" id="kobo.1517.1">Administration</span></strong><span class="kobospan" id="kobo.1518.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1519.1">General</span></strong><span class="kobospan" id="kobo.1520.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1521.1">Other</span></strong></span><span><span class="kobospan" id="kobo.1522.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1523.1">Make sure you fill out the </span><strong class="bold"><span class="kobospan" id="kobo.1524.1">Frontend URL</span></strong><span class="kobospan" id="kobo.1525.1"> parameter on this page with your fronte</span><a id="_idTextAnchor1235" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1526.1">nd URL, </span><span><span class="kobospan" id="kobo.1527.1">like this:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer361">
<span class="kobospan" id="kobo.1528.1"><img alt="Figure 6.75 – Administration | General | Others with Frontend URL filled in" src="image/B19803_06_075.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1529.1">Figure 6.75 – Administration | General | Others with Frontend URL filled in</span></p>
<ol class="calibre16">
<li value="9" class="calibre15"><span class="kobospan" id="kobo.1530.1">Click the blue </span><strong class="bold"><span class="kobospan" id="kobo.1531.1">Update</span></strong><span class="kobospan" id="kobo.1532.1"> button at the bottom of the page and navigate to </span><strong class="bold"><span class="kobospan" id="kobo.1533.1">Reports</span></strong><span class="kobospan" id="kobo.1534.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1535.1">Scheduled reports</span></strong></span><span><span class="kobospan" id="kobo.1536.1">.</span></span></li>
<li class="calibre15"><a id="_idTextAnchor1236" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1537.1">Now, we are on the page where we can set up and maintain our scheduled reports. </span><span class="kobospan" id="kobo.1537.2">So, let’s create a new one using the blue </span><strong class="bold"><span class="kobospan" id="kobo.1538.1">Create report</span></strong><span class="kobospan" id="kobo.1539.1"> button in the </span><span><span class="kobospan" id="kobo.1540.1">top-right corner.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1541.1">This will take us to a new page where we can set up a new report. </span><span class="kobospan" id="kobo.1541.2">Let’s set up a weekly report using our existing dashboard’s </span><strong class="bold"><span class="kobospan" id="kobo.1542.1">Global view</span></strong><span class="kobospan" id="kobo.1543.1">. </span><span class="kobospan" id="kobo.1543.2">First, we’ll name this report </span><strong class="source-inline1"><span class="kobospan" id="kobo.1544.1">Weekly overview of the Global </span></strong><span><strong class="source-inline1"><span class="kobospan" id="kobo.1545.1">view dashboard</span></strong></span><span><span class="kobospan" id="kobo.1546.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1547.1">Select the dashboard’s </span><strong class="bold"><span class="kobospan" id="kobo.1548.1">Global view</span></strong><span class="kobospan" id="kobo.1549.1"> by clicking the </span><strong class="bold"><span class="kobospan" id="kobo.1550.1">Select</span></strong><span class="kobospan" id="kobo.1551.1"> button next </span><span><span class="kobospan" id="kobo.1552.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.1553.1">Dashboard</span></strong></span><span><span class="kobospan" id="kobo.1554.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1555.1">Set </span><strong class="bold"><span class="kobospan" id="kobo.1556.1">Cycle</span></strong><span class="kobospan" id="kobo.1557.1"> to </span><strong class="bold"><span class="kobospan" id="kobo.1558.1">Weekly</span></strong><span class="kobospan" id="kobo.1559.1"> with </span><a id="_idIndexMarker489" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1560.1">a start time of </span><strong class="source-inline1"><span class="kobospan" id="kobo.1561.1">9:00</span></strong><span class="kobospan" id="kobo.1562.1"> and set </span><strong class="bold"><span class="kobospan" id="kobo.1563.1">Re</span><a id="_idTextAnchor1237" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1564.1">peat on</span></strong> <span><span class="kobospan" id="kobo.1565.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.1566.1">Monday</span></strong></span><span><span class="kobospan" id="kobo.1567.1">:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer362">
<span class="kobospan" id="kobo.1568.1"><img alt="Figure 6.76 – Reports | Scheduled reports – creating a new report, part I" src="image/B19803_06_076.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1569.1">Figure 6.76 – Reports | Scheduled reports – creating a new report, part I</span></p>
<ol class="calibre16">
<li value="14" class="calibre15"><span class="kobospan" id="kobo.1570.1">Also, make sure to fill in </span><strong class="bold"><span class="kobospan" id="kobo.1571.1">Subject</span></strong><span class="kobospan" id="kobo.1572.1"> and </span><strong class="bold"><span class="kobospan" id="kobo.1573.1">Message</span></strong><span class="kobospan" id="kobo.1574.1"> and set up </span><strong class="bold"><span class="kobospan" id="kobo.1575.1">Subscriptions</span></strong><span class="kobospan" id="kobo.1576.1"> so tha</span><a id="_idTextAnchor1238" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1577.1">t they match users that have media with the type of email set on th</span><a id="_idTextAnchor1239" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1578.1">eir </span><span><span class="kobospan" id="kobo.1579.1">user profile:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer363">
<span class="kobospan" id="kobo.1580.1"><img alt="Figure 6.77 – Reports | Scheduled reports – creating a new report page, part II" src="image/B19803_06_077.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1581.1">Figure 6.77 – Reports | Scheduled reports – creating a new report page, part II</span></p>
<ol class="calibre16">
<li value="15" class="calibre15"><span class="kobospan" id="kobo.1582.1">You can now click the </span><strong class="bold"><span class="kobospan" id="kobo.1583.1">Test</span></strong><span class="kobospan" id="kobo.1584.1"> button to see if the report is working. </span><span class="kobospan" id="kobo.1584.2">Once it is, use the blue </span><strong class="bold"><span class="kobospan" id="kobo.1585.1">Add</span></strong><span class="kobospan" id="kobo.1586.1"> button to finish setting up this </span><a id="_idTextAnchor1240" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1241" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1587.1">scheduled report.</span></span></li>
</ol>
<h2 id="_idParaDest-218" class="calibre7"><a id="_idTextAnchor1242" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1588.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1589.1">This feature is </span><a id="_idIndexMarker490" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1590.1">long-awaited and is finally here, but it’s not finished and is simply still a building block for more advanced scheduled reports coming later. </span><span class="kobospan" id="kobo.1590.2">There are some key things to keep in mind with this new reporting functionality. </span><span class="kobospan" id="kobo.1590.3">I always state that Zabbix development tries to keep everything as customizable as possible by adding features and interconnecting them to make sure we can use existing functionality in </span><span><span class="kobospan" id="kobo.1591.1">new ways.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1592.1">The Zabbix development team could have decided to create a fully fledged PDF reporting engine for Zabbix. </span><span class="kobospan" id="kobo.1592.2">But by going the way of using Zabbix dashboards as building blocks for all your PDF reports, they have created versatility and customizability. </span><span class="kobospan" id="kobo.1592.3">Every single new dashboard widget that is added is now available for you to use in your PDF reports, and more and more reporting-focused widgets will be added in the </span><span><span class="kobospan" id="kobo.1593.1">near future.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1594.1">Zabbix simply grabs the information from your dashboard and sends it to you in a PDF </span><a id="_idTextAnchor1243" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1595.1">form using the new Zabbix web services module and the Google Chrome browser. </span><span class="kobospan" id="kobo.1595.2">Once we get these prerequisites out of the way, we are provided with a way to send PDF reports to any of </span><a id="_idIndexMarker491" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1596.1">our Zabbix users, provided they have an email</span><a id="_idTextAnchor1244" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1245" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1597.1"> media type </span><span><span class="kobospan" id="kobo.1598.1">set up.</span></span></p>
<h1 id="_idParaDest-219" class="calibre5"><a id="_idTextAnchor1246" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1599.1">Setting up improved business service monitoring</span></h1>
<p class="calibre3"><span class="kobospan" id="kobo.1600.1">Business service </span><a id="_idIndexMarker492" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1601.1">monitoring is a way to monitor the services that we, as a business, offer to our customers or internally. </span><span class="kobospan" id="kobo.1601.2">Think of a CRM system, email, and our website. </span><span class="kobospan" id="kobo.1601.3">It all has to work and we’d like to know if it does for the people using them. </span><span class="kobospan" id="kobo.1601.4">It also allows us to monitor the SLA of those services, if we want to </span><span><span class="kobospan" id="kobo.1602.1">define them.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1603.1">Starting from Zabbix 6.0, business service monitoring has had an entire overhaul. </span><span class="kobospan" id="kobo.1603.2">If you’ve set it up in versions </span><a id="_idTextAnchor1247" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1604.1">before 6.0, it might be wise to spend some time rediscovering the basics using this recipe. </span><span class="kobospan" id="kobo.1604.2">If you’re starting with 7.0 here and you’re entirely new to business service monitoring, don’t worry as we will go through setting it up step by </span><a id="_idTextAnchor1248" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1249" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1605.1">step in </span><span><span class="kobospan" id="kobo.1606.1">this recipe.</span></span></p>
<h2 id="_idParaDest-220" class="calibre7"><a id="_idTextAnchor1250" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1607.1">Getting ready</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1608.1">We will need our Zabbix server and access to its frontend. </span><span class="kobospan" id="kobo.1608.2">I’ll be using my </span><strong class="source-inline"><span class="kobospan" id="kobo.1609.1">lar-book-centos</span></strong><span class="kobospan" id="kobo.1610.1"> host with the configuration we have done so far. </span><span class="kobospan" id="kobo.1610.2">We will also need a monitored host, for which I will use the Z</span><a id="_idTextAnchor1251" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1252" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1611.1">abbix </span><span><span class="kobospan" id="kobo.1612.1">server itself.</span></span></p>
<h2 id="_idParaDest-221" class="calibre7"><a id="_idTextAnchor1253" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1613.1">How to do it…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1614.1">I’ll be using the Zabbix frontend as an example to set up business service monitoring, for </span><a id="_idTextAnchor1254" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1615.1">which we will create a new host called </span><strong class="source-inline"><span class="kobospan" id="kobo.1616.1">lar-book-zabbix-frontend</span></strong><span class="kobospan" id="kobo.1617.1"> with some items </span><span><span class="kobospan" id="kobo.1618.1">and triggers.</span></span></p>
<h3 class="calibre8"><span class="kobospan" id="kobo.1619.1">Setting up items and triggers</span></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1620.1">If you have followed </span><a id="_idIndexMarker493" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1621.1">the previous recipes, you should have</span><a id="_idTextAnchor1255" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1622.1"> a good understanding of setting up item</span><a id="_idTextAnchor1256" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1623.1">s and triggers. </span><span class="kobospan" id="kobo.1623.2">Let’s go through it again and set up some for our business service </span><span><span class="kobospan" id="kobo.1624.1">monitoring example:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.1625.1">First, let’s create a new template by logging in to our Zabbix frontend and navigating to </span><strong class="bold"><span class="kobospan" id="kobo.1626.1">Data collection</span></strong><span class="kobospan" id="kobo.1627.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1628.1">Templates</span></strong></span><span><span class="kobospan" id="kobo.1629.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1630.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1631.1">Create template</span></strong><span class="kobospan" id="kobo.1632.1"> button in the top-right corner and fill in t</span><a id="_idTextAnchor1257" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1633.1">he page, </span><span><span class="kobospan" id="kobo.1634.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer364">
<span class="kobospan" id="kobo.1635.1"><img alt="Figure 6.78 – New Zabbix frontend template configuration page" src="image/B19803_06_078.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1636.1">Figure 6.78 – New Zabbix frontend template configuration page</span></p>
<ol class="calibre16">
<li value="3" class="calibre15"><span class="kobospan" id="kobo.1637.1">Make sure you </span><a id="_idIndexMarker494" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1638.1">save this new template by clicking the blue </span><span><strong class="bold"><span class="kobospan" id="kobo.1639.1">Add</span></strong></span><span><span class="kobospan" id="kobo.1640.1"> button.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1641.1">Now, let’s set up our new host by navigating to </span><strong class="bold"><span class="kobospan" id="kobo.1642.1">Data collection</span></strong><span class="kobospan" id="kobo.1643.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1644.1">Hosts</span></strong></span><span><span class="kobospan" id="kobo.1645.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1646.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1647.1">Create host</span></strong><span class="kobospan" id="kobo.1648.1"> button in the top-right corner and fill in t</span><a id="_idTextAnchor1258" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1649.1">he page, </span><span><span class="kobospan" id="kobo.1650.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer365">
<span class="kobospan" id="kobo.1651.1"><img alt="Figure 6.79 – New Zabbix frontend host configur﻿ation page" src="image/B19803_06_079.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1652.1">Figure 6.79 – New Zabbix frontend host configur</span><a id="_idTextAnchor1259" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1653.1">ation page</span></p>
<ol class="calibre16">
<li value="6" class="calibre15"><span class="kobospan" id="kobo.1654.1">Then, add</span><a id="_idIndexMarker495" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1260" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1655.1"> the following tag by navigat</span><a id="_idTextAnchor1261" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1656.1">ing to the </span><span><strong class="bold"><span class="kobospan" id="kobo.1657.1">Tags</span></strong></span><span><span class="kobospan" id="kobo.1658.1"> tab:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer366">
<span class="kobospan" id="kobo.1659.1"><img alt="Figure 6.80 – New Zabbix frontend host configuration page – the Tags tab" src="image/B19803_06_080.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1660.1">Figure 6.80 – New Zabbix frontend host configuration page – the Tags tab</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.1661.1">Click the blue </span><strong class="bold"><span class="kobospan" id="kobo.1662.1">Add</span></strong><span class="kobospan" id="kobo.1663.1"> button to save this new host configuration and navigate to </span><strong class="bold"><span class="kobospan" id="kobo.1664.1">Data collection</span></strong><span class="kobospan" id="kobo.1665.1"> | </span><span><strong class="bold"><span class="kobospan" id="kobo.1666.1">Templates</span></strong></span><span><span class="kobospan" id="kobo.1667.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1668.1">Edit the </span><strong class="bold"><span class="kobospan" id="kobo.1669.1">Zabbix frontend by Zabbix agent</span></strong><span class="kobospan" id="kobo.1670.1"> template and go to </span><span><strong class="bold"><span class="kobospan" id="kobo.1671.1">Value m</span><a id="_idTextAnchor1262" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1672.1">apping</span></strong></span><span><span class="kobospan" id="kobo.1673.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1674.1">Click on </span><a id="_idTextAnchor1263" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1675.1">the small </span><strong class="bold"><span class="kobospan" id="kobo.1676.1">Add</span></strong><span class="kobospan" id="kobo.1677.1"> button with the blue dotted line under it and add the follo</span><a id="_idTextAnchor1264" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1678.1">wing </span><a id="_idIndexMarker496" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1679.1">value mapping:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer367">
<span class="kobospan" id="kobo.1680.1"><img alt="Figure 6.81 – Template Zabbix frontend by Zabbix agent, Service state value mapping" src="image/B19803_06_081.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1681.1">Figure 6.81 – Template Zabbix frontend by Zabbix agent, Service state value mapping</span></p>
<ol class="calibre16">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.1682.1">Make sure you click the blue </span><strong class="bold"><span class="kobospan" id="kobo.1683.1">Update</span></strong><span class="kobospan" id="kobo.1684.1"> button. </span><span class="kobospan" id="kobo.1684.2">Then, back on the template, go </span><span><span class="kobospan" id="kobo.1685.1">to </span></span><span><strong class="bold"><span class="kobospan" id="kobo.1686.1">Items</span></strong></span><span><span class="kobospan" id="kobo.1687.1">.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1688.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1689.1">Create item</span></strong><span class="kobospan" id="kobo.1690.1"> button and</span><a id="_idTextAnchor1265" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1691.1"> add </span><span><span class="kobospan" id="kobo.1692.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer368">
<span class="kobospan" id="kobo.1693.1"><img alt="Figure 6.82 – ICMP ping item" src="image/B19803_06_082.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1694.1">Figure 6.82 – ICMP ping item</span></p>
<ol class="calibre16">
<li value="12" class="calibre15"><span class="kobospan" id="kobo.1695.1">Before adding the item, make sure you also add the </span><strong class="bold"><span class="kobospan" id="kobo.1696.1">Value mapping</span></strong> <a id="_idTextAnchor1266" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1697.1">value, </span><span><span class="kobospan" id="kobo.1698.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer369">
<span class="kobospan" id="kobo.1699.1"><img alt="Figure 6.83 – ICMP ping item value mapping" src="image/B19803_06_083.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1700.1">Figure 6.83 – ICMP ping item value mapping</span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.1701.1">We must </span><a id="_idIndexMarker497" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1702.1">also go to the </span><strong class="bold"><span class="kobospan" id="kobo.1703.1">Tags</span></strong><span class="kobospan" id="kobo.1704.1"> tab to add some </span><a id="_idTextAnchor1267" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1705.1">tags to </span><span><span class="kobospan" id="kobo.1706.1">this item:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer370">
<span class="kobospan" id="kobo.1707.1"><img alt="Figure 6.84 – ICMP ping item – the T﻿ags tab" src="image/B19803_06_084.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1708.1">Figure 6.84 – ICMP ping item – the T</span><a id="_idTextAnchor1268" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1709.1">ags tab</span></p>
<ol class="calibre16">
<li value="14" class="calibre15"><span class="kobospan" id="kobo.1710.1">Now, click the </span><a id="_idTextAnchor1269" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1711.1">blue </span><strong class="bold"><span class="kobospan" id="kobo.1712.1">Add</span></strong><span class="kobospan" id="kobo.1713.1"> button at the bottom of </span><span><span class="kobospan" id="kobo.1714.1">the page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1715.1">Back at </span><strong class="bold"><span class="kobospan" id="kobo.1716.1">Items</span></strong><span class="kobospan" id="kobo.1717.1">, click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1718.1">Create item</span></strong><span class="kobospan" id="kobo.1719.1"> button to create another item. </span><span class="kobospan" id="kobo.1719.2">Fill i</span><a id="_idTextAnchor1270" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1720.1">t in, </span><span><span class="kobospan" id="kobo.1721.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer371">
<span class="kobospan" id="kobo.1722.1"><img alt="Figure 6.85 – Agent ping item" src="image/B19803_06_085.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1723.1">Figure 6.85 – Agent ping item</span></p>
<ol class="calibre16">
<li value="16" class="calibre15"><span class="kobospan" id="kobo.1724.1">We must</span><a id="_idIndexMarker498" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1725.1"> also go to the </span><strong class="bold"><span class="kobospan" id="kobo.1726.1">Tags</span></strong><span class="kobospan" id="kobo.1727.1"> tab to add some t</span><a id="_idTextAnchor1271" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1728.1">ags to </span><span><span class="kobospan" id="kobo.1729.1">this item:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer372">
<span class="kobospan" id="kobo.1730.1"><img alt="Figure 6.86 – HTTP service state item – the Tags tab" src="image/B19803_06_086.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1731.1">Figure 6.86 – HTTP service state item – the Tags tab</span></p>
<ol class="calibre16">
<li value="17" class="calibre15"><span class="kobospan" id="kobo.1732.1">Now, save the new item by clicking the blue </span><strong class="bold"><span class="kobospan" id="kobo.1733.1">Add</span></strong><span class="kobospan" id="kobo.1734.1"> button at the bottom of </span><span><span class="kobospan" id="kobo.1735.1">the </span><a id="_idTextAnchor1272" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1736.1">page.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1737.1">Now that we have two</span><a id="_idTextAnchor1273" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1738.1"> new items, let’s navigate to the </span><strong class="bold"><span class="kobospan" id="kobo.1739.1">Triggers</span></strong><span class="kobospan" id="kobo.1740.1"> page for </span><span><span class="kobospan" id="kobo.1741.1">this template.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1742.1">Click the </span><strong class="bold"><span class="kobospan" id="kobo.1743.1">Create trigger</span></strong><span class="kobospan" id="kobo.1744.1"> button in the top-right corner and add the </span><span><span class="kobospan" id="kobo.1745.1">fo</span><a id="_idTextAnchor1274" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1746.1">llowing trigger:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer373">
<span class="kobospan" id="kobo.1747.1"><img alt="Figure 6.87 – ICMP down trigger configuration" src="image/B19803_06_087.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1748.1">Figure 6.87 – ICMP down trigger configuration</span></p>
<ol class="calibre16">
<li value="20" class="calibre15"><span class="kobospan" id="kobo.1749.1">On the </span><strong class="bold"><span class="kobospan" id="kobo.1750.1">Tags</span></strong><span class="kobospan" id="kobo.1751.1"> tab, we </span><a id="_idIndexMarker499" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1752.1">need to add a new tag, indicating that this trigger will be used in our</span><a id="_idTextAnchor1275" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1753.1">SLA monitoring:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer374">
<span class="kobospan" id="kobo.1754.1"><img alt="Figure 6.88 – ICMP down trigger – the Tag﻿s tab" src="image/B19803_06_088.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1755.1">Figure 6.88 – ICMP down trigger – the Tag</span><a id="_idTextAnchor1276" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1756.1">s tab</span></p>
<ol class="calibre16">
<li value="21" class="calibre15"><span class="kobospan" id="kobo.1757.1">Now, let’s click the</span><a id="_idTextAnchor1277" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1758.1"> blue </span><strong class="bold"><span class="kobospan" id="kobo.1759.1">Add</span></strong><span class="kobospan" id="kobo.1760.1"> button to add this trigger. </span><span class="kobospan" id="kobo.1760.2">Then, create another trigger using the </span><strong class="bold"><span class="kobospan" id="kobo.1761.1">Create trigger</span></strong><span class="kobospan" id="kobo.1762.1"> button in the </span><span><span class="kobospan" id="kobo.1763.1">top-right corner.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1764.1">Let’s add the </span><span><span class="kobospan" id="kobo.1765.1">fol</span><a id="_idTextAnchor1278" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1766.1">lowing trigger:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer375">
<span class="kobospan" id="kobo.1767.1"><img alt="Figure 6.89 – Zabbix agent is unreachable trigger configuration" src="image/B19803_06_089.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1768.1">Figure 6.89 – Zabbix agent is unreachable trigger configuration</span></p>
<ol class="calibre16">
<li value="23" class="calibre15"><span class="kobospan" id="kobo.1769.1">Make sure you add a tag for the SLA on this trigger as well by going to</span><a id="_idTextAnchor1279" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1770.1"> the </span><span><strong class="bold"><span class="kobospan" id="kobo.1771.1">Tags</span></strong></span><span><span class="kobospan" id="kobo.1772.1"> tab:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer376">
<span class="kobospan" id="kobo.1773.1"><img alt="Figure 6.90 – Zabbix agent is unreachable trigger – the Tags﻿ tab" src="image/B19803_06_090.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1774.1">Figure 6.90 – Zabbix agent is unreachable trigger – the Tags</span><a id="_idTextAnchor1280" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1775.1"> tab</span></p>
<ol class="calibre16">
<li value="24" class="calibre15"><span class="kobospan" id="kobo.1776.1">Click </span><a id="_idIndexMarker500" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1777.1">the blue </span><strong class="bold"><span class="kobospan" id="kobo.1778.1">Add</span></strong><span class="kobospan" id="kobo.1779.1"> b</span><a id="_idTextAnchor1281" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1780.1">utton to finish setting up </span><span><span class="kobospan" id="kobo.1781.1">this trigger.</span></span></li>
</ol>
<h3 class="calibre8"><span class="kobospan" id="kobo.1782.1">Adding the business service monitoring configuration</span><a id="_idTextAnchor1282" class="pcalibre calibre6 pcalibre1"/></h3>
<p class="calibre3"><span class="kobospan" id="kobo.1783.1">That concludes </span><a id="_idIndexMarker501" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1784.1">our item and trigger configuration. </span><span class="kobospan" id="kobo.1784.2">We can now continue with setting up our business </span><span><span class="kobospan" id="kobo.1785.1">service monitoring:</span></span></p>
<ol class="calibre16">
<li class="calibre15"><span class="kobospan" id="kobo.1786.1">First, let’s define our SLA period by going to </span><strong class="bold"><span class="kobospan" id="kobo.1787.1">Services</span></strong><span class="kobospan" id="kobo.1788.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1789.1">SLA</span></strong><span class="kobospan" id="kobo.1790.1"> and clicking on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1791.1">Create SLA</span></strong><span class="kobospan" id="kobo.1792.1"> button in the top-right corner. </span><span class="kobospan" id="kobo.1792.2">We’ll define the</span><a id="_idTextAnchor1283" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1793.1">following SLA:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer377">
<span class="kobospan" id="kobo.1794.1"><img alt="Figure 6.91 – Services | SLA – Zabbix SLA setup" src="image/B19803_06_091.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1795.1">Figure 6.91 – Services | SLA – Zabbix SLA setup</span></p>
<ol class="calibre16">
<li value="2" class="calibre15"><span class="kobospan" id="kobo.1796.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.1797.1">Add</span></strong><span class="kobospan" id="kobo.1798.1"> at the</span><a id="_idIndexMarker502" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1799.1"> bottom of the window to save </span><span><span class="kobospan" id="kobo.1800.1">th</span><a id="_idTextAnchor1284" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1801.1">is SLA.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1802.1">Next, go to </span><strong class="bold"><span class="kobospan" id="kobo.1803.1">Service</span></strong><span class="kobospan" id="kobo.1804.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1805.1">Service</span></strong><span class="kobospan" id="kobo.1806.1"> and select </span><strong class="bold"><span class="kobospan" id="kobo.1807.1">Edit</span></strong><span class="kobospan" id="kobo.1808.1"> using the slider in the </span><span><span class="kobospan" id="kobo.1809.1">top-right corner.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1810.1">Now, click </span><strong class="bold"><span class="kobospan" id="kobo.1811.1">Create service</span></strong><span class="kobospan" id="kobo.1812.1"> in the top-right corner to add a new service. </span><span class="kobospan" id="kobo.1812.2">Here, we will add a new service for ou</span><a id="_idTextAnchor1285" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1813.1">r </span><span><span class="kobospan" id="kobo.1814.1">Zabbix setup:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer378">
<span class="kobospan" id="kobo.1815.1"><img alt="Figure 6.92 – Service | Service – Zabbix s﻿etup service" src="image/B19803_06_092.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1816.1">Figure 6.92 – Service | Service – Zabbix s</span><a id="_idTextAnchor1286" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1817.1">etup service</span></p>
<ol class="calibre16">
<li value="5" class="calibre15"><span class="kobospan" id="kobo.1818.1">On</span><a id="_idIndexMarker503" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1819.1"> the </span><strong class="bold"><span class="kobospan" id="kobo.1820.1">Tags</span></strong><span class="kobospan" id="kobo.1821.1"> tab, make sure to add</span><a id="_idTextAnchor1287" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1822.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer379">
<span class="kobospan" id="kobo.1823.1"><img alt="Figure 6.93 – Service | Service – Zabbix setup service – the Tags tab" src="image/B19803_06_093.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1824.1">Figure 6.93 – Service | Service – Zabbix setup service – the Tags tab</span></p>
<ol class="calibre16">
<li value="6" class="calibre15"><span class="kobospan" id="kobo.1825.1">Click on the blue </span><strong class="bold"><span class="kobospan" id="kobo.1826.1">Add</span></strong><span class="kobospan" id="kobo.1827.1"> button at the bottom of the window to add this new</span><a id="_idTextAnchor1288" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1828.1"> service. </span><span class="kobospan" id="kobo.1828.2">Then, click </span><strong class="bold"><span class="kobospan" id="kobo.1829.1">Create service</span></strong><span class="kobospan" id="kobo.1830.1"> in </span><a id="_idIndexMarker504" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1831.1">the top-right corner again to add</span><a id="_idTextAnchor1289" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1832.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer380">
<span class="kobospan" id="kobo.1833.1"><img alt="Figure 6.94 – Service | Service – Zabbix server service" src="image/B19803_06_094.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1834.1">Figure 6.94 – Service | Service – Zabbix server service</span></p>
<ol class="calibre16">
<li value="7" class="calibre15"><span class="kobospan" id="kobo.1835.1">On the </span><strong class="bold"><span class="kobospan" id="kobo.1836.1">Tags</span></strong><span class="kobospan" id="kobo.1837.1"> tab, make sure to add </span><a id="_idTextAnchor1290" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1838.1">the following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer381">
<span class="kobospan" id="kobo.1839.1"><img alt="Figure 6.95 – Service | Service – Zabbix server service – the Tags tab" src="image/B19803_06_095.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1840.1">Figure 6.95 – Service | Service – Zabbix server service – the Tags tab</span></p>
<ol class="calibre16">
<li value="8" class="calibre15"><span class="kobospan" id="kobo.1841.1">Click the blue </span><strong class="bold"><span class="kobospan" id="kobo.1842.1">Add</span></strong><span class="kobospan" id="kobo.1843.1"> button again and then </span><strong class="bold"><span class="kobospan" id="kobo.1844.1">Create service</span></strong><span class="kobospan" id="kobo.1845.1"> in the top-right corner. </span><span class="kobospan" id="kobo.1845.2">Add</span><a id="_idIndexMarker505" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1846.1"> another service at the same leve</span><a id="_idTextAnchor1291" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1847.1">l, </span><span><span class="kobospan" id="kobo.1848.1">as follows:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer382">
<span class="kobospan" id="kobo.1849.1"><img alt="Figure 6.96 – Service | Service – Zabbix database service" src="image/B19803_06_096.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1850.1">Figure 6.96 – Service | Service – Zabbix database service</span></p>
<ol class="calibre16">
<li value="9" class="calibre15"><span class="kobospan" id="kobo.1851.1">On the </span><strong class="bold"><span class="kobospan" id="kobo.1852.1">Tags</span></strong><span class="kobospan" id="kobo.1853.1"> tab, make sure to add </span><span><span class="kobospan" id="kobo.1854.1">t</span><a id="_idTextAnchor1292" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1855.1">he following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer383">
<span class="kobospan" id="kobo.1856.1"><img alt="Figure 6.97 – Service | Service – Zabbix database service – the Tags tab" src="image/B19803_06_097.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1857.1">Figure 6.97 – Service | Service – Zabbix database service – the Tags tab</span></p>
<ol class="calibre16">
<li value="10" class="calibre15"><span class="kobospan" id="kobo.1858.1">Click </span><strong class="bold"><span class="kobospan" id="kobo.1859.1">Add</span></strong><span class="kobospan" id="kobo.1860.1"> again</span><a id="_idIndexMarker506" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1861.1"> to add </span><span><span class="kobospan" id="kobo.1862.1">this service.</span></span></li>
<li class="calibre15"><a id="_idTextAnchor1293" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1863.1">Finally, we’ll add the last child of the Zabbix setup by clicking the </span><strong class="bold"><span class="kobospan" id="kobo.1864.1">Create service</span></strong> <a id="_idTextAnchor1294" class="pcalibre calibre6 pcalibre1"/><span><span class="kobospan" id="kobo.1865.1">button again:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer384">
<span class="kobospan" id="kobo.1866.1"><img alt="Figure 6.98 – Service | Service – Zabbix frontend service" src="image/B19803_06_098.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1867.1">Figure 6.98 – Service | Service – Zabbix frontend service</span></p>
<ol class="calibre16">
<li value="12" class="calibre15"><span class="kobospan" id="kobo.1868.1">Select </span><strong class="bold"><span class="kobospan" id="kobo.1869.1">Advanced configuration</span></strong><span class="kobospan" id="kobo.1870.1"> and click </span><strong class="bold"><span class="kobospan" id="kobo.1871.1">Add</span></strong><span class="kobospan" id="kobo.1872.1"> under </span><strong class="bold"><span class="kobospan" id="kobo.1873.1">New additional </span><a id="_idTextAnchor1295" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1874.1">rule</span></strong><span class="kobospan" id="kobo.1875.1">. </span><span class="kobospan" id="kobo.1875.2">We will </span><a id="_idIndexMarker507" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1876.1">add the following </span><span><span class="kobospan" id="kobo.1877.1">calc</span><a id="_idTextAnchor1296" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1878.1">ulation here:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer385">
<span class="kobospan" id="kobo.1879.1"><img alt="Figure 6.99 – Service | Service – Zabbix frontend service, additional rules" src="image/B19803_06_099.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1880.1">Figure 6.99 – Service | Service – Zabbix frontend service, additional rules</span></p>
<ol class="calibre16">
<li value="13" class="calibre15"><span class="kobospan" id="kobo.1881.1">On the </span><strong class="bold"><span class="kobospan" id="kobo.1882.1">Tags</span></strong><span class="kobospan" id="kobo.1883.1"> tab, make sure to add </span><span><span class="kobospan" id="kobo.1884.1">th</span><a id="_idTextAnchor1297" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1885.1">e following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer386">
<span class="kobospan" id="kobo.1886.1"><img alt="Figure 6.100 – Service | Service – Zabbix database service – the Tags tab" src="image/B19803_06_100.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1887.1">Figure 6.100 – Service | Service – Zabbix database service – the Tags tab</span></p>
<ol class="calibre16">
<li value="14" class="calibre15"><span class="kobospan" id="kobo.1888.1">Finish setting</span><a id="_idIndexMarker508" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1889.1"> up this service by clicking the </span><strong class="bold"><span class="kobospan" id="kobo.1890.1">Add</span></strong><span class="kobospan" id="kobo.1891.1"> button at the bottom of </span><span><span class="kobospan" id="kobo.1892.1">the window.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1893.1">Now, we’ll have to add two more services, but this time under the Zabbix frontend. </span><span class="kobospan" id="kobo.1893.2">Click on </span><strong class="bold"><span class="kobospan" id="kobo.1894.1">Zabbix frontend</span></strong><span class="kobospan" id="kobo.1895.1"> and then </span><strong class="bold"><span class="kobospan" id="kobo.1896.1">Create service</span></strong><span class="kobospan" id="kobo.1897.1"> again and add </span><span><span class="kobospan" id="kobo.1898.1">th</span><a id="_idTextAnchor1298" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1899.1">e following:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer387">
<span class="kobospan" id="kobo.1900.1"><img alt="Figure 6.101 – Service | Service – Zabbix frontend, ICMP status child servi﻿ce" src="image/B19803_06_101.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1901.1">Figure 6.101 – Service | Service – Zabbix frontend, ICMP status child servi</span><a id="_idTextAnchor1299" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1902.1">ce</span></p>
<ol class="calibre16">
<li value="16" class="calibre15"><span class="kobospan" id="kobo.1903.1">Click the</span><a id="_idIndexMarker509" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1904.1"> blue </span><strong class="bold"><span class="kobospan" id="kobo.1905.1">Add</span></strong><span class="kobospan" id="kobo.1906.1"> button and then </span><strong class="bold"><span class="kobospan" id="kobo.1907.1">Create service</span></strong><span class="kobospan" id="kobo.1908.1"> again to add the </span><span><span class="kobospan" id="kobo.1909.1">last service.</span></span></li>
<li class="calibre15"><span class="kobospan" id="kobo.1910.1">Add the </span><span><span class="kobospan" id="kobo.1911.1">fi</span><a id="_idTextAnchor1300" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1912.1">nal service:</span></span></li>
</ol>
<div class="calibre2">
<div class="img---figure" id="_idContainer388">
<span class="kobospan" id="kobo.1913.1"><img alt="Figure 6.102 – Service | Service – Zabbix frontend, Zabbix agent status child service" src="image/B19803_06_102.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1914.1">Figure 6.102 – Service | Service – Zabbix frontend, Zabbix agent status child service</span></p>
<ol class="calibre16">
<li value="18" class="calibre15"><span class="kobospan" id="kobo.1915.1">Click the</span><a id="_idIndexMarker510" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1916.1"> bl</span><a id="_idTextAnchor1301" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1917.1">ue </span><strong class="bold"><span class="kobospan" id="kobo.1918.1">Add</span></strong><span class="kobospan" id="kobo.1919.1"> button to add this service. </span><span class="kobospan" id="kobo.1919.2">Let’s see if it works</span><a id="_idTextAnchor1302" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1303" class="pcalibre calibre6 pcalibre1"/> <span><span class="kobospan" id="kobo.1920.1">as expected.</span></span></li>
</ol>
<h2 id="_idParaDest-222" class="calibre7"><a id="_idTextAnchor1304" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1921.1">How it works…</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1922.1">Let’s t</span><a id="_idTextAnchor1305" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1923.1">ake a look </span><a id="_idIndexMarker511" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1924.1">at what we have set up in our current configuration. </span><span class="kobospan" id="kobo.1924.2">We’ve used business service monitoring to monitor part of our Zabbix stack. </span><span class="kobospan" id="kobo.1924.3">Look at business service monitoring as a tree, where we just created two levels. </span><span class="kobospan" id="kobo.1924.4">Our initial level is the Zabbix setup, which consists of our Zabbix server, Zabbix database, and </span><span><span class="kobospan" id="kobo.1925.1">Zabbix frontend.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1926.1">Beneath the Zabbix frontend level, we have one more level where we have defined two more services that represent the status of ICMP and the Zabbix agent. </span><span class="kobospan" id="kobo.1926.2">We only want to calculate the SLA if both the ICMP and Zabbix agent are in a </span><span><span class="kobospan" id="kobo.1927.1">p</span><a id="_idTextAnchor1306" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1928.1">roblem state:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer389">
<span class="kobospan" id="kobo.1929.1"><img alt="Figure 6.103 – Business service monitoring tree structure example" src="image/B19803_06_103.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1930.1">Figure 6.103 – Business service monitoring tree structure example</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1931.1">As you can see, we</span><a id="_idIndexMarker512" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1932.1"> have a distinct tree structure forming once we start to visua</span><a id="_idTextAnchor1307" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1933.1">lize this. </span><span class="kobospan" id="kobo.1933.2">The part where the magic happens in this case is the Zabbix frontend service because this is where we defined what should happen to our SLA once something goes wrong </span><span><span class="kobospan" id="kobo.1934.1">with services.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1935.1">Let’s take another look a</span><a id="_idTextAnchor1308" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1936.1">t </span><span><span class="kobospan" id="kobo.1937.1">that level:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer390">
<span class="kobospan" id="kobo.1938.1"><img alt="Figure 6.104 – Zabbix frontend service completed" src="image/B19803_06_104.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1939.1">Figure 6.104 – Zabbix frontend service completed</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1940.1">Because we defined</span><a id="_idIndexMarker513" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1941.1"> that the service should always </span><strong class="bold"><span class="kobospan" id="kobo.1942.1">Set status to OK</span></strong><span class="kobospan" id="kobo.1943.1">, it will only use what we defined in our </span><strong class="bold"><span class="kobospan" id="kobo.1944.1">Additional rules</span></strong><span class="kobospan" id="kobo.1945.1"> section. </span><span class="kobospan" id="kobo.1945.2">This is where we specified that we only </span><a id="_idTextAnchor1309" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1946.1">want to affect our SLA calculation: </span><strong class="bold"><span class="kobospan" id="kobo.1947.1">If at least 2 child services have High status or above</span></strong><span class="kobospan" id="kobo.1948.1">. </span><span class="kobospan" id="kobo.1948.2">Effectively, this means that our SLA is only going down if the Zabbix agent can’t be reached and ICMP </span><span><span class="kobospan" id="kobo.1949.1">is down.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1950.1">We’ve built in a security measure for ourselves here, making sure that if someone stops the Zabbix agent but the server can still be reached by ICMP, the SLA won’t </span><span><span class="kobospan" id="kobo.1951.1">be affected.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1952.1">Now, let’s take a look at the result, which we can use to monitor these SLAs. </span><span class="kobospan" id="kobo.1952.2">Over at </span><strong class="bold"><span class="kobospan" id="kobo.1953.1">Services</span></strong><span class="kobospan" id="kobo.1954.1"> | </span><strong class="bold"><span class="kobospan" id="kobo.1955.1">SLA report</span></strong><span class="kobospan" id="kobo.1956.1">, we can find all we need to know about whether our SLA is being met. </span><span class="kobospan" id="kobo.1956.2">We can set the filter to the period for which we want to find the SLA. </span><span class="kobospan" id="kobo.1956.3">We’ll see the </span><span><span class="kobospan" id="kobo.1957.1">foll</span><a id="_idTextAnchor1310" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1958.1">owing output:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer391">
<span class="kobospan" id="kobo.1959.1"><img alt="Figure 6.105 – Service | SLA report, all services with our SLA:24x7 tag" src="image/B19803_06_105.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1960.1">Figure 6.105 – Service | SLA report, all services with our SLA:24x7 tag</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1961.1">Here, we can see</span><a id="_idIndexMarker514" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1962.1"> our monthly 24/7 SLA, where a SLA of 99.9% is expected. </span><span class="kobospan" id="kobo.1962.2">For our Zabbix setup back in October 2021, the SLA was 100, so we met our required SLA. </span><span class="kobospan" id="kobo.1962.3">However, in November 2021, we noticed that the SLA dropped below 100, clearly indicating in red that our SLA was </span><span><span class="kobospan" id="kobo.1963.1">not met.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1964.1">Dril</span><a id="_idTextAnchor1311" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1965.1">ling down even further and selecting our specific service Zabbix setup, we can create a more </span><span><span class="kobospan" id="kobo.1966.1">detai</span><a id="_idTextAnchor1312" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1967.1">led overview:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer392">
<span class="kobospan" id="kobo.1968.1"><img alt="Figure 6.106 – Service | SLA report, Zabbix setup services with our SLA:24x7 tag" src="image/B19803_06_106.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1969.1">Figure 6.106 – Service | SLA report, Zabbix setup services with our SLA:24x7 tag</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1970.1">Here, we can see all the details regarding the uptime and downtime of our service and what our leftover error budget </span><span><span class="kobospan" id="kobo.1971.1">is like.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1972.1">Using business service monitoring calculations like this, we can narrow down where weak points in our services might be while attaching useful statistics to that measure. </span><span class="kobospan" id="kobo.1972.2">In this case, we</span><a id="_idIndexMarker515" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1973.1"> used a simple example wit</span><a id="_idTextAnchor1313" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1974.1">h ICMP and the Zabbix agent trigger, but the possibilities are endless when using services in combinat</span><a id="_idTextAnchor1314" class="pcalibre calibre6 pcalibre1"/><a id="_idTextAnchor1315" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1975.1">ion </span><span><span class="kobospan" id="kobo.1976.1">with tags.</span></span></p>
<h2 id="_idParaDest-223" class="calibre7"><a id="_idTextAnchor1316" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1977.1">There’s more...</span></h2>
<p class="calibre3"><span class="kobospan" id="kobo.1978.1">One of the main concerns with the old way of monitoring services through business service monitoring was the inability to automate and customize it. </span><span class="kobospan" id="kobo.1978.2">This automation has been mostly resolved through the use of tags as we can now define tags at the host, template, or trigger level to define what’s used in the business service </span><span><span class="kobospan" id="kobo.1979.1">monitoring configuration.</span></span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1980.1">In terms of customization, Zabbix has given us a lot more options to </span><span><span class="kobospan" id="kobo.1981.1">do </span><a id="_idTextAnchor1317" class="pcalibre calibre6 pcalibre1"/><span class="kobospan" id="kobo.1982.1">calculations:</span></span></p>
<div class="calibre2">
<div class="img---figure" id="_idContainer393">
<span class="kobospan" id="kobo.1983.1"><img alt="Figure 6.107 – Zabbix service, additional rule options" src="image/B19803_06_107.jpg" class="calibre4"/></span>
</div>
</div>
<p class="img---caption" lang="en-US" xml:lang="en-US"><span class="kobospan" id="kobo.1984.1">Figure 6.107 – Zabbix service, additional rule options</span></p>
<p class="calibre3"><span class="kobospan" id="kobo.1985.1">Looking at the numerous options here, we can see that we have a lot more to play around with. </span><span class="kobospan" id="kobo.1985.2">Not only can we specify the exact number of child services we’d like to use in our calculations, but we can also work with weights and percentages, giving us the options we might need to build more </span><span><span class="kobospan" id="kobo.1986.1">complex setups.</span></span></p>
</div>
</body></html>