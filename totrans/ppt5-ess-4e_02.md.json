["```\nroot@puppetmaster# wget http://apt.puppetlabs.com/puppetlabs-release-pc1-jessie.deb\nroot@puppetmaster# dpkg -i puppetlabs-release-pc1-jessie.deb\nroot@puppetmaster# apt-get update\nroot@puppetmaster# apt-get install puppetserver \n```", "```\nroot@puppetmaster# systemctl start puppetserver \n```", "```\npuppet master --no-daemonize\n```", "```\nnode 'agent' {\n  $packages = [ 'apache2',\n    'libapache2-mod-php5',\n    'libapache2-mod-passenger', ]\n  package { $packages:\n    ensure => 'installed',\n    before => Service['apache2'],\n  }\n  service { 'apache2':\n    ensure => 'running',\n    enable => true,\n  }\n}\n```", "```\n[main] \ncertname=puppetmaster.example.net \n```", "```\nroot@puppetmaster # puppet master --configprint manifest\n/etc/puppetlabs/code/environments/production/manifests\n```", "```\nroot@puppetmaster# puppet master --configprint all | less \n```", "```\nroot@puppetmaster # puppet config set –-section main certname puppetmaster.example.net\n```", "```\nroot@puppetmaster # puppet config set –-section agent server pup-petmaster.example.net \n```", "```\nroot@agent# puppet agent --test\nInfo: Creating a new SSL key for agent\nError: Could not request certificate: getaddrinfo: Name or service not known\nExiting; failed to retrieve certificate and waitforcert is disabled\n```", "```\nroot@agent# puppet agent --test\nInfo: Caching certificate for ca\nInfo: csr_attributes file loading from /etc/puppetlabs/puppet/csr_attributes.yaml\nInfo: Creating a new SSL certificate request for agent\nInfo: Certificate Request fingerprint (SHA256): 52:65:AE:24:5E:2A:C6:17:E2:5D:0A:C9: 86:E3:52:44:A2:EC:55:AE:3D:40:A9:F6:E1:28:31:50:FC:8E:80:69\nExiting; failed to retrieve certificate and waitforcert is disabled\n```", "```\nroot@puppetmaster# puppet cert --list\n\"agent\" (SHA256) 52:65:AE:24:5E:2A:C6:17:E2:5D:0A:C9:86:E3:52:44:A2:EC:55:AE: 3D:40:A9:F6:E1:28:31:50:FC:8E:80:69 \n```", "```\nroot@puppetmaster# puppet cert --sign agent\nNotice: Signed certificate request for agent\nNotice: Removing file Puppet::SSL::CertificateRequest agent at '/etc/puppetlabs/ puppet/ssl/ca/requests/agent.pem' \n```", "```\nroot@agent# puppet agent --test\nInfo: Caching certificate for agent\nInfo: Caching certificate_revocation_list for ca\nInfo: Caching certificate for agent\nInfo: Retrieving pluginfacts\nInfo: Retrieving plugin\nInfo: Caching catalog for agent\nInfo: Applying configuration version '1437065761'\nNotice: Applied catalog in 0.11 seconds\n```", "```\n[agent] \nserver=master.example.net \n```", "```\nroot@agent# puppet agent –test\nInfo: Creating a new SSL key for agent.example.net\nInfo: csr_attributes file loading from /etc/puppetlabs/puppet/csr_attributes.yaml\nInfo: Creating a new SSL certificate request for agent.example.net\nInfo: Certificate Request fingerprint (SHA256): 85:AC:3E:D7:6E:16:62:BD:28:15:B6:18: 12:8E:5D:1C:4E:DE:DF:C3:4E:8F:3E:20:78:1B:79:47:AE:36:98:FD\nExiting; no certificate found and waitforcert is disabled\n```", "```\nroot@puppetmaster# puppet cert list\nroot@puppetmaster# puppet cert sign '<agent fqdn>'\n```", "```\nroot@agent# puppet agent\n```", "```\nroot@puppetmaster# puppet cert revoke agent\n```", "```\nroot@agent# puppet agent --test\nWarning: Unable to fetch my node definition, but the agent run will continue:\nWarning: SSL_connect SYSCALL returned=5 errno=0 state=unknown state\n[...]\nError: Could not retrieve catalog from remote server: SSL_connect SYSCALL returned=5 errno=0 state=unknown state\n[...]\n```", "```\nroot@agent# puppet agent –test\nInfo: Creating a new SSL key for agent\nInfo: Caching certificate for ca\nInfo: Caching certificate for agent.example.net\nError: Could not request certificate: The certificate retrievedfrom the master does not match the agent's private key.\nCertificate fingerprint: 6A:9F:12:C8:75:C0:B6:10:45:ED:C3:97:24:CC:98:F2:B6:1A:B5: 4C:E3:98:96:4F:DA:CD:5B:59:E0:7F:F5:E6\n```", "```\n puppet cert clean agent.example.net\n```", "```\nfind /etc/puppetlabs/puppet/ssl -name agent.example.net.pem –delete\n```", "```\ndel \"/etc/puppetlabs/puppet/ssl/agent.example.net.pem\" /f\npuppet agent –t\nExiting; failed to retrieve certificate and waitforcert is disabled\n```", "```\nroot@puppetmaster# puppet cert clean agent\nNotice: Revoked certificate with serial 18\nNotice: Removing file Puppet::SSL::Certificate agent at '/etc/puppetlabs/ puppet/ssl/ca/signed/agent.pem'\nNotice: Removing file Puppet::SSL::Certificate agent at '/etc/puppetlabs/ puppet/ssl/certs/agent.pem'\n```", "```\nservice { 'puppet': enable => false, }\ncron { 'puppet-agent-run':\n  user    => 'root',\n  command => 'puppet agent --no-daemonize --onetime --logdest=syslog',\n  minute  => fqdn_rand(60),\n  hour    => absent,\n}\n```", "```\nfile { '/usr/local/etc/my_app.ini':\n  ensure => file,\n  owner  => 'root',\n  group  => 'root',\n  source =>  \n  'puppet:///modules/my_app/usr/local/etc/my_app.ini',\n}\n```", "```\nroot@agent# puppet agent --test\nWarning: Unable to fetch my node definition, but the agent run will continue:\nWarning: SSL_connect returned=1 errno=0 state=unknown state: certificate verify failed: [CRL is not yet valid for /CN=Puppet CA: puppet.example.net] \n```"]