<html><head></head><body>
		<div>
			<div id="_idContainer024" class="Content">
			</div>
		</div>
		<div id="_idContainer025" class="Content">
			<h1 id="_idParaDest-78">4. <a id="_idTextAnchor085"/>Cloud migration: Planning, implementation, and best practices</h1>
		</div>
		<div id="_idContainer028" class="Content">
			<p><a id="_idTextAnchor086"/>Customers are accelerating their cloud journey to optimize costs, enhance security and resiliency, and scale on demand. One of the key motivations for organizations to migrate to Azure is to reduce the <strong class="bold">total cost of ownership</strong> (<strong class="bold">TCO</strong>) for their IT infrastructure. By migrating to Azure, organizations can move from a <strong class="bold">capital expenditure</strong> (<strong class="bold">CapEx</strong>) model with fixed upfront commitments to a more flexible and scalable <strong class="bold">operational expenditure</strong> (<strong class="bold">OpEx</strong>) model. With the OpEx model, organizations reduce spending by only paying for resources and services that they consume. </p>
			<p>As we will discuss in this chapter, this is only one of many benefits that you will gain by migrating to Azure. First, we'll see that Microsoft provides a framework that will guide you in architecting for reliability, security, and high availability. We will then explore the underlying infrastructure of Azure to help you make the most informed choice to meet your migration goals. After we have built our foundational knowledge in Azure infrastructure, we will discuss some of the common workload migration scenarios and how you can achieve cloud scale and maximize performance.</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Microsoft's Well-Architected Framework</li>
				<li>Choosing your underlying infrastructure</li>
				<li>Workload migration scenarios</li>
				<li>Achieving cloud scale and maximizing performance</li>
				<li>Enterprise-grade backup and disaster recovery</li>
				<li>Azure migration best practices and support</li>
			</ul>
			<p>Let's begin by discussing architectural best practices for planning, designing, and implementing reliable systems in Azure using the Microsoft Well-Architected Framework.</p>
			<h2 id="_idParaDest-79"><a id="_idTextAnchor087"/>Microsoft Azure Well-Architected Framework</h2>
			<p>As organizations shifted their workforce to work from home, critical infrastructure and applications were impacted. While some organizations were able to migrate their applications to the cloud, others had to redesign their environment in the cloud. However, designing and deploying a successful workload in the cloud can be challenging, especially when there is a time constraint for an organization to ensure that they continue to support their clients around the world. </p>
			<p>When operating in the cloud, there are several design principles and considerations that differ from operating on-premises, such as the way you manage workloads, infrastructure costs, monitoring, security, and performance. Many of the management tasks that we used to do for on-premises applications do not apply to the cloud. </p>
			<p>If these considerations for the workloads that we are running in the cloud are not deployed properly, there are various consequences that might impact the cost of the services in Azure and the performance of the application. </p>
			<p>To help you and your organization address the complexity of planning, designing, and implementing reliable systems in Azure, Microsoft created the Azure Well-Architected Framework, which provides best practices to build solutions in the Azure cloud. This framework is intended to guide you to improve the quality of your solutions running in Azure and comprises of five main pillars:</p>
			<ul>
				<li><strong class="bold">Cost optimization</strong> so that you can create cost-effective solutions.</li>
				<li><strong class="bold">Operational excellence</strong> to ensure operation continuity by keeping your systems running in production with minimal downtime.</li>
				<li><strong class="bold">Performance efficiency</strong> to have the capacity to scale on-demand and meet business needs when there are peaks in usage.</li>
				<li><strong class="bold">Reliability</strong> to have the ability to rapidly recover from potential failures that can impact the application availability.</li>
				<li><strong class="bold">Security</strong> to protect your applications and data, and quickly respond to potential threats and vulnerabilities.</li>
			</ul>
			<p>Based on industry standards, Microsoft is helping customers improve the quality of their workloads. The framework is at the center of the Microsoft Azure Well-Architected initiative. It includes the documentation, reference architectures, and design principles to help you understand and figure out how these workloads can be better designed, implemented, and successfully deployed on the cloud. </p>
			<p>Microsoft also included the Azure Well-Architected Review, which is a web application with questions and answers for you to better understand how workloads are being designed and evaluate which points you need to improve.</p>
			<p>In addition, Azure Advisor is aligned with the same five pillars of the Azure Well-Architected Framework to provide you with real-time recommendations for all the resources that you are running in the cloud and improve their performance. </p>
			<p>We recommend the following Microsoft learning path for the Well-Architected Framework: <a href="https://docs.microsoft.com/learn/paths/azure-well-architected-framework/">https://docs.microsoft.com/learn/paths/azure-well-architected-framework/</a></p>
			<p>Many organizations begin their cloud journey on Azure with <strong class="bold">Infrastructure as a Service</strong> (<strong class="bold">IaaS</strong>). In the next section, we will first establish our foundational knowledge in Azure IaaS by learning about the three core services of Azure. Later in this chapter, we will look at other common workload migration scenarios.</p>
			<h2 id="_idParaDest-80"><a id="_idTextAnchor088"/>Choosing your underlying infrastructure</h2>
			<p>In this section, we will examine the underlying infrastructure of Azure. At its core, a typical IaaS environment in Azure consists of the following three services:</p>
			<ul>
				<li>Compute</li>
				<li>Networking</li>
				<li>Storage</li>
			</ul>
			<p>These three services form the main architectural building blocks in an IaaS environment. We will explore each of these core services in detail, starting with Azure Compute.</p>
			<h3 id="_idParaDest-81"><a id="_idTextAnchor089"/>Compute</h3>
			<p>Whether you are deploying new workloads or migrating existing ones to the cloud, Azure Compute has the necessary infrastructure to run your workload.</p>
			<p>Here are some of the key capabilities of Azure Compute:</p>
			<ul>
				<li>Azure offers over 700 <strong class="bold">virtual machine</strong> (<strong class="bold">VM</strong>) sizes that can address almost every type of workload. From dev/test workloads and mission-critical production workloads to customer-facing applications high-performance computing scenarios.</li>
				<li>You can run your applications on Windows Server and multiple Linux distributions such as Red Hat, SUSE, Ubuntu, CentOS, Debian, Oracle Linux, and CoreOS. Additionally, Microsoft provides 24x7 integrated co-located support with Red Hat and SUSE. </li>
				<li>Azure provides purpose-built bare metal infrastructure to run a growing number of solutions such as SAP HANA, NetApp, or Cray in Azure.</li>
				<li>Azure delivers an <strong class="bold">evergreen</strong> foundation with CPUs and GPUs from Intel®, AMD, and NVIDIA, helping you get the best price-to-performance ratio.</li>
				<li>You can choose to run your applications in any available Azure region. You can also take advantage of multiple regions to increase the resiliency of your applications at scale.</li>
				<li>Azure offers a broad range of pricing models, from pay-as-you-go to reservations, which include 1- or 3-year term discounts. This is in addition to optimization tools that offer resizing recommendations, and advice you to get the most out of your Azure environment. </li>
				<li>If you have existing Windows Server subscriptions, SQL Server licenses, or Windows Server licenses with Software Assurance and <strong class="bold">Azure Hybrid Benefit</strong>, you can reuse them to save significantly on costs as you move your workloads to Azure. Additionally, through Azure Hybrid Benefit for Linux, you can use your pre-existing on-premises Red Hat and SUSE software subscriptions on Azure. </li>
			</ul>
			<p>Perhaps one of the most common migration scenarios for Azure customers is migrating an existing on-premises environment to the cloud with little to no change. This is often referred to as lift and shift, or rehosting. We can leverage virtualization technologies to help migrate existing on-premises workloads to Azure. Without a doubt, virtualization has positively streamlined how organizations are deploying and managing their IT infrastructure on Azure, thanks in part to solutions such as Microsoft Hyper-V and VMware vSphere. Moreover, administrators who are familiar with the characteristics and behaviors of running VMs on-premises can adapt the same skills successfully to Azure.</p>
			<p>In the following table, we have provided you with some common use cases and recommended Azure Compute services for each. You can use this table to plan your next cloud migration strategy. We have also included links to each Azure Compute service so that you can learn more about them.</p>
			<table id="table001" class="No-Table-Style">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US"><a id="_idTextAnchor090"/>Compute services</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Common use cases</span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure App Service: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/app-service/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">For developing cloud-native applications for web and mobile with a fully managed platform.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Dedicated Host: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/virtual-machines/dedicated-host/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Deploying Azure VMs on a dedicated physical server to isolate workloads for only your organization to use.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Functions: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/functions/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You can accelerate app development using an event-driven and serverless architecture without any additional setup.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Container Instances: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/container-instances/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To help you easily run containers in Azure with a single command.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph">Azure Kubernetes Service: <a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/kubernetes-service/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To simplify the deployment, management, and operation of Kubernetes.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Service Fabric: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/service-fabric/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">For developing microservices and orchestrating containers on both Windows and Linux.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Batch: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/batch/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To access cloud-scale job scheduling and compute management across 10x, 100x, 1000x VMs.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Cloud Services: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/cloud-services/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">If you prefer to use a PaaS technology to deploy web and cloud applications that are scalable, reliable, and inexpensive to operate.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Virtual Machines: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/virtual-machines/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">If you need to quickly provision Linux and Windows VMs and maintain complete control over your cloud environment.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Virtual Machine Scale Sets: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/virtual-machine-scale-sets/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To autoscale a large number of load-balanced VMs in minutes to achieve high availability and performance based on demand.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure VMware Solution: </span><a href=""><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/azure-vmware/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">If you want to run your VMware workloads natively on Azure.</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="figure">Table 4.1: Recommended Azure services for common use cases</p>
			<p>Now that we have seen the capabilities of Azure Compute, let's look at Azure networking next.</p>
			<h3 id="_idParaDest-82"><a id="_idTextAnchor091"/>Networking</h3>
			<p>Azure networking securely connects and delivers your cloud-native and hybrid workloads with low-latency and Zero Trust–based networking services. Zero Trust is a security concept that fosters the idea that organizations shouldn't automatically trust anything inside or outside their perimeters. Instead, anything that tries to connect to its systems must be verified before access is granted.</p>
			<p>In the following table, we have provided you with some common use cases and the recommended Azure networking service to choose from. You can use this table to plan your next cloud migration strategy. We have also included links to each Azure networking service so that you can learn more about them:</p>
			<table id="table002" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Network services</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Common use cases</span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Bastion: </span><a href="https://azure.microsoft.com/services/azure-bastion/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/azure-bastion/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">For accessing your VMs via private and fully managed RDP and SSH.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Virtual Network: </span><a href="https://azure.microsoft.com/services/virtual-network/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/virtual-network/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To connect everything from VMs to incoming VPN connections.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure ExpressRoute: </span><a href="https://azure.microsoft.com/services/expressroute/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/expressroute/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">If you need to add private network connectivity from your on-premises network to Azure.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure VPN Gateway: </span><a href="https://azure.microsoft.com/services/vpn-gateway/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/vpn-gateway/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">For using the internet to access Azure Virtual Networks securely.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Virtual WAN: </span><a href="https://azure.microsoft.com/services/virtual-wan/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/virtual-wan/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To securely connect offices, retail locations, and sites with a unified portal.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure DDoS Protection: </span><a href="https://azure.microsoft.com/services/ddos-protection/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/ddos-protection/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">To protect your applications from DDoS attacks.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Firewall: </span><a href="https://azure.microsoft.com/services/azure-firewall/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/azure-firewall/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to add native firewall capabilities with zero maintenance and built-in high availability.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Firewall Manager: </span><a href="https://azure.microsoft.com/services/firewall-manager/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/firewall-manager/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need a way to manage network security policy and routing centrally.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Load Balancer: </span><a href="https://azure.microsoft.com/services/load-balancer/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/load-balancer/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Inbound and outbound connections and requests to applications need to be balanced.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Traffic Manager: </span><a href="https://azure.microsoft.com/services/traffic-manager/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/traffic-manager/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to route incoming traffic for better performance and availability.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Network Watcher: </span><a href="https://azure.microsoft.com/services/network-watcher/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/network-watcher/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to monitor and diagnose network issues.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Web Application Firewall: </span><a href="https://azure.microsoft.com/services/web-application-firewall/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/web-application-firewall/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to use a firewall service for web apps to improve web app security.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Application Gateway: </span><a href="https://azure.microsoft.com/services/application-gateway/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/application-gateway/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You want to use a web traffic load balancer to manage traffic to your web applications.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure DNS: </span><a href="https://azure.microsoft.com/services/dns/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/dns/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You want to ensure ultra-fast DNS responses and availability to meet your domain requirements.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Private Link: </span><a href="https://azure.microsoft.com/services/private-link/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/private-link/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to provide private access to services hosted on the Azure platform.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Front Door: </span><a href="https://azure.microsoft.com/services/frontdoor/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/frontdoor/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to provide a security-enhanced, scalable delivery point for web applications that are global and microservice-based.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure CDN: </span><a href="https://azure.microsoft.com/services/cdn/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/cdn/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to accelerate the delivery of high-bandwidth content to global customers.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure Internet Analyzer (preview): </span><a href="https://azure.microsoft.com/services/internet-analyzer/"><span lang="en-US" xml:lang="en-US">https://azure.microsoft.com/services/internet-analyzer/</span></a></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">You need to test how performance will be impacted by networking infrastructure changes.</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="figure">Table 4.2: Recommended Azure services for common use cases</p>
			<p>Another key component of the Azure infrastructure is storage, which we will discuss in the next section.</p>
			<h3 id="_idParaDest-83"><a id="_idTextAnchor092"/>Storage</h3>
			<p>Data is growing at a rapid rate in today's businesses. Organizations demand the best storage solutions available. When it comes to storage solutions, Azure offers a myriad of services that organizations can choose from to cater to any business cost and performance requirements:</p>
			<ul>
				<li>Azure Disk Storage</li>
				<li>Azure Files</li>
				<li>Azure Blob Storage</li>
				<li>Azure Data Lake Storage</li>
				<li>Azure NetApp Files</li>
			</ul>
			<p>Let's take a closer look at each of these Azure storage offerings.</p>
			<h3><a id="_idTextAnchor093"/><a id="_idTextAnchor094"/><a id="_idTextAnchor095"/><a id="_idTextAnchor096"/><a id="_idTextAnchor097"/><a id="_idTextAnchor098"/><a id="_idTextAnchor099"/><a id="_idTextAnchor100"/><a id="_idTextAnchor101"/>Azure Disk Storage</h3>
			<p><strong class="bold">Azure Disk Storage</strong> is designed to be used with Azure VMs. It offers high performance as well as highly durable block storage for your mission- and business-critical applications.</p>
			<p>Some of the key features and benefits of Azure Disk Storage include:</p>
			<ul>
				<li><strong class="bold">Cost-effective storage</strong>:<ul><li>Optimizes costs and gets the precise storage you need for your workloads with a range of disk options at a variety of price points and performance characteristics.</li><li>Migrate Windows and Linux-based clustered or high-availability applications cost-effectively to the cloud with shared disks.</li></ul></li>
				<li><strong class="bold">Unmatched resiliency</strong>:<ul><li>Azure offers an availability guarantee for all single-instance VMs using Azure Disk Storage.</li><li>Azure Disk Storage delivers enterprise-grade durability with a zero-percent annualized failure rate.</li></ul></li>
				<li><strong class="bold">Seamless scalability and highly performant</strong>:<ul><li>Dynamically scale performance with Azure Ultra Disk Storage and achieve high IOPS and throughput along with consistent sub-millisecond latency.</li><li>Scale performance on demand with performance tiers and built-in bursting capabilities to meet business demands.</li></ul></li>
				<li><strong class="bold">Built-in security</strong>:<ul><li>Protect your data with automatic encryption using Microsoft-managed keys or your own custom keys.</li><li>Restrict the export and import of disks to only occur within your private virtual network with Azure Private Link support.</li></ul></li>
			</ul>
			<p><a id="_idTextAnchor102"/>There are four types of disk storage options that you can choose from based on your cost and performance requirements:</p>
			<ul>
				<li>Ultra Disk Storage</li>
				<li>Premium SSD</li>
				<li>Standard SSD</li>
				<li>Standard HDD</li>
			</ul>
			<p>Workloads that are data-intensive and transaction-heavy can benefit from the high performance and consistent low latency capabilities of <strong class="bold">Azure Ultra Disk Storage</strong>. Some examples of these types of workloads include SAP HANA, top-tier databases such as SQL Server and Oracle, and NoSQL databases such as MongoDB and Cassandra.</p>
			<p>To learn more about each of these disk storage options, please visit <a href="https://docs.microsoft.com/azure/virtual-machines/disks-types">https://docs.microsoft.com/azure/virtual-machines/disks-types</a>.</p>
			<h3>Azure Files</h3>
			<p><strong class="bold">Azure Files</strong> is an ideal fully managed cloud file share service that is both serverless and secure. You can access shared files on Azure Files using industry-standard NFS and SMB protocols. Furthermore, it can serve as persistent shared storage for containers with its tight integration with AKS. If you are looking for a cross-platform hybrid experience, you will be happy to know that Azure file shares can be mounted concurrently by Azure or on-premises whether you are on Windows, Linux, or macOS via Azure File Sync.</p>
			<p>To learn more about Azure Files, please visit <a href="https://docs.microsoft.com/azure/storage/files/storage-files-introduction">https://docs.microsoft.com/azure/storage/files/storage-files-introduction</a>.</p>
			<h3><a id="_idTextAnchor103"/><a id="_idTextAnchor104"/><a id="_idTextAnchor105"/><a id="_idTextAnchor106"/><a id="_idTextAnchor107"/><a id="_idTextAnchor108"/><a id="_idTextAnchor109"/><a id="_idTextAnchor110"/>Azure Blob Storage</h3>
			<p><strong class="bold">Azure Blob Storage</strong> provides highly scalable, available, and secure storage. In terms of security, data can be protected using encryption at rest and advanced threat protection, while data access can be protected using <strong class="bold">Azure Active Directory</strong> (<strong class="bold">Azure AD</strong>), <strong class="bold">role-based access control</strong> (<strong class="bold">RBAC</strong>), and network-level control.</p>
			<p>It is ideal for the following types of workloads:</p>
			<ul>
				<li>Cloud-native and mobile applications</li>
				<li>High-performance computing</li>
				<li>Machine learning workloads</li>
				<li>Storage archives</li>
			</ul>
			<p>Some of the key features and benefits of Azure Blob Storage include:</p>
			<ul>
				<li><strong class="bold"><a id="_idTextAnchor111"/>Fully supports cloud-native application development:</strong><ul><li>Provides scalability and security required by cloud-native applications.</li><li>Supports Azure Functions and many popular development frameworks such as .NET, Python, Java, and Node.js.</li></ul></li>
				<li><strong class="bold"><a id="_idTextAnchor112"/><a id="_idTextAnchor113"/><a id="_idTextAnchor114"/><a id="_idTextAnchor115"/><a id="_idTextAnchor116"/><a id="_idTextAnchor117"/>Store petabytes of data:</strong><ul><li>Archive seldomly accessed data in the most cost-effective way.</li><li>Replace old magnetic tapes with Azure Blob Storage and alleviate the need to migrate across hardware generations.</li></ul></li>
				<li><strong class="bold">Scale up for high-performance computing (HPC):</strong><ul><li>Capable of meeting the high-throughput requirements of HPC applications.</li></ul></li>
				<li><strong class="bold">Scale out for billions of IoT devices:</strong><ul><li>Provides storage to collect data points from billions of IoT devices.</li></ul></li>
			</ul>
			<p>You can learn more about Azure Blob Storage at <a href="https://docs.microsoft.com/azure/storage/blobs/storage-blobs-overview">https://docs.microsoft.com/azure/storage/blobs/storage-blobs-overview</a>.</p>
			<h3><a id="_idTextAnchor118"/><a id="_idTextAnchor119"/><a id="_idTextAnchor120"/><a id="_idTextAnchor121"/><a id="_idTextAnchor122"/>Azure Data Lake Storage </h3>
			<p><strong class="bold">Azure Data Lake Storage</strong> offers a highly scalable and cost-effective data lake solution for big data analytics. It is optimized for analytics workloads and supports Azure Synapse Analytics and Power BI by providing a single storage platform for ingestion, processing, and visualization. </p>
			<p>It is cost-effective as it allows the scaling of storage and compute to be done independently (this is something that cannot be achieved with on-premises data lakes). Azure Data Lake Storage Gen2 also allows you to further optimize costs using automated lifecycle management policies and can automatically scale up or down based on usage. </p>
			<p>In terms of security, it provides the same level of security offered by Azure Blob Storage, including encryption at rest and advanced threat protection. Like Azure Blob Storage, data access can be protected using <strong class="bold">Azure AD</strong>, <strong class="bold">RBAC</strong>, and network-level control.</p>
			<p>You can learn more about Azure Data Lake Storage at <a href="https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction">https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction</a>.</p>
			<h3>Azure NetApp Files</h3>
			<p>Running performance-intensive and latency-sensitive file workloads in the cloud can be challenging. <strong class="bold">Azure NetApp Files</strong> makes it easy for enterprise <strong class="bold">line-of-business</strong> (<strong class="bold">LOB</strong>) and storage professionals to migrate and run complex, file-based applications with no code change. Azure NetApp Files is a fully managed Azure service powered by NetApp's industry-leading storage technology. It is widely used as the underlying shared file-storage service in various scenarios, including:</p>
			<ul>
				<li>Migration (lift and shift) of POSIX-compliant Linux and Windows applications</li>
				<li>SAP HANA</li>
				<li>Databases</li>
				<li>HPC infrastructure and apps</li>
				<li>Enterprise web applications</li>
			</ul>
			<p>You can learn more about Azure NetApp Files at <a href="https://docs.microsoft.com/azure/azure-netapp-files/">https://docs.microsoft.com/azure/azure-netapp-files/</a>.</p>
			<p>This wraps up our quick tour of Azure infrastructure with an overview of the core services of Azure: compute, networking, and storage. In the next section, we will look at some common workload migration scenarios.</p>
			<h2 id="_idParaDest-84"><a id="_idTextAnchor123"/><a id="_idTextAnchor124"/><a id="_idTextAnchor125"/><a id="_idTextAnchor126"/><a id="_idTextAnchor127"/><a id="_idTextAnchor128"/><a id="_idTextAnchor129"/><a id="_idTextAnchor130"/><a id="_idTextAnchor131"/><a id="_idTextAnchor132"/>Workload migration scenarios</h2>
			<p><a id="_idTextAnchor133"/>In the previous section, we built our foundational understanding of the underlying infrastructure of Azure. We will continue to build on this knowledge by discussing the following common workload migration scenarios:</p>
			<ul>
				<li>Windows Server and Linux workloads</li>
				<li>SQL Server</li>
				<li>Containers</li>
				<li>VMware workloads</li>
				<li>SAP workloads</li>
				<li>HPC</li>
			</ul>
			<p>Let's begin with Windows Server and Linux workloads.</p>
			<h3 id="_idParaDest-85"><a id="_idTextAnchor134"/>Windows Server and Linux workloads</h3>
			<p>When it comes to migrating Windows Server and Linux VMs from on-premises to Azure, Microsoft recommends that you use the <strong class="bold">Azure Migrate</strong> hub of tools and services. Azure Migrate provides a central hub for discovery, assessment, and migration to Azure. The <strong class="bold">Server Migration</strong> tool in Azure Migrate is specifically built for server migration to Azure.</p>
			<p>Some of the key features and benefits of Azure Migrate include: </p>
			<ul>
				<li>You can migrate across different environments and scenarios including on-premises servers, VMs, databases, web apps, and virtual desktops.</li>
				<li>You can conduct comprehensive discovery, assessment, and migration capabilities using built-in Azure tools as well as third-party tools of your choice.</li>
				<li>You have full visibility of your migration progress from the dashboard.</li>
				<li>You can migrate efficiently with rapid lift and shift migration tools at no additional cost (included as part of your Azure subscription).</li>
			</ul>
			<p>Once you migrate your VMs to Azure, you should enable <strong class="bold">Azure Automanage</strong> to simplify mundane and repetitive IT management tasks. Azure Automanage allows IT administrators to manage and automate their day-to-day operations and perform lifecycle management across Windows and Linux servers using a point-and-click interface.</p>
			<p>Azure Automanage works with any new or existing Windows Server or Linux VM on Azure. It automatically implements VM management best practices as defined in the Microsoft Cloud Adoption Framework. Azure Automanage eliminates the need for service discovery, enrollment, and configuration of VMs. For example, Azure Automanage enables customers to implement security best practices by offering an easy way to apply an operating system baseline to VMs per Microsoft's baseline configuration. Services such as Azure Security Center are automatically onboarded per the configuration profile chosen by the customer. If the VM's configuration drifts from the applied best practices, Azure Automanage detects and automatically brings the VM back to the desired configuration. </p>
			<p>To learn more about Azure Migrate, visit <a href="https://docs.microsoft.com/azure/migrate/migrate-services-overview">https://docs.microsoft.com/azure/migrate/migrate-services-overview</a>.</p>
			<p>To learn more about Azure Automanage, visit <a href="https://azure.microsoft.com/services/azure-automanage">https://azure.microsoft.com/services/azure-automanage</a>.</p>
			<p>To learn more about Azure Security Center, visit <a href="https://azure.microsoft.com/services/security-center/">https://azure.microsoft.com/services/security-center/</a>.</p>
			<p>For information on the Microsoft Cloud Adoption Framework, visit <a href="https://docs.microsoft.com/azure/cloud-adoption-framework/">https://docs.microsoft.com/azure/cloud-adoption-framework/</a>.</p>
			<h3 id="_idParaDest-86"><a id="_idTextAnchor135"/>SQL Server</h3>
			<p>Azure SQL is a family of secure, managed, and intelligent products that are built upon the familiar SQL Server database engine in the Azure cloud. Microsoft's data platform uses SQL Server technology and makes it available across a huge variety of different environments. This includes the public cloud as well as private cloud environments (which can be third-party hosted), and physical on-premises machines. As a result, Azure SQL destinations have a consistent experience with SQL Server on-premises, allowing you to bring your favorite skills, tools, languages, and frameworks to Azure with your applications. You can migrate your applications with ease using Azure Migrate and continue to use the resources that you are familiar with.</p>
			<p>The following table provides a clear picture of each Azure SQL offering and its purpose so that you can make an informed decision that suits your requirements:</p>
			<table id="table003" class="No-Table-Style">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure SQL offering</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Common use case</span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure SQL Database</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Supporting a modern cloud application on an intelligent, fully managed database service that includes serverless compute.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Azure SQL Managed Instance</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Migrating an existing on-premises application to Azure that requires 100% feature parity with a full-fledged SQL Server database engine. You do not want to look after the upgrade or maintenance of the SQL Server once your application is migrated to Azure.</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">SQL Server on Azure VMs</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Easily lifting and shifting existing SQL Server workloads while maintaining 100% SQL Server compatibility and OS-level access. You want to have complete control over the database server as well as the underlying OS that it runs on.</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="figure">Table 4.3: Azure SQL offerings and common use cases</p>
			<p>We will go into each of these Azure SQL offerings in more detail.</p>
			<h3><a id="_idTextAnchor136"/>Azure SQL Database</h3>
			<p><strong class="bold">Azure SQL Database</strong> is an Azure <strong class="bold">Platform as a Service</strong> (<strong class="bold">PaaS</strong>) offering and is a fully managed SQL Server database engine hosted in Azure. Azure SQL Database is based on the latest stable SQL Server Enterprise Edition. It is an ideal choice for organizations that require cloud applications with current, stable SQL Server features while reducing development and marketing time requirements.</p>
			<p>With Azure SQL Database, you can quickly scale up and down as required with no interruptions. It also provides additional features that are not available in SQL Server, including built-in high availability, intelligence, and management.</p>
			<h3><a id="_idTextAnchor137"/>Azure SQL Managed Instance</h3>
			<p><strong class="bold">Azure SQL Managed Instance</strong> is an Azure PaaS offering and is similar to an instance of the full-fledged Microsoft SQL Server database engine. It is ideal for migrating on-premises applications to Azure with minimal to no database changes. Azure SQL Managed Instance includes all the PaaS benefits of Azure SQL Database but adds capabilities that were previously only available in SQL Server on Azure VMs (as we will see in the following section), including a native virtual network and near 100% compatibility with on-premises SQL Server.</p>
			<h3><a id="_idTextAnchor138"/>SQL Server on Azure VM</h3>
			<p><strong class="bold">SQL Server on Azure VM</strong> is an Azure <strong class="bold">Infrastructure-as-a-Service</strong> (<strong class="bold">IaaS</strong>) offering and allows you to run the full fledged SQL Server inside a VM in Azure. SQL Server on Azure VMs is ideal for migrating an existing on-premises database using the lift and shift approach to Azure, with minimal to no database changes. With SQL Server on Azure VMs, you have complete administrative control over the SQL Server instance and the underlying OS that is running on the Azure VM. However, with this full control, you are also responsible for upgrading, maintaining, and backing up your software on the VM. This would not be an issue if your organization already has IT resources available to look after VMs.</p>
			<p>These are some other benefits of SQL Server on Azure VM:</p>
			<ul>
				<li>You can install and host your SQL Server on Azure in either a Windows Server VM or a Linux VM.</li>
				<li>All the latest versions and editions of SQL Server are available for installation in an Azure VM.</li>
				<li>You can use an existing license for your SQL Server on Azure VM or provision a pre-built SQL Server VM image that already includes an SQL Server license. This is also true for the PaaS offerings via Azure Hybrid Benefit.</li>
				<li>SQL Server on Azure VMs allows you to build a system with high customizability to meet the performance and availability needs of your application</li>
				<li>You can use SQL Server on Azure VM to quickly spin up an environment to develop and test traditional SQL Server applications.</li>
			</ul>
			<p>To wrap up this section, we will go over the key differences between these three Azure database offerings.</p>
			<h3>Key differences between Azure SQL Database, Azure SQL Managed Instance, and SQL Server on Azure VMs</h3>
			<p>The most significant difference between these three Azure database offerings is that SQL Server on Azure VMs allows you to have full control over the database engine. Both SQL Database and SQL Managed Instances are PaaS-based. This means there is no need for you to manage your own upgrades or backups for SQL Database and SQL Managed Instances. On the other hand, SQL Server on Azure VMs is IaaS-based, so you would be required to take care of your own upgrades for the operating system, database software, and backups. You should choose the appropriate Azure database offering according to your migration requirements.</p>
			<p>Another technology that has been widely adopted by many organizations is containers. </p>
			<h3 id="_idParaDest-87"><a id="_idTextAnchor139"/>Containers</h3>
			<p>Containers have gained tremendous popularity because they allow you to easily move your applications from one environment to another with no changes to your application. When it comes to containers, Azure provides several options, including:</p>
			<ul>
				<li>Azure Kubernetes Service (AKS)</li>
				<li>Azure Container Instance (ACI)</li>
				<li>Web App for Containers</li>
			</ul>
			<p>ACI allows you to create an isolated container for small applications that do not require full container orchestration. These instances have a quick startup time and can leverage Azure virtual network and public IPs. ACI is ideal for <strong class="bold">proof-of-concept</strong> (<strong class="bold">PoC</strong>) applications.</p>
			<p>To learn more about ACI, visit <a href="https://azure.microsoft.com/services/container-instances/">https://azure.microsoft.com/services/container-instances/</a>.</p>
			<p>AKS simplifies the deployment process for a managed Kubernetes cluster in Azure. Since much of the management responsibility is offloaded to Azure, both the complexity and operational overhead of managing Kubernetes are reduced.</p>
			<p>Azure manages the Kubernetes masters and handles critical tasks such as maintenance and health monitoring for you. This means that you only have to manage the agent nodes. Therefore, you also only pay for the agent nodes, and not the masters, in your clusters; as a managed Kubernetes service, AKS is free. If you wish to create an AKS cluster, you can do so in the Azure portal. Alternatively, you can use the Azure CLI, or various template-driven deployment options such as <strong class="bold">Azure Resource Manager</strong> (<strong class="bold">ARM</strong>) templates and Terraform.</p>
			<p>All nodes are deployed and configured for you when an AKS cluster is deployed—masters and agents. During deployment, you can also configure additional features such as <strong class="bold">Azure AD</strong> integration, advanced networking, and monitoring. AKS also supports Windows Server containers.</p>
			<p>To learn more about AKS, visit <a href="https://docs.microsoft.com/azure/aks/intro-kubernetes">https://docs.microsoft.com/azure/aks/intro-kubernetes</a>.</p>
			<p>With <strong class="bold">Web App for Containers</strong>, you can deploy and run containerized applications on Windows and Linux with ease. It offers built-in autoscaling and load balancing. You can automate your <strong class="bold">continuous integration/continuous deployment</strong> (<strong class="bold">CI/CD</strong>) process with GitHub, Azure Container Registry, and Docker Hub. You can also set up autoscaling to meet your workload demand. For example, you can set up scaling rules to reduce costs during off-peak hours.</p>
			<p>To learn more about Web App for Containers, visit <a href="https://azure.microsoft.com/services/app-service/containers/">https://azure.microsoft.com/services/app-service/containers/</a>.</p>
			<h3 id="_idParaDest-88"><a id="_idTextAnchor140"/><a id="_idTextAnchor141"/>VMware workloads</h3>
			<p>With Azure VMware Solution, you can seamlessly move VMware workloads from your on-premises environments to Azure. This allows you to continue to manage your existing VMware environments with the same tools that you are familiar with while running your VMware workloads natively on Azure.</p>
			<p>You can learn more about Azure VMware Solution at <a href="https://azure.microsoft.com/services/azure-vmware/">https://azure.microsoft.com/services/azure-vmware/</a>.</p>
			<p>Another approach for migrating VMware workloads to Azure is by using the <strong class="bold">Azure Migrate: Server Migration</strong> tool. There are two ways in which you can migrate your VMware VMs to Azure:</p>
			<ol>
				<li>Agentless migration</li>
				<li>Agent-based migration</li>
			</ol>
			<p>We will highlight the steps involved in each of these types of migrations below and provide links to resources where you can obtain detailed migration instructions.</p>
			<h3>Agentless migration</h3>
			<p><a id="_idTextAnchor142"/>Here is an overview of the steps involved in an agentless migration:</p>
			<ol>
				<li value="1">Set up the <strong class="bold">Azure Migrate</strong> appliance.</li>
				<li>Replicate the VMs.</li>
				<li>Track and monitor the migration status.</li>
				<li>Run a test migration.</li>
				<li>Migrate the VMs.</li>
				<li>Complete the migration.</li>
			</ol>
			<p>For more information on agentless migration, visit: <a href="https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware ">https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware</a></p>
			<h3>Agent-based migration</h3>
			<p><a id="_idTextAnchor143"/>Here is an overview of the steps involved in an agent-based migration:</p>
			<ol>
				<li value="1">Prepare Azure to work with Azure Migrate:<ol><li>Create an <strong class="bold">Azure Migrate</strong> project.</li><li>Verify the Azure account permissions.</li><li>Set up a network that Azure VMs will join after migration.</li></ol></li>
				<li>Prepare for agent-based migration:<ol><li value="1">Set up a VMware account. This is to enable <strong class="bold">Azure Migrate</strong> to discover machines for migration, and so the Mobility service agent can be installed on machines you want to migrate.</li><li>Prepare a machine that will act as the replication appliance.</li><li>Add the <strong class="bold">Azure Migrate: Server Migration</strong> tool.</li></ol></li>
				<li>Set up the replication appliance.</li>
				<li>Replicate the VMs.</li>
				<li>To check that all is working as expected, run a test migration.</li>
				<li>Run a full migration to Azure.</li>
			</ol>
			<p>For more information on agent-based migration, visit: <a href="https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware-agent ">https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware-agent</a></p>
			<p>Companies with SAP workloads might be interested in migrating to Azure. We will discuss that in the next section. </p>
			<h3 id="_idParaDest-89"><a id="_idTextAnchor144"/>SAP workloads</h3>
			<p>Azure is optimized for SAP workloads, and you can migrate most existing SAP NetWeaver and S/4HANA systems to Azure without any issues. Azure is extremely scalable and can provision VMs with more than 200 CPUs and terabytes of memory. For the most demanding workloads, Azure also offers <strong class="bold">HANA Large Instances</strong> (<strong class="bold">HLIs</strong>). HLIs are based on dedicated physical hardware in an Azure datacenter running Intel Optane, which is a unique cloud offering.</p>
			<p>To deploy your SAP workloads into Azure IaaS successfully, you must understand the differences between the offerings of traditional hosting providers and Azure IaaS. A traditional hosting provider would adapt infrastructure (for example, server type, storage, and network) to the workload a customer wants to host. For Azure IaaS, the onus is on the customer to identify the requirement for the workload and to choose the appropriate Azure VMs, storage, and network components for the deployment.</p>
			<p>To plan for a successful migration, you should make note of the following:</p>
			<ul>
				<li>What types of Azure VMs would support your SAP workload requirements?</li>
				<li>What Azure database services can provide the support required by your SAP workloads?</li>
				<li>Gain an understanding of the various SAP throughput offered by supporting Azure VM types and HLI SKUs.</li>
			</ul>
			<p>Additionally, it is necessary to find out how Azure IaaS resources and bandwidth limitations stand in comparison to the actual consumption by the on-premises resource counterparts. As such, you must be familiar with the various capabilities of Azure VMs and HLI supported with SAP in terms of:</p>
			<ul>
				<li>Memory and CPU resources</li>
				<li>Storage IOPS and throughput</li>
				<li>Network bandwidth and latency</li>
			</ul>
			<p>To learn more about SAP migration to Azure, visit: <a href="https://azure.microsoft.com/solutions/sap/migration/">https://azure.microsoft.com/solutions/sap/migration/</a></p>
			<p>To learn how Microsoft migrated their own SAP applications to Azure and other SAP on Azure scenarios, visit: <a href="https://www.microsoft.com/itshowcase/sap-on-azure-your-trusted-path-to-innovation-in-the-cloud">https://www.microsoft.com/itshowcase/sap-on-azure-your-trusted-path-to-innovation-in-the-cloud</a></p>
			<p>Organizations with complex computational and process-intensive tasks often require HPC resources. We will take a close look at HPC offerings for Azure in the next section.</p>
			<h3 id="_idParaDest-90"><a id="_idTextAnchor145"/>High-performance computing</h3>
			<p>As companies acquire larger volumes of data and more sophisticated methods to manipulate it, HPC becomes more prevalent. In recent times, more and more organizations are starting to understand how they can reinvent and transform their business using HPC solutions. However, many of these organizations do not have a history in HPC, and so they have no existing hardware clusters or other investments in HPC hardware to use as a starting point. This is where Azure HPC can offer some of its greatest value. Azure HPC gives you the ability to develop and host game-changing applications and experiences without needing to deploy on-premises infrastructure.</p>
			<p>Here are some examples of different industries and what they would use HPC for:</p>
			<table id="table004" class="No-Table-Style">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Industries</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">What do they use HPC for?</span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Finance</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Risk modeling, fraud prevention</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Engineering</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><strong class="bold" lang="en-US" xml:lang="en-US">Computational fluid dynamics</strong><span lang="en-US" xml:lang="en-US"> (</span><strong class="bold" lang="en-US" xml:lang="en-US">CFD</strong><span lang="en-US" xml:lang="en-US">), </span><strong class="bold" lang="en-US" xml:lang="en-US">finite element analysis </strong><span lang="en-US" xml:lang="en-US">(</span><strong class="bold" lang="en-US" xml:lang="en-US">FEA</strong><span lang="en-US" xml:lang="en-US">)</span><strong class="bold" lang="en-US" xml:lang="en-US">, electronic design automation</strong><span lang="en-US" xml:lang="en-US"> (</span><strong class="bold" lang="en-US" xml:lang="en-US">EDA</strong><span lang="en-US" xml:lang="en-US">), chemical engineering simulation, autonomous vehicle development</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Life sciences</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Genome sequencing, DNA splicing, molecular biology, pharmaceutical development</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Earth sciences</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Weather modeling</span><span lang="en-US" xml:lang="en-US"> (</span><span lang="en-US" xml:lang="en-US">WRF</span><span lang="en-US" xml:lang="en-US">), seismic processing, reservoir modeling </span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Manufacturing</span></p>
						</td>
						<td class="No-Table-Style">
							<p class="Basic-Paragraph"><span lang="en-US" xml:lang="en-US">Digital vehicle engineering, Industry 4.0, predictive maintenance, digital twins</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="figure">Table 4.4: How HPC is used across different industries</p>
			<p>Azure enables you to run enterprise-grade HPC workloads in the cloud, without the costs and risks of investing in planning, deploying, and managing your own HPC clusters on-premises. An Azure HPC system has the advantage that you can dynamically provision resources as they are needed and shut them down when demand falls. Azure makes it easy to coordinate an HPC task across many VMs, and it supports a wide variety of VM sizes, processer types, and storage options common to HPC data requirements.</p>
			<p>In Azure, you have a choice of several technologies to meet your HPC demands:</p>
			<ul>
				<li><strong class="bold">H-Series Virtual Machines</strong>: CPU-based VMs with high-performance interconnect </li>
				<li><strong class="bold">N-Series Virtual Machines</strong>: GPU- and other accelerator-based VMs with high-performance interconnect</li>
				<li><strong class="bold">Cray Supercomputer</strong>: Options for dedicated, fully managed environments</li>
				<li><strong class="bold">Azure Cycle Cloud</strong>: For scaling up environments and clusters</li>
				<li><strong class="bold">Azure HPC Cache</strong>: For on-/off-premises big data synchronization</li>
				<li><strong class="bold">Azure Batch</strong>: For scaling application jobs</li>
			</ul>
			<p>Some of the leading industry ISVs running on Azure include <strong class="bold">Ansys</strong>, <strong class="bold">Altair</strong>, and <strong class="bold">Willis Towers Watson</strong>. Let's take a closer look at each of these Azure HPC offerings.</p>
			<h4>Note</h4>
			<p class="callout">Linux is the most common OS for HPC workloads and thus Azure fully supports Linux as the default OS for HPC VMs.</p>
			<h3>Azure H-Series Virtual Machines</h3>
			<p>The <strong class="bold">H-Series Virtual Machines</strong> are optimized for HPC applications that have exceptionally high memory bandwidth and scalability demands, for example:</p>
			<ul>
				<li>Computational chemistry</li>
				<li>Electronic design automation</li>
				<li>Finite element analysis</li>
				<li>Fluid dynamics</li>
				<li>Heat transfer simulation</li>
				<li>Quantum simulation</li>
				<li>Rendering</li>
				<li>Reservoir simulation</li>
				<li>Risk analysis</li>
				<li>Seismic processing</li>
				<li>Spark</li>
				<li>Weather modeling</li>
			</ul>
			<p>The H-Series also supports extremely fast interconnects with RDMA InfiniBand, making them highly capable for tightly coupled workloads that require a lot of communications between servers during processing.</p>
			<p>You can learn more about Azure VM HPC instances at <a href="https://azure.microsoft.com/pricing/details/virtual-machines/series/">https://azure.microsoft.com/pricing/details/virtual-machines/series/</a>.</p>
			<h3>Azure N-Series Virtual Machines</h3>
			<p>The <strong class="bold">N-Series Virtual Machines</strong> support a variety of GPUs and are suitable for compute and graphic-intensive workloads, including:</p>
			<ul>
				<li>Deep learning</li>
				<li>High-end remote visualization</li>
				<li>Predictive analytics</li>
			</ul>
			<p>These VMs also support extremely fast interconnects with RDMA InfiniBand, making them highly capable for tightly-coupled workloads that require a lot of communications between servers during processing.</p>
			<p>You can learn more about the N-Series VMs at <a href="https://azure.microsoft.com/pricing/details/virtual-machines/series/">https://azure.microsoft.com/pricing/details/virtual-machines/series/</a>. </p>
			<h3>Cray supercomputer</h3>
			<p><strong class="bold">Cray in Azure</strong> provides you with a dedicated, fully managed supercomputer on your virtual network. Microsoft and Cray have teamed up to offer you extreme performance, scalability, and elasticity capable of handling the most demanding HPC workloads. You can now get your own Cray supercomputer delivered as a managed service and run it alongside the other Azure services to power your big compute workflows.</p>
			<p>You can learn more about Cray in Azure at <a href="https://azure.microsoft.com/solutions/high-performance-computing/cray/">https://azure.microsoft.com/solutions/high-performance-computing/cray/</a>.</p>
			<h3>Azure CycleCloud</h3>
			<p><strong class="bold">Azure CycleCloud</strong> is an enterprise tool for managing and orchestrating HPC environments on Azure. It is targeted at HPC administrators who wish to deploy an HPC environment using a particular scheduler. Out of the box, Azure CycleCloud supports many widely used HPC schedulers, including:</p>
			<ul>
				<li>Grid Engine</li>
				<li>HTCondor</li>
				<li>PBS Professional</li>
				<li>Platform LSF</li>
				<li>Slurm Workload Manager</li>
			</ul>
			<p>With Azure CycleCloud, HTC administrators can:</p>
			<ul>
				<li>Automatically scale the infrastructure to run jobs efficiently at any scale.</li>
				<li>Create and mount different types of file systems to the compute cluster nodes to support HPC workloads.</li>
				<li>Provision infrastructure for HPC systems.</li>
			</ul>
			<p>It is interesting to note that Azure CycleCloud and <strong class="bold">Azure Batch</strong> are sister products. We will talk about Azure Batch later in this section.</p>
			<p>You can learn more about Azure CycleCloud at <a href="https://docs.microsoft.com/azure/cyclecloud/overview">https://docs.microsoft.com/azure/cyclecloud/overview</a>.</p>
			<h3>Azure HPC Cache</h3>
			<p><strong class="bold">Azure HPC Cache</strong> brings the scalability of cloud computing to your existing workflow by caching files in Azure and by helping to improve the speed of access to your data for HPC tasks. You can even use Azure HPC Cache to access your data across WAN links, such as in your local datacenter <strong class="bold">network-attached storage</strong> (<strong class="bold">NAS</strong>) environment. We will talk more about Azure HPC Cache later in this chapter.</p>
			<p>You can learn more about Azure HPC Cache at <a href="https://azure.microsoft.com/services/hpc-cache/">https://azure.microsoft.com/services/hpc-cache/</a>.</p>
			<h3>Azure Batch</h3>
			<p><strong class="bold">Azure Batch</strong> is a service for working with large-scale parallel and computationally intensive tasks on Azure. Unlike HPC VMs and Microsoft HPC Pack, Azure Batch is a managed service. You provide data and applications, and you specify whether to run on Linux or Windows, how many machines to use, and what rules apply to autoscaling. Azure Batch handles provisioning of the compute capacity and optimizes the way the work is done in parallel. You only pay for the underlying compute, networking, and storage you use. The Azure Batch scheduling and management service is free.</p>
			<p>Azure Batch is an ideal service for heavy workloads, such as financial risk modeling, 3D rendering, media transcoding, and genetic sequence analysis. Think of Azure Batch as a flexible management and scheduling service layer on top of the Azure platform. Even though you might be able to provision thousands of VMs to support heavy workloads without the help of Azure Batch, doing so without Azure Batch would require you to look after all the scheduling of thousands of VMs, and for distributing the work according to available capacity yourself.</p>
			<p>You can learn more about Azure Batch at <a href="https://docs.microsoft.com/azure/batch/batch-technical-overview">https://docs.microsoft.com/azure/batch/batch-technical-overview</a>.</p>
			<p>The HPC services in Azure put HPC techniques at your fingertips and empower you to perform new tasks. You've learned about the solutions available on Azure for HPC workloads: Azure Batch, HPC VMs, and the Microsoft HPC Pack. You can now choose the best option for your HPC workloads.</p>
			<p>This concludes our overview of common workload migration scenarios. In the next section, we will look at how to achieve cloud scale and maximize performance in Azure.</p>
			<h2 id="_idParaDest-91"><a id="_idTextAnchor146"/>Achieving cloud scale and maximizing performance</h2>
			<p>Here, we will look at how to achieve cloud scale and maximize performance once you have migrated your workload to Azure. We will start by looking at Azure scale and how autoscaling can help achieve this goal. We will then discuss the options available for compute and storage performance optimization.</p>
			<h3 id="_idParaDest-92"><a id="_idTextAnchor147"/>Azure autoscaling</h3>
			<p>Autoscaling enables a system to adjust the resources required to meet the varying demand from users while controlling the costs associated with these resources. You can use autoscaling with many Azure services, such as Azure <strong class="bold">Virtual Machine Scale Sets</strong>. Autoscaling requires you to configure autoscale rules that specify the conditions under which resources should be added or removed.</p>
			<p>Suppose you run an online specialty store. During holiday seasons, your website might experience a short-term increase in traffic. Such spikes can happen at any time, which makes it difficult to plan for potential spikes in traffic. This unpredictability of events means manual scaling is not an option and it would be prohibitively expensive to keep your website resources available at all times in case of a sudden spike. This is where Azure autoscaling comes in handy. It will automatically scale up or down your resources according to your configured autoscale rules, giving you peace of mind.</p>
			<p>In a similar vein to scaling, we also need to look at compute and storage performance considerations.</p>
			<h3 id="_idParaDest-93"><a id="_idTextAnchor148"/>Compute and storage performance considerations</h3>
			<p>As you may recall, in the <em class="italics">Choosing your underlying infrastructure</em> section of this chapter, we highlighted various Azure services for compute and storage. When it comes to compute performance considerations, Azure <strong class="bold">Virtual Machine Scale Sets</strong> is a service that offers both high performance and high availability and can be used instead of availability sets. For your storage performance consideration, Azure Ultra Disk provides the highest performance with the lowest latency. In this section, we will dive deeper into each of these two services for your compute and storage performance considerations.</p>
			<h3>Compute performance consideration: Virtual Machine Scale Sets</h3>
			<p>With Virtual Machine Scale Sets, you can create and manage a diverse group of load-balanced VMs and automatically scale up and down the number of VMs based on actual demand and usage, or as per a customized schedule defined by you. Best of all, you do not need to manually configure each VM individually.</p>
			<p>Under the hood, Virtual Machine Scale Sets use a load balancer to distribute requests across the VM instances, and a health probe to determine the availability of each instance. This is how it works:</p>
			<ol>
				<li value="1">Virtual Machine Scale Sets use the health probe to ping the instance.</li>
				<li>If the instance responds, the Virtual Machine Scale Set determines that the instance is still available.</li>
				<li>If the ping fails or times out, the Virtual Machine Scale Set determines that the instance is unavailable and stops sending requests to it.</li>
			</ol>
			<p>Virtual Machine Scale Sets support both Linux and Windows VMs in Azure and allow you to centrally manage, configure, and update a heterogeneous group of VMs. As demand grows, the number of VMs running in the scale set increases. Conversely, as demand drops, excess VMs can be shut down. You can have up to 1,000 VMs on a single Virtual Machine Scale Set per Availability Zone.</p>
			<p>If you deal with large workloads whose demand varies and is unpredictable, Virtual Machine Scale Sets are an ideal solution. You can get full control of individual VMs within your scale set and ensure high availability at scale with the flexible orchestration mode. You can change VM sizes without redeploying your scale set or mix <strong class="bold">Azure Spot VMs</strong> and pay-as-you-go VMs within the same scale set to optimize your costs. You can also manage VMs and Virtual Machine Scale Sets using the same APIs and accelerate your deployments by defining fault domains during the VM creation process.</p>
			<p><a id="_idTextAnchor149"/>To learn more about Azure Virtual Machine Scale Sets, visit <a href="https://azure.microsoft.com/services/virtual-machine-scale-sets/">https://azure.microsoft.com/services/virtual-machine-scale-sets/</a>.</p>
			<p><a id="_idTextAnchor150"/>Having discussed compute, now we will look at what storage options you should be considering for HPC workloads.</p>
			<h3>High-performance file caching consideration: Azure HPC Cache</h3>
			<p>As discussed earlier, <strong class="bold">Azure HPC Cache</strong> speeds up access to your data for HPC tasks by caching files in Azure. From the Azure portal, you can easily launch and monitor Azure HPC Cache. Even if you alter the storage target at the back end, client access remains simple, since new blob containers or existing NFS storage can become parts of Azure HPC Cache's aggregated namespace. </p>
			<p>To find out more, you can watch a short video about Azure HPC Cache at <a href="https://azure.microsoft.com/resources/videos/hpc-cache-overview/">https://azure.microsoft.com/resources/videos/hpc-cache-overview/</a>.</p>
			<h3>Latency-sensitive storage consideration: Azure NetApp Files</h3>
			<p>Azure NetApp Files is an enterprise-class, metered file storage service that lets you choose the service and performance levels you want. By default, it is highly available, high-performance, and all workload types are supported. The service allows you to set up snapshots on demand, as well as to manage policies (currently in preview) that schedule automatic volume snapshots. </p>
			<p>Azure NetApp Files makes it easy for enterprise LOB and storage professionals to migrate and run complex, file-based applications with no code change. It is the shared file-storage service of choice that underlies a wide range of scenarios, including the migration of POSIX-compliant Linux and Windows apps (lift and shift), enterprise web apps, databases, SAP HANA, and HPC apps and infrastructure. </p>
			<h3>Storage performance consideration: Azure Ultra Disks</h3>
			<p>As discussed earlier in this chapter, if your Azure VM requires the highest performance, throughput, and IOPS with the lowest latency, you should consider Azure Ultra Disk. Azure Ultra Disk provides top-tier performance at the same availability levels as existing disk offerings. One major benefit of Azure Ultra Disk is that you can dynamically adjust the SSD performance along with your workload without having to restart your Azure VMs. This makes it ideal for heavy workloads that are transaction-intensive such as SAP HANA, SQL Server, and Oracle.</p>
			<p>To learn more about Azure Ultra Disks, visit <a href="https://docs.microsoft.com/azure/virtual-machines/disks-enable-ultra-ssd">https://docs.microsoft.com/azure/virtual-machines/disks-enable-ultra-ssd</a>.</p>
			<p>In the next section, we will talk about business continuity and disaster recovery, and how to accomplish them using the appropriate Azure tools.</p>
			<h2 id="_idParaDest-94"><a id="_idTextAnchor151"/>Enterprise-grade backup and disaster recovery</h2>
			<p>At the time of writing, and mostly due to the pandemic, organizations of all sizes have opted to migrate their operations to Microsoft Azure, to enable secure remote work and improve operational efficiency. In addition, organizations that migrate to Azure can significantly reduce CapEx, since there is very little or no infrastructure at all that is acquired in an initial investment when deploying workloads in the public cloud. However, it is important to design a reliable infrastructure that can help you maintain your data and applications so they are always available and accessible.</p>
			<p>In order to help you protect your data and critical applications from any potential failure, it is important to always make copies of your data and provide secure access to those backups to ensure business continuity. Azure Backup can help you back up your data and restore it in Azure.</p>
			<h3 id="_idParaDest-95"><a id="_idTextAnchor152"/>Azure Backup</h3>
			<p>Performing backups in the cloud can help organizations reduce costs and improve consistency in storage management. Azure Backup is designed to help you back up and restore your data to the cloud. </p>
			<p>While it is known that Azure takes at least three copies of your data and stores it using Azure storage, it is critical to keep a backup and improve your security posture by enabling protection against corruptions, accidental deletions, or ransomware. </p>
			<p>Since Azure Backup is a fully managed service, built into Azure, you can make backups of data that is sitting on-premises or in the cloud and restore it back to a specific period to ensure business continuity. </p>
			<p>Azure Backup doesn't require you to set up any infrastructure, which makes it simple to use while reducing the cost of ownership. Azure Backup provides native integration with different workloads that run on Azure, such as Azure VMs, databases like SQL Server on virtual machines, or Azure PostgreSQL, SAP, and Azure files, so there's no need to provision any infrastructure to perform backups. </p>
			<p>So, how does Azure Backup store the data? Under the hood, Azure Backup relies primarily on Azure Blob Storage to store your backups and ensure reliability as you can choose from a variety of redundancy options for your backups, like <strong class="bold">locally redundant storage</strong> (<strong class="bold">LRS</strong>), <strong class="bold">geo-redundant storage</strong> (<strong class="bold">GRS</strong>), <strong class="bold">read-access geo-redundant storage</strong> (<strong class="bold">RA-GRS</strong>), or <strong class="bold">zone-redundant storage</strong> (<strong class="bold">ZRS</strong>). Azure Backup improves security, as it has encryption capabilities to secure data in transit and at rest, and features like role-based access control as well as providing soft delete for backup data for up to 14 days with no additional charges. </p>
			<p>As organizations' data increases along with their workloads across multiple Azure subscriptions, Azure regions, and even tenants, it is critical to keep their data and resources secure and compliant. Therefore, governance features become relevant to monitor and enforce governance standards on the backups. </p>
			<p>To learn more about guidance and best practices for Azure Backup, visit <a href="https://docs.microsoft.com/azure/backup/guidance-best-practices">https://docs.microsoft.com/azure/backup/guidance-best-practices</a>.</p>
			<p><strong class="bold">Backup Center</strong> is a new and native central management capability that helps monitor, operate, govern, and get insights into your backup across all your backup estate. You can manage all the data sources and backup instances across all your vaults. You can also select a specific data source to get more details about the backup. Through Backup Center, you can initiate restores of your data and add policies and vaults as shown in <em class="italics">Figure 4.1</em>: </p>
			<div>
				<div id="_idContainer026" class="IMG---Figure">
					<img src="image/B17153_04_01.jpg" alt="Backup center page overview"/>
				</div>
			</div>
			<p class="figure">Figure 4.1: Backup Center page</p>
			<p>Using Backup Center, you can integrate governance features such as Azure policies that allow organizations to audit and deploy policies to reach a desired backup goal state. Then, you can use backup compliance to see if your organization is adhering to those policies.</p>
			<p>Now that we have reviewed how Azure Backup works, another consideration for building reliable systems is the recovery capacity. Let's see how Azure can help you improve failover and recovery processes through Azure Site Recovery.</p>
			<h3 id="_idParaDest-96"><a id="_idTextAnchor153"/>Azure Site Recovery</h3>
			<p>As an organization, you need to ensure business continuity and reduce downtime when a disaster occurs. Planning for business continuity and disaster recovery implies the adoption of a mechanism to ensure your workloads and data are safe and resilient to planned or unplanned outages. </p>
			<p><strong class="bold">Azure Site Recovery</strong> (<strong class="bold">ASR</strong>) can help you keep your applications and workloads running during planned or unplanned outages. ASR has the capacity to replicate workloads that are running on-premises or on VMs and restore them in a different location. This way, if an outage occurs at your primary location, you will have the ability to replicate your workloads to a secondary location and be able to ensure business continuity. Once your primary location is up and running, you can then perform a failback to it.</p>
			<p>With such a mechanism for disaster recovery, ASR helps in reducing infrastructure costs by eliminating the need for building or maintaining a costly secondary datacenter. Plus, you only pay for compute resources when VMs are spun up, meaning at the time of actual failover. </p>
			<p>Furthermore, it is simple to deploy and manage. There is a point-and-click graphical UI for setting up replication and conducting ongoing operations, including no-impact DR drills. This means the entire disaster recovery plan can be tested by failing over to a secondary site, without impacting the production site. And finally, there is seamless integration with other Azure services.</p>
			<p>Let's take an example of an organization that is looking to enable a disaster recovery scenario for their applications running on VMs on Azure. When enabling ASR for a VM, ASR requires the installation of an extension on the VM—this extension is the Site Recovery Mobility service as shown in <em class="italics">Figure 4.2</em>: </p>
			<div>
				<div id="_idContainer027" class="IMG---Figure">
					<img src="image/B17153_04_02.jpg" alt="Azure Site Recovery"/>
				</div>
			</div>
			<p class="figure">Figure 4.2: Azure Site Recovery</p>
			<h4>Note</h4>
			<p class="callout">The Site Recovery Mobility service must be installed on the VM that is to be replicated. If you plan to enable ASR on an Azure <strong class="bold">Network Virtual Appliance</strong> (<strong class="bold">NVA</strong>), we strongly recommend you validate whether the extension can be installed, as many NVAs have a closed operating system, and it is not possible to enable ASR for those virtual machines.</p>
			<p>During the replication process, VM disk writes are sent to a cache storage account in the source region, and data is sent from the cache storage account to the target region or secondary region. At this moment, Azure establishes recovery points from the data replicated.</p>
			<p>When performing a failover for the VM, the recovery point is utilized by ASR to restore the VM to the target region.</p>
			<p>Overall, to enable ASR on your VMs, you must: </p>
			<ul>
				<li><strong class="bold">Create a Recovery Services vault</strong> to store the data that is going to be copied along with the configuration information for the VMs. It is recommended to have at least a contributor role in the subscription.</li>
				<li><strong class="bold">Enable replication</strong> and <strong class="bold">configure the source and target settings</strong> when performing a failover. All resources, including the VMs and networking components, are created in the target region.</li>
				<li><strong class="bold">Prepare the VMs</strong> to ensure outbound connectivity and verify that the VMs have the root certificates installed.</li>
				<li><strong class="bold">Run a test failover</strong>, and we suggest using a non-production network for testing purposes to avoid any impact on the resources in the production network.</li>
			</ul>
			<p>Note that access to storage accounts that are utilized by ASR vaults is only allowed through Azure Backup. This way you can improve security and protect your data. </p>
			<p>This wraps up our discussion on business continuity and disaster recovery. In the final section, we will go through some useful resources to guide you through your cloud migration journey in Azure.</p>
			<h2 id="_idParaDest-97">Az<a id="_idTextAnchor154"/>ure migration best practices and support</h2>
			<p>You can browse the following resources for documentation, tutorials, and more, depending on your needs.</p>
			<h3 id="_idParaDest-98">Th<a id="_idTextAnchor155"/>e official Azure documentation</h3>
			<p>The official Azure documentation provides a wealth of information on how to get started, how to architect and design your applications for the cloud, documentation on all Azure products, tutorials, and more: <a href="https://docs.microsoft.com/azure/">https://docs.microsoft.com/azure/</a>.</p>
			<h3 id="_idParaDest-99">Az<a id="_idTextAnchor156"/>ure Migrate</h3>
			<p>Learn how you can use Azure Migrate to discover, assess, and migrate your on-premises infrastructure, data, and applications to Azure: <a href="https://docs.microsoft.com/azure/migrate/migrate-services-overview">https://docs.microsoft.com/azure/migrate/migrate-services-overview</a>.</p>
			<h3 id="_idParaDest-100">Az<a id="_idTextAnchor157"/>ure Migration Program</h3>
			<p>Learn how the Azure Migration Program can accelerate your cloud migration journey with best practices, resources, and guidance: <a href="https://azure.microsoft.com//migration/migration-program/">https://azure.microsoft.com//migration/migration-program/</a>.</p>
			<h3 id="_idParaDest-101"><a id="_idTextAnchor158"/>Azure Architecture Center</h3>
			<p>Learn how to design applications on Azure that are secure, resilient, scalable, and highly available by following proven practices from the industry: <a href="https://docs.microsoft.com/azure/architecture/guide/">https://docs.microsoft.com/azure/architecture/guide/</a>.</p>
			<h3 id="_idParaDest-102"><a id="_idTextAnchor159"/>Azure App Service</h3>
			<p>Learn how to use Azure App Service with quickstarts, tutorials, and examples: <a href="https://docs.microsoft.com/azure/app-service/">https://docs.microsoft.com/azure/app-service/</a>.</p>
			<h3 id="_idParaDest-103">Az<a id="_idTextAnchor160"/>ure SQL Database</h3>
			<p>Find more about the Azure SQL family of SQL Server database engine products in the cloud: <a href="https://docs.microsoft.com/azure/azure-sql/">https://docs.microsoft.com/azure/azure-sql/</a>.</p>
			<h3 id="_idParaDest-104">Fr<a id="_idTextAnchor161"/>ee training with Microsoft Learn</h3>
			<p>To ensure that teams gain and maintain proficiency in Azure, Microsoft Learn provides a free training platform for attaining new skills and certifications through interactive online learning: <a href="https://docs.microsoft.com/learn/">https://docs.microsoft.com/learn/</a>.</p>
			<h3 id="_idParaDest-105">Co<a id="_idTextAnchor162"/>ntact an Azure sales specialist</h3>
			<p>Speak to Microsoft's team of specialists to see how Microsoft can help you migrate to Azure: <a href="https://azure.microsoft.com/migration/web-applications/app-migration-contact-sales/">https://azure.microsoft.com/migration/web-applications/app-migration-contact-sales/</a>.</p>
			<h2 id="_idParaDest-106"><a id="_idTextAnchor163"/>Summary</h2>
			<p>Throughout this chapter, we reviewed how you can plan, design, and implement reliable systems in the cloud. We went through the Microsoft Azure Well-Architected initiative and how it can help you adopt best practices to improve the quality of your workloads running in the cloud. Then we took a deep dive into the underlying infrastructure of Azure to give you all the information you need to decide how best to meet your migration goals. We also talked about common workload migration scenarios and how to achieve cloud scale and maximize performance on Azure.</p>
			<p>Lastly, we reviewed how ASR and Azure Backup can help you quickly pivot to remote work for your employees, ensuring business continuity during a failover and access to your data in a secure manner. </p>
			<p>In the next chapter, we will review how you can improve your security posture when enabling remote work.</p>
		</div>
	</body></html>