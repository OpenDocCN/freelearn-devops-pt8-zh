["```\n#cloud-config\n# Install packages on first boot\npackages:\n  - tcpdump\n  - docker\n  - nmap\n```", "```\nubuntu@ip-172-31-40-77:~$ which htop\n/usr/bin/htop\nubuntu@ip-172-31-40-77:~$ which tcpdump\n/usr/sbin/tcpdump\nubuntu@ip-172-31-40-77:~$ docker --version\nDocker version 1.11.2, build b9f10c9\n\n```", "```\nroot@ubuntu-512mb-nyc3-01:~# which htop\n/usr/bin/htop\nroot@ubuntu-512mb-nyc3-01:~# which tcpdump\n/usr/sbin/tcpdump\nroot@ubuntu-512mb-nyc3-01:~# docker --version\nDocker version 1.11.2, build b9f10c9\n\n```", "```\n[centos@cloud-init-demo ~]$ which nmap\n/usr/bin/nmap\n[centos@cloud-init-demo ~]$ docker --version\nDocker version 1.10.3, build cb079f6-unsupported\n[centos@cloud-init-demo ~]$ which tcpdump\n/usr/sbin/tcpdump\n\n```", "```\nresource \"aws_instance\" \"vm\" {\n  ami           = \"ami-643d4217\"\n  instance_type = \"t2.micro\"\n  key_name      = \"manual cloud init\"\n  user_data     = \"${file(\"cloud-config.yml\")}\"\n}\n```", "```\nresource \"digitalocean_droplet\" \"vm\" {\n  image              = \"ubuntu-14-04-x64\"\n  name               = \"ubuntu\"\n  region             = \"ams3\"\n  size               = \"512mb\"\n  ssh_keys           = [\"keys/admin_key\"]\n  user_data          = \"${file(\"cloud-config.yml\")}\"\n}\n```", "```\n#cloud-config\nwrite_files:\n  - path: /etc/motd\n    content: |\n      This server is configured using cloud-init.\n      Welcome.\n    owner: root:root\n    permissions: '0644'\n```", "```\n$ ssh ubuntu@server_ip\nWelcome to Ubuntu 16.04.1 LTS (GNU/Linux 4.4.0-36-generic x86_64)\n[...]\nThis server is configured using cloud-init.\nWelcome.\n[...]\nubuntu@ip-172-31-44-177:~$\n\n```", "```\n$ base64 server-id\nYWJjLTEyMwo=\n\n```", "```\n - path: /etc/server-id\n content: YWJjLTEyMwo=\n encoding: b64\n permissions: '0600'\n\n```", "```\n$ ls -al /etc/server-id\n-rw------- 1 root root 8 Sep 20 10:15 /etc/server-id\n$ sudo cat /etc/server-id\nabc-123\n\n```", "```\n#cloud-config\ntimezone: \"America/New_York\"\n```", "```\n$ date\nSun Sep 25 10:48:32 EDT 2016\n\n```", "```\n$ cat /etc/timezone\nAmerica/New_York\n\n```", "```\n#cloud-config\ngroups:\n  - infosec: [emergency]\n```", "```\nusers:\n - name: emergency\n groups: sudo\n shell: /bin/sh\n sudo: ['ALL=(ALL) NOPASSWD:ALL']\n ssh-authorized-keys:\n - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC+fAfzjw5+mUZ7nGokB0tzO9fOLKrjHGVlabpRUxvsIN/dRRmiBA9NDh5YRZ/ThAhn+RvPKGTBrXmuv3qWd/iWc3nie0fc2zDX1/Dc8EAIF9ybXfSxT2DXOWWLOvNdUVOZNifmsmCQ1z0p9hg3bo65c0ZEBpXHIk+l75uFWAIYZ/4jnXyFWz1ptmQR7gnAk2KBK19sj1Ii0pNjGyVbl5bNitWb3ulaviIT3FCswZoOsYvcLpOwQrMA3k12kEAb30CYpesGcq6WDHAZSpWkFvc3Cd/AET4/SjtyYpQVEhUn84v106WbNeDyJpUX6cz2WG2UaEqZc0VqZVhI63jG7wUR emergency@host\n\n```", "```\n$ whoami\nemergency\n$ groups emergency\nemergency : emergency sudo\n$ echo $SHELL\n/bin/sh\n$ sudo whoami\nroot\n\n```", "```\nusers:\n - default\n\n```", "```\n#cloud-config\npackage_upgrade: true\n```", "```\napt_reboot_if_required: true\n```", "```\npackages:\n  - htop\n  - nmap\n  - curl\n  - wget\n```", "```\napt_sources:\n  -  source: \"ppa:nginx/stable\"\n```", "```\n$ sudo apt-get dist-upgrade\nReading package lists... Done\nBuilding dependency tree\nReading state information... Done\nCalculating upgrade... Done\n0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\n\n```", "```\n$ which nmap\n/usr/bin/nmap\n$ which htop\n/usr/bin/htop\n$ which curl\n/usr/bin/curl\n$ which wget\n/usr/bin/wget\n\n```", "```\n#cloud-config\nbootcmd:\n  - echo bootcmd started at $(date)\n  - echo $INSTANCE_ID > /etc/instance_id\n```", "```\n#cloud-config\nbootcmd:\n  - cloud-init-per instance mkfs-xvdb mkfs -t ext4 /dev/xvdb\n```", "```\nmounts:\n  - [ /dev/xvdb, /srv/www ]\n```", "```\n# df -h /srv/www/\nFilesystem      Size  Used Avail Use% Mounted on\n/dev/xvdb       4.8G   10M  4.6G   1% /srv/www\n```", "```\n# cat /etc/instance_id\ni-03005dd324599df11\n```", "```\nruncmd:\n - 'echo runcmd started at $(date)'\n```", "```\n$ grep \"started at\" /var/log/cloud-init-output.log\nbootcmd started at Fri Sep 23 07:02:35 UTC 2016\n+ echo runcmd started at Fri Sep 23 07:02:47 UTC 2016\nruncmd started at Fri Sep 23 07:02:47 UTC 2016\n\n```", "```\n$ grep \"started at\" /var/log/cloud-init-output.log\nbootcmd started at Fri Sep 23 07:04:31 UTC 2016\n\n```", "```\n$ curl -w \"\\n\" 'https://discovery.etcd.io/new'\nhttps://discovery.etcd.io/638d980c4edf94d6ddff8d6e862bc7d9\n```", "```\n#cloud-config\ncoreos:\n  etcd2:\n    discovery: \"https://discovery.etcd.io/638d980c4edf94d6ddff8d6e862bc7d9\"\n```", "```\n#cloud-config\ncoreos:\n  etcd2:\n    discovery: \"https://discovery.etcd.io/b8724b9a1456573f4d527452cba8ebdb\"\n    advertise-client-urls: \"http://$private_ipv4:2379\"\n    listen-client-urls: \"http://0.0.0.0:2379\"\n    initial-advertise-peer-urls: \"http://$private_ipv4:2380\"\n    listen-peer-urls: \"http://$private_ipv4:2380\"\n```", "```\n$ cat /run/systemd/system/etcd2.service.d/20-cloudinit.conf\n[Service]\nEnvironment=\"ETCD_ADVERTISE_CLIENT_URLS=http://172.31.15.59:2379\"\nEnvironment=\"ETCD_DISCOVERY=https://discovery.etcd.io/b8724b9a1456573f4d527452cba8ebdb\"\nEnvironment=\"ETCD_INITIAL_ADVERTISE_PEER_URLS=http://172.31.15.59:2380\"\nEnvironment=\"ETCD_LISTEN_CLIENT_URLS=http://0.0.0.0:2379\"\nEnvironment=\"ETCD_LISTEN_PEER_URLS=http://172.31.15.59:2380\"\n\n```", "```\n$ etcdctl cluster-health\nmember 7466dcc2053a98a4 is healthy: got healthy result from http://172.31.15.59:2379\nmember 8f9bd8a78e0cca38 is healthy: got healthy result from http://172.31.8.96:2379\nmember e0f77aacba6888fc is healthy: got healthy result from http://172.31.1.27:2379\ncluster is healthy\n\n```", "```\n$ etcdctl ls\n/coreos.com\n\n```", "```\ncoreos:\n  fleet:\n    public-ip: \"$public_ipv4\"\n    metadata: \"region=eu-west-1,provider=aws,cluster=mycluster\"\n```", "```\n$ cat /run/systemd/system/fleet.service.d/20-cloudinit.conf\n[Service]\nEnvironment=\"FLEET_METADATA=region=eu-west-1,provider=aws,cluster=mycluster\"\nEnvironment=\"FLEET_PUBLIC_IP=52.209.159.4\"\n```", "```\n$ fleetctl list-machines\nMACHINE         IP              METADATA\n441bf02a...     52.31.10.18     cluster=mycluster,provider=aws,region=eu-west-1\nb95a5262...     52.209.159.4    cluster=mycluster,provider=aws,region=eu-west-1\nd9fa1d18...     52.31.109.156   cluster=mycluster,provider=aws,region=eu-west-1\n```", "```\ncoreos:\n  update:\n    reboot-strategy: \"etcd-lock\"\n    group: \"stable\"\n```", "```\n$ cat /etc/coreos/update.conf\nGROUP=stable\nREBOOT_STRATEGY=etcd-lock\n```", "```\n$ sudo update_engine_client -update\n[0924/131749:INFO:update_engine_client.cc(243)] Initiating update check and install.\n[0924/131750:INFO:update_engine_client.cc(248)] Waiting for update to complete.\nCURRENT_OP=UPDATE_STATUS_UPDATE_AVAILABLE\n[...]\n```", "```\ncoreos:\n  locksmith:\n    window-start: Sat 04:00\n    window-length: 2h \n```", "```\n$ cat /run/systemd/system/locksmithd.service.d/20-cloudinit.conf\n[Service]\nEnvironment=\"REBOOT_WINDOW_START=04:00\"\nEnvironment=\"REBOOT_WINDOW_LENGTH=2h\"\n```", "```\n$ locksmithctl status\nAvailable: 1\nMax: 1\n```", "```\n  coreos: \nunits:\n    - name: etcd2.service\n      command: start\n    - name: fleet.service\n      command: start \n```", "```\ncoreos:\n  units:\n    - name: flanneld.service\n      drop-ins:\n        - name: 50-network-config.conf\n          content: |\n            [Service]\n            ExecStartPre=/usr/bin/etcdctl set /coreos.com/network/config '{ \"Network\": \"10.1.0.0/16\" }'\n```", "```\n$ cat /etc/systemd/system/flanneld.service.d/50-network-config.conf\n[Service]\nExecStartPre=/usr/bin/etcdctl set /coreos.com/network/config '{ \"Network\": \"10.1.0.0/16\" }'\n```", "```\n$ ifconfig flannel0\nflannel0: flags=4305<UP,POINTOPOINT,RUNNING,NOARP,MULTICAST>  mtu 8973\n        inet 10.1.19.0  netmask 255.255.0.0  destination 10.1.19.0\n[...]\n```", "```\n$ docker run -it --rm alpine ifconfig eth0\neth0      Link encap:Ethernet  HWaddr 02:42:0A:01:13:02\n          inet addr:10.1.19.2  Bcast:0.0.0.0  Mask:255.255.255.0\n[...]\n```", "```\n#cloud-config\nchef:\n  install_type: \"omnibus\"\n  force_install: true\n  omnibus_url: \"https://www.getchef.com/chef/install.sh\"\n```", "```\nGetting information for chef stable  for ubuntu...\ndownloading https://omnitruck-direct.chef.io/stable/chef/metadata?v=&p=ubuntu&pv=14.04&m=x86_64\n  to file /tmp/install.sh.1294/metadata.txt\n[...]\nversion 12.14.89\n[...]\nInstalling chef\n[...]\nUnpacking chef (12.14.89-1) ...\nSetting up chef (12.14.89-1) ...\nThank you for installing Chef!\n```", "```\n#cloud-config\nchef:\n  server_url: \"https://api.chef.io/organizations/iacbook\"\n  validation_name: \"iacbook\"\n  validation_cert: |\n    -----BEGIN RSA PRIVATE KEY-----\n    MIIEowIBAAKCAQEAuR[...]\n    -----END RSA PRIVATE KEY-----\n```", "```\n[...]\nStarting Chef Client, version 12.14.89\nCreating a new client identity for i-0913e870fb28af4bd using the validator key.\n[...]\n```", "```\n#cloud-config\nchef:\n  run_list:\n  - \"recipe[starter]\"\n```", "```\n[...]\nLoading cookbooks [starter@1.0.0]\nStoring updated cookbooks/starter/attributes/default.rb in the cache.\nStoring updated cookbooks/starter/recipes/default.rb in the cache.\nStoring updated cookbooks/starter/templates/default/sample.erb in the cache.\nStoring updated cookbooks/starter/files/default/sample.txt in the cache.\nStoring updated cookbooks/starter/metadata.rb in the cache.\nProcessing log[Welcome to Chef, Sam Doe!] action write (starter::default line 4)\nWelcome to Chef, Sam Doe!\nChef Run complete in 2.625856409 seconds\n```", "```\n#cloud-config\nhostname: \"docker\"\n```", "```\n$ hostname\ndocker\n$ cat /etc/hostname\ndocker\n```", "```\n#cloud-config\nusers:\n  - name: \"jane\"\n    gecos: \"Jane Docker\"\n    groups:\n      - \"docker\"\n    ssh-authorized-keys:\n      - \"ssh-rsa AAAAB[...] jane\"\n```", "```\njane@docker ~ $ docker ps\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n```", "```\njane@docker ~ $ cat .ssh/authorized_keys.d/coreos-cloudinit\nssh-rsa AAAAB [..] jane\n```", "```\n$ /usr/bin/timedatectl set-timezone America/New_York\n```", "```\ncoreos:\n  units:\n  - name: settimezone.service\n    command: start\n    content: |\n      [Unit]\n      Description=Setting the timezone\n\n      [Service]\n      ExecStart=/usr/bin/timedatectl set-timezone America/New_York\n      RemainAfterExit=yes\n      Type=oneshot\n```", "```\ncoreos:\n  units:\n  - name: docker-tcp.socket\n    command: start\n    enable: true\n    content: |\n      [Unit]\n      Description=Docker Socket for the API\n\n      [Socket]\n      ListenStream=2375\n      BindIPv6Only=both\n      Service=docker.service\n\n      [Install]\n      WantedBy=sockets.target\n```", "```\nuser@workstation $ docker -H 52.211.117.98 run -it --rm -p 80:80 nginx\nUnable to find image 'nginx:latest' locally\nlatest: Pulling from library/nginx\n6a5a5368e0c2: Pull complete\n4aceccff346f: Pull complete\nc8967f302193: Pull complete\nDigest: sha256:1ebfe348d131e9657872de9881fe736612b2e8e1630e0508c354acb0350a4566\nStatus: Downloaded newer image for nginx:latest  \n1.2.3.4 - - [25/Sep/2016:16:06:30 +0000] \"GET / HTTP/1.1\" 200 612 \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36\" \"-\"\n```", "```\nError response from daemon: client is newer than server (client API version: 1.24, server API version: 1.22)\n```", "```\n$ DOCKER_API_VERSION=1.22 docker -H 52.211.117.98 ps\n```"]