<html><head></head><body>
  <div id="_idContainer023">
   <h1 class="chapter-number" id="_idParaDest-15">
    <a id="_idTextAnchor014">
    </a>
    <span class="koboSpan" id="kobo.1.1">
     1
    </span>
   </h1>
   <h1 id="_idParaDest-16">
    <a id="_idTextAnchor015">
    </a>
    <span class="koboSpan" id="kobo.2.1">
     Revisiting OpenStack – Design Considerations
    </span>
   </h1>
   <p class="author-quote">
    <span class="koboSpan" id="kobo.3.1">
     “I have found you have got to look back at the old things and see them in a new light.”
    </span>
   </p>
   <p class="author-quote">
    <span class="koboSpan" id="kobo.4.1">
     - John Coltrane
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.5.1">
     Since the last edition of the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.6.1">
      Mastering OpenStack
     </span>
    </em>
    <span class="koboSpan" id="kobo.7.1">
     series, the OpenStack community has kept the momentum by growing and innovating around its ecosystem.
    </span>
    <span class="koboSpan" id="kobo.7.2">
     At the time of writing this edition, the OpenStack design has been going through different cycles of improvements by including new projects and providing seamless integration with existing systems to respond to organization demands and custom features.
    </span>
    <span class="koboSpan" id="kobo.7.3">
     Since the first
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.8.1">
      Austin
     </span>
    </em>
    <span class="koboSpan" id="kobo.9.1">
     release back in 2010, the innovation kept opening new opportunities for companies and quickly adopting a stable private cloud setup to stay ahead in the market.
    </span>
    <span class="koboSpan" id="kobo.9.2">
     The challenges of handling a scalable infrastructure have been felt by big and medium players who joined the OpenStack evolvement.
    </span>
    <span class="koboSpan" id="kobo.9.3">
     Today, as the first page of this edition is being written, 14 years and 28 releases have already passed through different OpenStack releases, from
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.10.1">
      Austin
     </span>
    </em>
    <span class="koboSpan" id="kobo.11.1">
     back in the day to the latest
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.12.1">
      Dalmatian
     </span>
    </em>
    <span class="koboSpan" id="kobo.13.1">
     release.
    </span>
    <span class="koboSpan" id="kobo.13.2">
     That is a full circle back to the beginning of the alphabet.
    </span>
    <span class="koboSpan" id="kobo.13.3">
     A lot of experiences and insights have been revealed that have boosted the OpenStack community and made it the world’s leading open source
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.14.1">
      cloud platform.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.15.1">
     Numbers show how successfully OpenStack has been adopted by mid to large enterprises.
    </span>
    <span class="koboSpan" id="kobo.15.2">
     As per the annual
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.16.1">
      OpenStack User Survey
     </span>
    </em>
    <span class="koboSpan" id="kobo.17.1">
     results in the OpenStack blog in November 2022, it was declared that more than 40 million cores are running in production across 300 deployments empowered
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.18.1">
      by OpenStack.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.19.1">
     The OpenInfra community has been committing enormously to hardening the most stable versions of OpenStack software.
    </span>
    <span class="koboSpan" id="kobo.19.2">
     Starting from the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.20.1">
      Antelope
     </span>
    </em>
    <span class="koboSpan" id="kobo.21.1">
     release that was launched in March 2023 and, more recently, the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.22.1">
      Dalmatian
     </span>
    </em>
    <span class="koboSpan" id="kobo.23.1">
     release in October 2024, organizations have quickly upgraded, and the good news is a more stable and reliable version than ever.
    </span>
    <span class="koboSpan" id="kobo.23.2">
     The secret sauce of this great achievement is that the community has switched gears on stabilizing basic OpenStack services, including compute, storage, and network services, increasing the cadence of release testing of each service extensively and thus leaving neither possible gaps nor potential vulnerabilities that could raise bugs in deployments in production.
    </span>
    <span class="koboSpan" id="kobo.23.3">
     On the other side of the story, by going through the map of each OpenStack release, you might notice some extension projects appearing and disappearing.
    </span>
    <span class="koboSpan" id="kobo.23.4">
     Community contributors did the right thing, discounting non-stable features that would hinder the maturity of the OpenStack private setup.
    </span>
    <span class="koboSpan" id="kobo.23.5">
     Today, the release is exposing basic services in addition to more projects and features in a stable upstream.
    </span>
    <span class="koboSpan" id="kobo.23.6">
     The other bright side of the story is that the OpenStack ecosystem has always been one step ahead to adopt new trends of market technologies that include containerization, serverless, big data analysis, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.24.1">
      so on.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.25.1">
     Today, either starting a new OpenStack adventure or turning a new page for a new update would bring great cost savings, flexibility in IT handling compared to old-school virtualization alternatives, and an efficient solution to hyperscale with
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.26.1">
      minimum concerns.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.27.1">
     OpenStack’s state-of-the-art documentation and resources can be found more abundantly than ever on the internet.
    </span>
    <span class="koboSpan" id="kobo.27.2">
     There are plenty of different options to design and deploy a complete OpenStack environment.
    </span>
    <span class="koboSpan" id="kobo.27.3">
     On the other hand, the paradox of choices between different ways of designing and running a full ecosystem can be challenging even for experienced administrators, architects, and developers.
    </span>
    <span class="koboSpan" id="kobo.27.4">
     That could be phrased differently as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.28.1">
      too much can be too little
     </span>
    </em>
    <span class="koboSpan" id="kobo.29.1">
     !
    </span>
    <span class="koboSpan" id="kobo.29.2">
     The adoption of OpenStack can be a struggle and has always been a challenge, from design phases to deployments and operational days.
    </span>
    <span class="koboSpan" id="kobo.29.3">
     As stated previously, you can think of many reasons for this, but mainly, being such a versatile software can make
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.30.1">
      it overwhelming!
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.31.1">
     Throughout this book, we will go through the updated pieces of the OpenStack ecosystem and divide and conquer together with a step-by-step approach to design, deploy, and operate a scalable OpenStack environment that would respond to your needs
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.32.1">
      and requirements.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.33.1">
     To address the challenges of the OpenStack ecosystem complexity and allow newcomers to enjoy this cloud journey, we will define a state vision for a private cloud adoption strategy throughout the first chapter.
    </span>
    <span class="koboSpan" id="kobo.33.2">
     Without a well-crafted basic knowledge of this ecosystem, it would be more difficult to make later decisions on empowering running clusters in production when production days start knocking on the door.
    </span>
    <span class="koboSpan" id="kobo.33.3">
     A very attractive citation from Robert Waterman, an expert on business management practices, is
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.34.1">
      “A strategy is necessary because the future
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.35.1">
       is unpredictable.”
      </span>
     </em>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.36.1">
     When it comes to a complex system such as the OpenStack ecosystem, setting up the right resources is required as we cannot predict with 100% accuracy.
    </span>
    <span class="koboSpan" id="kobo.36.2">
     OpenStack is designed with much more flexibility and a loosely coupled architecture.
    </span>
    <span class="koboSpan" id="kobo.36.3">
     This way, it is up to us to use those key elements to make capacity decisions considering short- and long-term goals for growth and availability and respond to new workloads based on existing resources that we aim to apply in the near and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.37.1">
      long term.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.38.1">
     Our OpenStack journey will continue in this edition by covering the following topics in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.39.1">
      this chapter:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.40.1">
      Revisiting and highlighting the latest updates of the OpenStack
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.41.1">
       core ecosystem
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.42.1">
      Demystifying the logical architecture based on the latest releases introduced from the
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.43.1">
        Antelope
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.44.1">
       release
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.45.1">
      Drafting a first physical design to ensure a seamless deployment in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.46.1">
       later stages
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.47.1">
      Preparing for a large-scale OpenStack environment through capacity planning as part of our
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.48.1">
       cloud strategy
      </span>
     </span>
    </li>
   </ul>
   <h1 id="_idParaDest-17">
    <a id="_idTextAnchor016">
    </a>
    <span class="koboSpan" id="kobo.49.1">
     OpenStack – a plethora of innovations
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.50.1">
     It might be confusing to understand the state of the art of innovation when it comes to OpenStack
    </span>
    <a id="_idIndexMarker000">
    </a>
    <span class="koboSpan" id="kobo.51.1">
     software offerings.
    </span>
    <span class="koboSpan" id="kobo.51.2">
     The rise of this open source project has been unique since its birth 14 years ago.
    </span>
    <span class="koboSpan" id="kobo.51.3">
     Through its different releases, the OpenStack community has kept developing what a private cloud solution can offer based on ongoing technology trends.
    </span>
    <span class="koboSpan" id="kobo.51.4">
     When the first releases of Kubernetes (container orchestration technology) were made public, subsequent OpenStack releases quickly dedicated a cycle to include services around the OpenStack ecosystem that would facilitate container management out of the box.
    </span>
    <span class="koboSpan" id="kobo.51.5">
     One of the OpenStack success stories is undoubtedly its vision of staying one step ahead.
    </span>
    <span class="koboSpan" id="kobo.51.6">
     There is a clear reason why OpenStack remains the fourth largest open source community worldwide: trust in its main core services.
    </span>
    <span class="koboSpan" id="kobo.51.7">
     Since the first days of OpenStack, mid and large enterprises have invested and keep contributing to its software to boost its major core services.
    </span>
    <span class="koboSpan" id="kobo.51.8">
     As we will see later, compute, network, identity, image, and storage services are counted as the most basic and core components of the OpenStack ecosystem.
    </span>
    <span class="koboSpan" id="kobo.51.9">
     Within each new release, more enhancements and extensive development have been done to bring a more alive version of each of them.
    </span>
    <span class="koboSpan" id="kobo.51.10">
     That brings more contributors to see services more alive, taking more workloads, addressing more demand, and unblocking enterprises to take advantage of a more agile and flexible infrastructure.
    </span>
    <span class="koboSpan" id="kobo.51.11">
     More big players have joined the cloud era from the early days, such as IBM, Red Hat, HP, Rackspace, eBay, and more, to name but a few.
    </span>
    <span class="koboSpan" id="kobo.51.12">
     Each of them associates different goals and projects from different expertise, such as bringing new features, plugins, bug fixing, and so on.
    </span>
    <span class="koboSpan" id="kobo.51.13">
     Some of those contributors have built their own dedicated private cloud platform based on OpenStack and keep contributing to the open source world, making it a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.52.1">
      win-win deal.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.53.1">
     Another key aspect of OpenStack novelty is the speed of extending its capabilities from a wider
    </span>
    <a id="_idIndexMarker001">
    </a>
    <span class="koboSpan" id="kobo.54.1">
     range of services similar to public major cloud
    </span>
    <a id="_idIndexMarker002">
    </a>
    <span class="koboSpan" id="kobo.55.1">
     providers such as
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.56.1">
      Amazon Web Services
     </span>
    </strong>
    <span class="koboSpan" id="kobo.57.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.58.1">
      AWS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.59.1">
     ),
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.60.1">
      Microsoft
     </span>
    </strong>
    <strong class="bold">
     <a id="_idIndexMarker003">
     </a>
    </strong>
    <strong class="bold">
     <span class="koboSpan" id="kobo.61.1">
      Azure
     </span>
    </strong>
    <span class="koboSpan" id="kobo.62.1">
     , and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.63.1">
      Google Cloud Platform
     </span>
    </strong>
    <span class="koboSpan" id="kobo.64.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.65.1">
      GCP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.66.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.66.2">
     Starting from traditional
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.67.1">
      Infrastructure as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.68.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.69.1">
      IaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.70.1">
     ), the OpenStack
    </span>
    <a id="_idIndexMarker004">
    </a>
    <span class="koboSpan" id="kobo.71.1">
     ecosystem has tailored the next levels by bringing
    </span>
    <a id="_idIndexMarker005">
    </a>
    <span class="koboSpan" id="kobo.72.1">
     managed services and offering
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.73.1">
      Platform as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.74.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.75.1">
      PaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.76.1">
     ) as well as
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.77.1">
      Software as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.78.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.79.1">
      SaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.80.1">
     ) models.
    </span>
    <span class="koboSpan" id="kobo.80.2">
     By skimming the surface of the speed of OpenStack growth, we might find out that the core services have reached a level of maturity that could unlock gazillions of doors of innovative features and solutions.
    </span>
    <span class="koboSpan" id="kobo.80.3">
     On top of those services, more PaaS environments can be offered, such as databases, big data, container services, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.81.1">
      so on.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.82.1">
     The other side of the success of the OpenStack growth is the nature of the software itself.
    </span>
    <span class="koboSpan" id="kobo.82.2">
     Written mostly in Python, since the first days of its development, the OpenStack software
    </span>
    <a id="_idIndexMarker006">
    </a>
    <span class="koboSpan" id="kobo.83.1">
     has been designed to offer a rich
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.84.1">
      application programming interface
     </span>
    </strong>
    <a id="_idTextAnchor017">
    </a>
    <span class="koboSpan" id="kobo.85.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.86.1">
      API
     </span>
    </strong>
    <span class="koboSpan" id="kobo.87.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.87.2">
     This was a game changer by enabling automation in almost everything and everywhere.
    </span>
    <span class="koboSpan" id="kobo.87.3">
     Hence, each contributor can use the domain of expertise and seamlessly integrate new features into the software ecosystem, thanks to the nature of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.88.1">
      API design.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.89.1">
     OpenStack’s APIs have been of considerable significance in adopting a hybrid cloud approach.
    </span>
    <span class="koboSpan" id="kobo.89.2">
     As
    </span>
    <a id="_idIndexMarker007">
    </a>
    <span class="koboSpan" id="kobo.90.1">
     we will see in
    </span>
    <a href="B21716_11.xhtml#_idTextAnchor230">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.91.1">
        Chapter 11
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.92.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.93.1">
      A Hybrid Cloud Hyperscale Use Case – Scaling a Kubernetes Workload
     </span>
    </em>
    <span class="koboSpan" id="kobo.94.1">
     , OpenStack offers the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.95.1">
      Elastic Compute Cloud
     </span>
    </strong>
    <span class="koboSpan" id="kobo.96.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.97.1">
      EC2
     </span>
    </strong>
    <span class="koboSpan" id="kobo.98.1">
     ) API, a compatible API to interact with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.99.1">
      AWS world.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.100.1">
     The innovation and continuous growth of the OpenStack ecosystem are without a doubt a success story thanks to the community’s consistency and, most importantly, the development of OpenStack naturally with the modular design.
    </span>
    <span class="koboSpan" id="kobo.100.2">
     Nowadays, it is possible to build an OpenStack private cloud for one or several purposes that can serve web applications
    </span>
    <a id="_idIndexMarker008">
    </a>
    <span class="koboSpan" id="kobo.101.1">
     for public hosting workloads, managed databases, big data, high-performance computing (HPC), or even several optimized containerized environments for rapid application development.
    </span>
    <span class="koboSpan" id="kobo.101.2">
     Most importantly, getting acquainted with core and latest service updates is the must-have key to unlocking the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.102.1">
      cloud journey.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-18">
    <a id="_idTextAnchor018">
    </a>
    <span class="koboSpan" id="kobo.103.1">
     Building blocks Of OpenStack – the control plane
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.104.1">
     The OpenStack project has been launched to solve the IaaS paradigm.
    </span>
    <span class="koboSpan" id="kobo.104.2">
     By adopting the pay-as-you-use model, underlying resources, including compute, networking, and storage, are exposed as pools and reserved on demand securely per the user’s request.
    </span>
    <span class="koboSpan" id="kobo.104.3">
     Throughout
    </span>
    <a id="_idIndexMarker009">
    </a>
    <span class="koboSpan" id="kobo.105.1">
     the development of the OpenStack ecosystem (considered in other literature as the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.106.1">
      cloud operating system
     </span>
    </em>
    <span class="koboSpan" id="kobo.107.1">
     ), more open source projects have joined the emerging cloud software life cycle to extend its capabilities.
    </span>
    <span class="koboSpan" id="kobo.107.2">
     As mentioned previously, the secret sauce of such project development comes from the natural API design, which consistently facilitates communication between services.
    </span>
    <span class="koboSpan" id="kobo.107.3">
     The versatile number of services could sidetrack newcomers in understanding where and how fundamental parts of the ecosystem work to enable a well-designed architecture for custom needs and requirements.
    </span>
    <span class="koboSpan" id="kobo.107.4">
     The following sections will iterate through what are considered the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.108.1">
      core services
     </span>
    </em>
    <span class="koboSpan" id="kobo.109.1">
     of OpenStack, to begin with.
    </span>
    <span class="koboSpan" id="kobo.109.2">
     It is essential to get acquainted with each of these services as each OpenStack release, coming with new projects or services, relies on them.
    </span>
    <span class="koboSpan" id="kobo.109.3">
     Being strategic in mastering core components and their capabilities will allow easier deployment of your future private cloud setup and, hence, extend its capabilities with less wasted time and effort.
    </span>
    <span class="koboSpan" id="kobo.109.4">
     The following table shows the core services that will be tackled in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.110.1">
      following sections:
     </span>
    </span>
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table001-1">
    <colgroup>
     <col/>
     <col/>
     <col/>
    </colgroup>
    <thead>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.111.1">
           Service
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.112.1">
           Code name
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.113.1">
           Description
          </span>
         </strong>
        </span>
       </p>
      </td>
     </tr>
    </thead>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.114.1">
          Compute
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.115.1">
          Nova
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.116.1">
         Manages the
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.117.1">
          virtual machine
         </span>
        </strong>
        <span class="koboSpan" id="kobo.118.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.119.1">
          VM
         </span>
        </strong>
        <span class="koboSpan" id="kobo.120.1">
         )
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.121.1">
          life cycle
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.122.1">
          Network
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.123.1">
          Neutron
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.124.1">
         Manages network environment
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.125.1">
          per project
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.126.1">
          Identity
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.127.1">
          Keystone
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.128.1">
         Provides authentication and authorization
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.129.1">
          information service
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.130.1">
          Block storage
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.131.1">
          Cinder
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.132.1">
         Manages the VM disks and snapshots
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.133.1">
          life cycle
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.134.1">
          Object Storage
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.135.1">
          Swift
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.136.1">
         Accessible REST API storage for object data types such as images and
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.137.1">
          media files
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.138.1">
          Image
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.139.1">
          Glance
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.140.1">
         Manages the VM image
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.141.1">
          life cycle
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.142.1">
          Dashboard
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.143.1">
          Horizon
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.144.1">
         OpenStack frontend
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.145.1">
          web interface
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.146.1">
          File sharing
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.147.1">
          Manila
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.148.1">
         Manages projects across
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.149.1">
          shared filesystems
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.150.1">
          Scheduling
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.151.1">
          Placement
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.152.1">
         Helps to track provider’s resource inventories
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.153.1">
          and usage
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.154.1">
          Telemetry
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.155.1">
          Ceilometer
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.156.1">
         Provides data collection service for resource tracking
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.157.1">
          and billing
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.158.1">
          Alarming
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.159.1">
          Aodh
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.160.1">
         Triggers actions and alarms based on collected metrics and
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.161.1">
          configured rules
         </span>
        </span>
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.162.1">
     Table 1.1 – OpenStack core services
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.163.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.164.1">
     It is still
    </span>
    <a id="_idIndexMarker010">
    </a>
    <span class="koboSpan" id="kobo.165.1">
     possible to deploy an OpenStack environment without object storage and a dashboard.
    </span>
    <span class="koboSpan" id="kobo.165.2">
     Some distributions come by default with both services enabled.
    </span>
    <span class="koboSpan" id="kobo.165.3">
     For example, spinning up a VM does not necessarily require
    </span>
    <a id="_idIndexMarker011">
    </a>
    <span class="koboSpan" id="kobo.166.1">
     object storage.
    </span>
    <span class="koboSpan" id="kobo.166.2">
     Additionally, the OpenStack
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.167.1">
      command-line interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.168.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.169.1">
      CLI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.170.1">
     ) supports all operations for each installation that can be directed without the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.171.1">
      OpenStack dashboard.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-19">
    <a id="_idTextAnchor019">
    </a>
    <span class="koboSpan" id="kobo.172.1">
     Keystone – the authentication and authorization service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.173.1">
     The keywords
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.174.1">
      authentication
     </span>
    </em>
    <span class="koboSpan" id="kobo.175.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.176.1">
      authorization
     </span>
    </em>
    <span class="koboSpan" id="kobo.177.1">
     are the main functions of this identity service.
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.178.1">
      Keystone
     </span>
    </strong>
    <span class="koboSpan" id="kobo.179.1">
     is part
    </span>
    <a id="_idIndexMarker012">
    </a>
    <span class="koboSpan" id="kobo.180.1">
     of the control plane of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.181.1">
      OpenStack ecosystem.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.182.1">
     Security has been brought over from the earliest releases, and it became a necessity to dive further
    </span>
    <a id="_idIndexMarker013">
    </a>
    <span class="koboSpan" id="kobo.183.1">
     into the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.184.1">
      AAA
     </span>
    </strong>
    <span class="koboSpan" id="kobo.185.1">
     (short for
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.186.1">
      Authentication, Authorization, Accounting
     </span>
    </strong>
    <span class="koboSpan" id="kobo.187.1">
     ) service in OpenStack.
    </span>
    <span class="koboSpan" id="kobo.187.2">
     Each request made to contact an OpenStack service must be validated by Keystone (via the identity API).
    </span>
    <span class="koboSpan" id="kobo.187.3">
     The API response will return an authentication token to be used against the requested service (
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.188.1">
      API call).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.189.1">
     At this
    </span>
    <a id="_idIndexMarker014">
    </a>
    <span class="koboSpan" id="kobo.190.1">
     stage, the Keystone workflow might seem simpler than we thought.
    </span>
    <span class="koboSpan" id="kobo.190.2">
     On the other hand, when we scale hundreds of hosts to fulfill thousands of requests in a short time, we should consider how to make sure that Keystone, as a critical service, is fully operational.
    </span>
    <span class="koboSpan" id="kobo.190.3">
     That will be discussed in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.191.1">
      later chapters.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.192.1">
     What has been brought from old OpenStack releases to the latest stable ones within the identity service is mainly the version of the API.
    </span>
    <span class="koboSpan" id="kobo.192.2">
     Formerly, when installing the identity service, it was possible to keep running with version 2; starting from the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.193.1">
      Grizzly
     </span>
    </em>
    <span class="koboSpan" id="kobo.194.1">
     release, version 3 has been launched and can be installed.
    </span>
    <span class="koboSpan" id="kobo.194.2">
     Today, the identity API version 2 has been deprecated in favor of newer releases.
    </span>
    <span class="koboSpan" id="kobo.194.3">
     We will consider version 3 and above (at the writing of this book, version 3.14 is the latest within the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.195.1">
      Ussuri
     </span>
    </em>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.196.1">
      OpenStack release).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.197.1">
     But what can an identity API offer?
    </span>
    <span class="koboSpan" id="kobo.197.2">
     As mentioned previously, the design of all communications between OpenStack services is made via APIs (later, we will skim the surface for interaction even with non-OpenStack services via APIs).
    </span>
    <span class="koboSpan" id="kobo.197.3">
     Consider that a failed simple authentication request might reflect a service failure from the end user’s perspective.
    </span>
    <span class="koboSpan" id="kobo.197.4">
     A good practice is to make sure, on the first iteration, that there are no issues with Keystone requests when troubleshooting a failing service request.
    </span>
    <span class="koboSpan" id="kobo.197.5">
     Although the previous editions of this book did not dive deep into the Keystone workflow, we will revisit it in more detail in
    </span>
    <a href="B21716_03.xhtml#_idTextAnchor108">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.198.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.199.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.200.1">
      OpenStack Control Plane –
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.201.1">
       Shared Servi
      </span>
      <a id="_idTextAnchor020">
      </a>
      <span class="koboSpan" id="kobo.202.1">
       ces
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.203.1">
      .
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-20">
    <a id="_idTextAnchor021">
    </a>
    <span class="koboSpan" id="kobo.204.1">
     Nova – the compute service
    </span>
   </h2>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.205.1">
      Austin
     </span>
    </em>
    <span class="koboSpan" id="kobo.206.1">
     , the first
    </span>
    <a id="_idIndexMarker015">
    </a>
    <span class="koboSpan" id="kobo.207.1">
     OpenStack release, brought the first version
    </span>
    <a id="_idIndexMarker016">
    </a>
    <span class="koboSpan" id="kobo.208.1">
     of the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.209.1">
      Nova
     </span>
    </strong>
    <span class="koboSpan" id="kobo.210.1">
     project to spin up an instance and started dealing with compute management through a rich API.
    </span>
    <span class="koboSpan" id="kobo.210.2">
     Unlike the aforementioned identity service, Nova has evolved through different releases to accommodate more amazing functions but at the cost of its complexity compared to other core services.
    </span>
    <span class="koboSpan" id="kobo.210.3">
     The Nova service design has not changed a lot from the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.211.1">
      Grizzly
     </span>
    </em>
    <span class="koboSpan" id="kobo.212.1">
     release.
    </span>
    <span class="koboSpan" id="kobo.212.2">
     On the other hand, it is still required to reiterate through the different Nova pieces that form the compute service engine in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.213.1">
      OpenStack ecosystem.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.214.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.215.1">
     There are plenty of capabilities brought by Nova in the latest OpenStack releases, which will be detailed in
    </span>
    <a href="B21716_04.xhtml#_idTextAnchor125">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.216.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.217.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.218.1">
      OpenStack Compute – Compute Capacity
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.219.1">
       and Flavors
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.220.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.221.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.222.1">
      nova-api
     </span>
    </strong>
    <span class="koboSpan" id="kobo.223.1">
     service interacts with user API calls that manage compute instances.
    </span>
    <span class="koboSpan" id="kobo.223.2">
     It communicates
    </span>
    <a id="_idIndexMarker017">
    </a>
    <span class="koboSpan" id="kobo.224.1">
     with other components of the compute service over a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.225.1">
      message bus.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.226.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.227.1">
      nova-scheduler
     </span>
    </strong>
    <span class="koboSpan" id="kobo.228.1">
     service listens to the new instance request on the message bus.
    </span>
    <span class="koboSpan" id="kobo.228.2">
     The job
    </span>
    <a id="_idIndexMarker018">
    </a>
    <span class="koboSpan" id="kobo.229.1">
     of this service is to select the best compute node for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.230.1">
      new instance.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.231.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.232.1">
      nova-compute
     </span>
    </strong>
    <span class="koboSpan" id="kobo.233.1">
     service is the process responsible for starting and terminating VMs.
    </span>
    <span class="koboSpan" id="kobo.233.2">
     This service runs on the compute nodes and listens for new requests over the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.234.1">
      message bus.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.235.1">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.236.1">
      nova-conductor
     </span>
    </strong>
    <span class="koboSpan" id="kobo.237.1">
     service handles database access calls from the compute nodes to limit the risk of database access by an attacker via a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.238.1">
      compromis
     </span>
     <a id="_idTextAnchor022">
     </a>
     <a id="_idTextAnchor023">
     </a>
     <a id="_idTextAnchor024">
     </a>
     <a id="_idTextAnchor025">
     </a>
     <a id="_idTextAnchor026">
     </a>
     <span class="koboSpan" id="kobo.239.1">
      ed host.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-21">
    <a id="_idTextAnchor027">
    </a>
    <span class="koboSpan" id="kobo.240.1">
     Placement – the scheduling service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.241.1">
     Whenever it comes to a new system improvement or logical addition, the OpenStack community
    </span>
    <a id="_idIndexMarker019">
    </a>
    <span class="koboSpan" id="kobo.242.1">
     will create, move, or place different services or components to make that happen.
    </span>
    <span class="koboSpan" id="kobo.242.2">
     One of the major updates of the OpenStack
    </span>
    <a id="_idIndexMarker020">
    </a>
    <span class="koboSpan" id="kobo.243.1">
     ecosystem since the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.244.1">
      Newton
     </span>
    </em>
    <span class="koboSpan" id="kobo.245.1">
     release is the introduction of the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.246.1">
      Placement
     </span>
    </strong>
    <span class="koboSpan" id="kobo.247.1">
     API service.
    </span>
    <span class="koboSpan" id="kobo.247.2">
     Before the latter release, users struggled to identify the counter on different sets of resource providers, such as computation, networking, and storage allocated pools.
    </span>
    <span class="koboSpan" id="kobo.247.3">
     That is where it is useful to dedicate a separate service, hence an API well connected with other services (such as Nova), to track those resource providers and keep an eye on their usage.
    </span>
    <span class="koboSpan" id="kobo.247.4">
     The Placement service acts mainly as a resource inventory.
    </span>
    <span class="koboSpan" id="kobo.247.5">
     Not only that, but the most pertinent addition has also made the process of filtering (via
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.248.1">
      nova-scheduler
     </span>
    </strong>
    <span class="koboSpan" id="kobo.249.1">
     ) more fine-grained.
    </span>
    <span class="koboSpan" id="kobo.249.2">
     In some other glossaries, you might find the word
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.250.1">
      prefiltering
     </span>
    </em>
    <span class="koboSpan" id="kobo.251.1">
     as a reference for the new Placement service.
    </span>
    <span class="koboSpan" id="kobo.251.2">
     This
    </span>
    <a id="_idIndexMarker021">
    </a>
    <span class="koboSpan" id="kobo.252.1">
     step is the preparation of available
    </span>
    <a id="_idIndexMarker022">
    </a>
    <span class="koboSpan" id="kobo.253.1">
     compute nodes by starting a filtering process before dealing with the scheduler based on some configurable specs and traits.
    </span>
    <span class="koboSpan" id="kobo.253.2">
     The Placement service will be demonstrated in
    </span>
    <a href="B21716_04.xhtml#_idTextAnchor125">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.254.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.255.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.256.1">
      OpenStack Compute – Compute Capacity
     </span>
     <a id="_idTextAnchor028">
     </a>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.257.1">
       and Flavors
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.258.1">
      .
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-22">
    <a id="_idTextAnchor029">
    </a>
    <span class="koboSpan" id="kobo.259.1">
     Glance – the imaging service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.260.1">
     To launch an instance in OpenStack via the Nova service, an instance image will be required to
    </span>
    <a id="_idIndexMarker023">
    </a>
    <span class="koboSpan" id="kobo.261.1">
     successfully accomplish VM provisioning.
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.262.1">
      Glance
     </span>
    </strong>
    <span class="koboSpan" id="kobo.263.1">
     is one of the core services that deals not only with instance images (as a template source image) but also
    </span>
    <a id="_idIndexMarker024">
    </a>
    <span class="koboSpan" id="kobo.264.1">
     the snapshots that can be created from an instance.
    </span>
    <span class="koboSpan" id="kobo.264.2">
     When it comes to the question of where Glance will store images and snapshots, the answer can be found in its latest supported driver configurations.
    </span>
    <span class="koboSpan" id="kobo.264.3">
     As with many other OpenStack services, a number of storage options can be used to back the storage of images by Glance.
    </span>
    <span class="koboSpan" id="kobo.264.4">
     Again, if we think about the OpenStack infrastructure extension in the short and long term, we must think about which backend storage Glance should use.
    </span>
    <span class="koboSpan" id="kobo.264.5">
     The OpenStack community has developed the most commonly used storage backend
    </span>
    <a id="_idIndexMarker025">
    </a>
    <span class="koboSpan" id="kobo.265.1">
     either within proper OpenStack-supported storage services such as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.266.1">
      Swift Object Storage
     </span>
    </em>
    <span class="koboSpan" id="kobo.267.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.268.1">
      Cinder Block Storage
     </span>
    </em>
    <span class="koboSpan" id="kobo.269.1">
     or a third-party extension such as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.270.1">
      Ceph
     </span>
    </em>
    <span class="koboSpan" id="kobo.271.1">
     storage based on
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.272.1">
      RADOS Block Device
     </span>
    </strong>
    <span class="koboSpan" id="kobo.273.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.274.1">
      RBD
     </span>
    </strong>
    <span class="koboSpan" id="kobo.275.1">
     ), VMware
    </span>
    <a id="_idIndexMarker026">
    </a>
    <span class="koboSpan" id="kobo.276.1">
     storage, and even AWS
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.277.1">
      Simple Storage Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.278.1">
     (
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.279.1">
       S3
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.280.1">
      ) storage.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.281.1">
     This variety of backend storage options might increase the paradox of architectural choices, but it raises the question of which needs we would address from business and capacity perspectives.
    </span>
    <span class="koboSpan" id="kobo.281.2">
     As an example, Glance configuration enables multiple storage backends in the same configuration layout that can be customized to instruct the imaging service to use an existing block storage pool to attach images directly and reduce the time of waiting to download from scratch.
    </span>
    <span class="koboSpan" id="kobo.281.3">
     A massive Ceph infrastructure with dozens of object storage nodes can be leveraged if they are operational by dedicating a Ceph pool for production images, making use of existing resources granted by the stable driver integration between Glance and the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.282.1">
      Ceph backend.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.283.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.284.1">
     It is important to understand your requirements before selecting any type of backend, as not all backends will support the same features.
    </span>
    <span class="koboSpan" id="kobo.284.2">
     For example, within the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.285.1">
      Antelope
     </span>
    </em>
    <span class="koboSpan" id="kobo.286.1">
     release, the OpenStack Glance team included a new feature in the block storage backend –
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.287.1">
      Cinder
     </span>
    </em>
    <span class="koboSpan" id="kobo.288.1">
     – by allowing the extension on the running attached volumes.
    </span>
    <span class="koboSpan" id="kobo.288.2">
     The Ceph storage extension will be discussed in more detail in
    </span>
    <a href="B21716_05.xhtml#_idTextAnchor146">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.289.1">
        Chapter 5
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.290.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.291.1">
      OpenStack Storage – Block, Object, and
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.292.1">
       File Shares
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.293.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.294.1">
     Conversely, more
    </span>
    <a id="_idIndexMarker027">
    </a>
    <span class="koboSpan" id="kobo.295.1">
     interesting use cases would leverage
    </span>
    <a id="_idIndexMarker028">
    </a>
    <span class="koboSpan" id="kobo.296.1">
     Swift as a storage backend for Glance snapshots and templates.
    </span>
    <span class="koboSpan" id="kobo.296.2">
     That can be considered a safe internal backup scenario.
    </span>
    <span class="koboSpan" id="kobo.296.3">
     Going further, increasing your
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.297.1">
      fault tolerance
     </span>
    </strong>
    <span class="koboSpan" id="kobo.298.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.299.1">
      FT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.300.1">
     ) domain can
    </span>
    <a id="_idIndexMarker029">
    </a>
    <span class="koboSpan" id="kobo.301.1">
     cross public cloud services such as the AWS
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.302.1">
      S3 backend.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.303.1">
     One of the most impressive progressions in the Glance service is the wider list of supported images.
    </span>
    <span class="koboSpan" id="kobo.303.2">
     The
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.304.1">
      Antelope
     </span>
    </em>
    <span class="koboSpan" id="kobo.305.1">
     release came with at least 11 supported formats, including RAW, QCOW2, VDI, VHD, ISO, OVA, PLOOP, and Docker, and great additional formats dealing with Amazon public cloud compatibility are AKI, AMI,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.306.1">
      and ARI:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer016">
     <span class="koboSpan" id="kobo.307.1">
      <img alt="Figure 1.1 – Glance supported backends" src="image/B21716_01_01.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.308.1">
     Figure 1.1 – Glance supported backends
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.309.1">
     Swift has been one of the most preferred options to store Glance images in large deployments, which will be highlighted in
    </span>
    <a id="_idTextAnchor030">
    </a>
    <span class="koboSpan" id="kobo.310.1">
     the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.311.1">
      next section.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-23">
    <a id="_idTextAnchor031">
    </a>
    <span class="koboSpan" id="kobo.312.1">
     Swift – the object storage service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.313.1">
     Together with Nova,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.314.1">
      Swift
     </span>
    </strong>
    <span class="koboSpan" id="kobo.315.1">
     came with
    </span>
    <a id="_idIndexMarker030">
    </a>
    <span class="koboSpan" id="kobo.316.1">
     the first-ever OpenStack release,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.317.1">
      Austin
     </span>
    </em>
    <span class="koboSpan" id="kobo.318.1">
     , back in 2010.
    </span>
    <span class="koboSpan" id="kobo.318.2">
     Object storage has added great value to enterprises that resolve several
    </span>
    <a id="_idIndexMarker031">
    </a>
    <span class="koboSpan" id="kobo.319.1">
     storage challenges, unlike the traditional persistent storage design.
    </span>
    <span class="koboSpan" id="kobo.319.2">
     Swift itself has been a revolutionary service at a time when cloud technologies just started to warm up.
    </span>
    <span class="koboSpan" id="kobo.319.3">
     As per the nature of the object storage model, objects are stored in a flat hierarchy.
    </span>
    <span class="koboSpan" id="kobo.319.4">
     Most of the main usage of Swift in a given OpenStack deployment is to perform archiving and backups.
    </span>
    <span class="koboSpan" id="kobo.319.5">
     Many services around the OpenStack ecosystem that deal with storage are compatible with the Swift storage backend either for direct storage, backup purposes, or
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.320.1">
      even both.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.321.1">
     As we will unleash a few of the latest additions on the Swift service in
    </span>
    <a href="B21716_05.xhtml#_idTextAnchor146">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.322.1">
        Chapter 5
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.323.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.324.1">
      OpenStack Storage – Block, Object, and File Shares
     </span>
    </em>
    <span class="koboSpan" id="kobo.325.1">
     , a brief revisit of object storage common specs are listed
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.326.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.327.1">
      Developed
     </span>
     <a id="_idIndexMarker032">
     </a>
     <span class="koboSpan" id="kobo.328.1">
      with no
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.329.1">
       single point of failure
      </span>
     </strong>
     <span class="koboSpan" id="kobo.330.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.331.1">
       SPOF
      </span>
     </strong>
     <span class="koboSpan" id="kobo.332.1">
      )
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.333.1">
       by design
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.334.1">
      Exposes the HTTP REST API for common
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.335.1">
       object management
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.336.1">
      Highly scalable and a good fit for workloads demanding
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.337.1">
       boosted performance
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.338.1">
      Designed for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.339.1">
       eventual consistency
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.340.1">
      Highly available by design and can scale easily horizontally through
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.341.1">
       inexpensive hardware
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.342.1">
     Now, let’s look at the next storage optio
    </span>
    <a id="_idTextAnchor032">
    </a>
    <span class="koboSpan" id="kobo.343.1">
     n: the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.344.1">
      Cinder service.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-24">
    <a id="_idTextAnchor033">
    </a>
    <span class="koboSpan" id="kobo.345.1">
     Cinder – the block storage service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.346.1">
     The other
    </span>
    <a id="_idIndexMarker033">
    </a>
    <span class="koboSpan" id="kobo.347.1">
     storage offering in the OpenStack ecosystem and counted as a core service is the block
    </span>
    <a id="_idIndexMarker034">
    </a>
    <span class="koboSpan" id="kobo.348.1">
     storage service named
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.349.1">
      Cinder
     </span>
    </strong>
    <span class="koboSpan" id="kobo.350.1">
     .
    </span>
    <span class="koboSpan" id="kobo.350.2">
     Cinder has been developed to maintain independent life cycle operations of instance volumes (as virtual disks).
    </span>
    <span class="koboSpan" id="kobo.350.3">
     The Cinder API provides an exhaustive list of different volume and snapshot operations, including create, delete, attach, detach, extend, clone, create images from volumes, create volumes from images, and create volumes from snapshots.
    </span>
    <span class="koboSpan" id="kobo.350.4">
     With recent OpenStack releases, more operational capabilities have been developed to support backups, restoration
    </span>
    <a id="_idTextAnchor034">
    </a>
    <span class="koboSpan" id="kobo.351.1">
     , and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.352.1">
      volume migration.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-25">
    <a id="_idTextAnchor035">
    </a>
    <span class="koboSpan" id="kobo.353.1">
     Manila – the shared filesystems service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.354.1">
     File-sharing solutions have been an emerging storage option for enterprises.
    </span>
    <span class="koboSpan" id="kobo.354.2">
     The need to have
    </span>
    <a id="_idIndexMarker035">
    </a>
    <span class="koboSpan" id="kobo.355.1">
     a collaborative central storage brain for access
    </span>
    <a id="_idIndexMarker036">
    </a>
    <span class="koboSpan" id="kobo.356.1">
     facility and simplicity of management has grown in the latest decade in IT infrastructure either on-premises or in cloud environments.
    </span>
    <span class="koboSpan" id="kobo.356.2">
     The OpenStack community
    </span>
    <a id="_idIndexMarker037">
    </a>
    <span class="koboSpan" id="kobo.357.1">
     did not miss the opportunity since the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.358.1">
      Liberty
     </span>
    </em>
    <span class="koboSpan" id="kobo.359.1">
     release, introducing the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.360.1">
      Manila Distributed and Shared File Systems
     </span>
    </strong>
    <span class="koboSpan" id="kobo.361.1">
     solution.
    </span>
    <span class="koboSpan" id="kobo.361.2">
     Coming from the same logical workflow as Cinder, Manila has not been included as a core OpenStack project due to its limited capabilities.
    </span>
    <span class="koboSpan" id="kobo.361.3">
     As per the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.362.1">
      Kilo
     </span>
    </em>
    <span class="koboSpan" id="kobo.363.1">
     release until
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.364.1">
      the latest releases
     </span>
    </em>
    <span class="koboSpan" id="kobo.365.1">
     , Manila had proven itself as a stable component within the OpenStack infrastructure, allowing enterprises to gain access to self-service file-sharing for different hungry resources
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.366.1">
      and clients.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.367.1">
     Once again, several storage vendors have kept the momentum of contributing to the Manila service by developing more drivers to support their storage backend hardware.
    </span>
    <span class="koboSpan" id="kobo.367.2">
     Following the same steps as Cinder, we might find an exhaustive list of supported file share drivers by Manila, including CephFS, LVM, Hadoop HDFS, EMC, IBM, and many others.
    </span>
    <span class="koboSpan" id="kobo.367.3">
     A full list of supported drivers can be found on the Manila
    </span>
    <a id="_idIndexMarker038">
    </a>
    <span class="koboSpan" id="kobo.368.1">
     OpenStack web page:
    </span>
    <a href="https://docs.openstack.org/manila/latest/configuration/shared-file-systems/drivers.html">
     <span class="koboSpan" id="kobo.369.1">
      https://docs.openstack.org/manila/latest/configuration/shared-file-systems/drivers.html
     </span>
    </a>
    <span class="koboSpan" id="kobo.370.1">
     .
    </span>
    <span class="koboSpan" id="kobo.370.2">
     More interesting updates have been included in the latest releases for the Manila service, including security, backup share integration, and increased level of accessibility, which will be discussed more in
    </span>
    <a href="B21716_05.xhtml#_idTextAnchor146">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.371.1">
        Chapter 5
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.372.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.373.1">
      OpenStack Storage – Block
     </span>
     <a id="_idTextAnchor036">
     </a>
     <span class="koboSpan" id="kobo.374.1">
      , Object, and
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.375.1">
       File Shares
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.376.1">
      .
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-26">
    <a id="_idTextAnchor037">
    </a>
    <span class="koboSpan" id="kobo.377.1">
     Neutron – the networking service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.378.1">
     The previous
    </span>
    <a id="_idIndexMarker039">
    </a>
    <span class="koboSpan" id="kobo.379.1">
     citation might be arguable if we consider
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.380.1">
      nova-network
     </span>
    </strong>
    <span class="koboSpan" id="kobo.381.1">
     still being used!
    </span>
    <span class="koboSpan" id="kobo.381.2">
     On the other hand, since the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.382.1">
      Grizzly
     </span>
    </em>
    <span class="koboSpan" id="kobo.383.1">
     release, the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.384.1">
      Neutron
     </span>
    </strong>
    <span class="koboSpan" id="kobo.385.1">
     project
    </span>
    <a id="_idIndexMarker040">
    </a>
    <span class="koboSpan" id="kobo.386.1">
     has become a more
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.387.1">
      Networking as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.388.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.389.1">
      NaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.390.1">
     ) pillar in
    </span>
    <a id="_idIndexMarker041">
    </a>
    <span class="koboSpan" id="kobo.391.1">
     the OpenStack ecosystem.
    </span>
    <span class="koboSpan" id="kobo.391.2">
     That makes sense due to the approach taken by the community to provide an independent networking service and not embedded, as is the case with the Nova compute service.
    </span>
    <span class="koboSpan" id="kobo.391.3">
     The transition from legacy
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.392.1">
      nova-network
     </span>
    </strong>
    <span class="koboSpan" id="kobo.393.1">
     to Neutron has been tougher for companies willing to migrate from the old days to the new network era led by Neutron.
    </span>
    <span class="koboSpan" id="kobo.393.2">
     Although we will keep the light on Neutron in the next parts of the book, a section will be dedicated in
    </span>
    <a href="B21716_06.xhtml#_idTextAnchor159">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.394.1">
        Chapter 6
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.395.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.396.1">
      OpenStack Networking – Connectivity and Managed Service Options
     </span>
    </em>
    <span class="koboSpan" id="kobo.397.1">
     , to discuss the more advanced features
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.398.1">
      of Neutron.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.399.1">
     The motivation
    </span>
    <a id="_idIndexMarker042">
    </a>
    <span class="koboSpan" id="kobo.400.1">
     to adopt Neutron is fairly obvious
    </span>
    <a id="_idIndexMarker043">
    </a>
    <span class="koboSpan" id="kobo.401.1">
     considering the rise of this project to solve many
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.402.1">
      nova-network
     </span>
    </strong>
    <span class="koboSpan" id="kobo.403.1">
     limitations and open new networking capabilities.
    </span>
    <span class="koboSpan" id="kobo.403.2">
     Compared to
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.404.1">
      nova-network
     </span>
    </strong>
    <span class="koboSpan" id="kobo.405.1">
     , which provides basic networking in the OpenStack ecosystem (mainly limited to interaction with the compute service), Neutron brings several aspects and features that can summarized
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.406.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.407.1">
      Simplified
     </span>
     <a id="_idIndexMarker044">
     </a>
     <span class="koboSpan" id="kobo.408.1">
      self-service for projects to provision ports, subnets, networks, and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.409.1">
       router objects
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.410.1">
      Advanced
     </span>
     <a id="_idIndexMarker045">
     </a>
     <span class="koboSpan" id="kobo.411.1">
      networking features can be deployed in no time, such as firewalls,
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.412.1">
       virtual private networks
      </span>
     </strong>
     <span class="koboSpan" id="kobo.413.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.414.1">
       VPNs
      </span>
     </strong>
     <span class="koboSpan" id="kobo.415.1">
      ), and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.416.1">
       load balancers
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.417.1">
      More support for complex
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.418.1">
       network topologies
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.419.1">
      Vast ways of third-party network
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.420.1">
       solution integration
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.421.1">
      A standalone
     </span>
     <a id="_idIndexMarker046">
     </a>
     <span class="koboSpan" id="kobo.422.1">
      service making architecture less complex to support
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.423.1">
       high
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.424.1">
        availability
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.425.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.426.1">
        HA
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.427.1">
       )
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.428.1">
      Effective service for all sizes
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.429.1">
       of deployments
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.430.1">
     With the
    </span>
    <a id="_idIndexMarker047">
    </a>
    <span class="koboSpan" id="kobo.431.1">
     emergence of hardware and software based on
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.432.1">
      software-defined networking
     </span>
    </strong>
    <span class="koboSpan" id="kobo.433.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.434.1">
      SDN
     </span>
    </strong>
    <span class="koboSpan" id="kobo.435.1">
     ) solutions, the OpenStack Neutron team has taken the lead to engage more support on the SDN part, resulting in the development of Neutron drivers to integrate some SDN famous implementations such as OpenContrail and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.436.1">
      VMware NSX.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.437.1">
     Since 2013, within each OpenStack release, the Neutron project has been considered one of the services with the most number of commits and feature development.
    </span>
    <a href="B21716_06.xhtml#_idTextAnchor159">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.438.1">
        Chapter 6
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.439.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.440.1">
      OpenStack Networking – Connectivity and Managed Service Options
     </span>
    </em>
    <span class="koboSpan" id="kobo.441.1">
     , will iterate in depth about more Neutron capabilities and connect the pieces with SDNs within th
    </span>
    <a id="_idTextAnchor038">
    </a>
    <a id="_idTextAnchor039">
    </a>
    <span class="koboSpan" id="kobo.442.1">
     e
    </span>
    <a id="_idTextAnchor040">
    </a>
    <span class="koboSpan" id="kobo.443.1">
     latest
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.444.1">
      OpenStack releases.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-27">
    <a id="_idTextAnchor041">
    </a>
    <span class="koboSpan" id="kobo.445.1">
     Ceilometer – the telemetry service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.446.1">
     The telemetry
    </span>
    <a id="_idIndexMarker048">
    </a>
    <span class="koboSpan" id="kobo.447.1">
     service was introduced in the OpenStack ecosystem in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.448.1">
      Havana
     </span>
    </em>
    <span class="koboSpan" id="kobo.449.1">
     release.
    </span>
    <span class="koboSpan" id="kobo.449.2">
     Code-named
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.450.1">
      Ceilometer
     </span>
    </strong>
    <span class="koboSpan" id="kobo.451.1">
     , the telemetry service has emerged with a pertinent mission: record, gather, and monitor resource utilization
    </span>
    <a id="_idIndexMarker049">
    </a>
    <span class="koboSpan" id="kobo.452.1">
     metrics across the OpenStack infrastructure.
    </span>
    <span class="koboSpan" id="kobo.452.2">
     Unlike older OpenStack releases, the latest Ceilometer versions include only metric collection features, leaving alarming and notification functions to anoth
    </span>
    <a id="_idTextAnchor042">
    </a>
    <span class="koboSpan" id="kobo.453.1">
     er dedicated project
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.454.1">
      code-named Aodh.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-28">
    <a id="_idTextAnchor043">
    </a>
    <span class="koboSpan" id="kobo.455.1">
     Aodh – the alerting service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.456.1">
     As part of the monitoring services chain, enabling users to trigger custom notifications based on
    </span>
    <a id="_idIndexMarker050">
    </a>
    <span class="koboSpan" id="kobo.457.1">
     telemetry events has become a required addition
    </span>
    <a id="_idIndexMarker051">
    </a>
    <span class="koboSpan" id="kobo.458.1">
     to keeping an eye on deployed project resources.
    </span>
    <span class="koboSpan" id="kobo.458.2">
     As mentioned in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.459.1">
      Ceilometer – the telemetry service
     </span>
    </em>
    <span class="koboSpan" id="kobo.460.1">
     section, the alarming feature has been separated from Ceilometer, and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.461.1">
      Aodh
     </span>
    </strong>
    <span class="koboSpan" id="kobo.462.1">
     is dedicated to firing alarms based on configured rules and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.463.1">
      set thresholds.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.464.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.465.1">
     Ceilometer is designed to send collected metric data to other destinations, including a non-OpenStack open source project named
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.466.1">
      Gnocchi
     </span>
    </em>
    <span class="koboSpan" id="kobo.467.1">
     .
    </span>
    <span class="koboSpan" id="kobo.467.2">
     The Gnocchi project formulated the
    </span>
    <a id="_idIndexMarker052">
    </a>
    <span class="koboSpan" id="kobo.468.1">
     time-series
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.469.1">
      Database as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.470.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.471.1">
      DBaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.472.1">
     ) term.
    </span>
    <span class="koboSpan" id="kobo.472.2">
     In this case, a dedicated database interface is no lo
    </span>
    <a id="_idTextAnchor044">
    </a>
    <span class="koboSpan" id="kobo.473.1">
     nger required to store and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.474.1">
      query metrics.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-29">
    <a id="_idTextAnchor045">
    </a>
    <span class="koboSpan" id="kobo.475.1">
     Horizon – the dashboard service
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.476.1">
     Having a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.477.1">
      graphical user interface
     </span>
    </strong>
    <span class="koboSpan" id="kobo.478.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.479.1">
      GUI
     </span>
    </strong>
    <span class="koboSpan" id="kobo.480.1">
     ) to operate your OpenStack environment would
    </span>
    <a id="_idIndexMarker053">
    </a>
    <span class="koboSpan" id="kobo.481.1">
     definitely make your administrative tasks much simpler.
    </span>
    <span class="koboSpan" id="kobo.481.2">
     Surprisingly, the OpenStack first releases did not bring a GUI initiative to fire a few
    </span>
    <a id="_idIndexMarker054">
    </a>
    <span class="koboSpan" id="kobo.482.1">
     clicks from a dashboard to assist in managing the infrastructure
    </span>
    <a id="_idIndexMarker055">
    </a>
    <span class="koboSpan" id="kobo.483.1">
     resources.
    </span>
    <span class="koboSpan" id="kobo.483.2">
     It was only in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.484.1">
      Essex
     </span>
    </em>
    <span class="koboSpan" id="kobo.485.1">
     release that
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.486.1">
      Horizon
     </span>
    </strong>
    <span class="koboSpan" id="kobo.487.1">
     was born to accommodate the first core project’s operations, such as the creation of object containers, operating a life cycle of instances, managing images, and a basic layout on project users’ management, formerly named tenant users.
    </span>
    <span class="koboSpan" id="kobo.487.2">
     The need to include more control from the dashboard has been felt with the extensive inclusion of more services, and, within the latest releases, we might notice that the Horizon experience is much more sophisticated.
    </span>
    <span class="koboSpan" id="kobo.487.3">
     Built with the Django framework and supporting most of the OpenStack APIs, the majority of the core services’ resources can be operated through Horizon.
    </span>
    <span class="koboSpan" id="kobo.487.4">
     On the other hand, more advanced operations such as customizing networking configuration can be fired only using the OpenStack CLI.
    </span>
    <span class="koboSpan" id="kobo.487.5">
     Additionally, do not expect that Horizon will automatically include an
    </span>
    <a id="_idIndexMarker056">
    </a>
    <span class="koboSpan" id="kobo.488.1">
     extra service beyond the core ones.
    </span>
    <span class="koboSpan" id="kobo.488.2">
     It is not
    </span>
    <a id="_idIndexMarker057">
    </a>
    <span class="koboSpan" id="kobo.489.1">
     a limitation, but, for modular design reasons, installing a new service would require the addition of a new Horizon module associated with it and defined as a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.490.1">
      panel
     </span>
    </em>
    <span class="koboSpan" id="kobo.491.1">
     .
    </span>
    <span class="koboSpan" id="kobo.491.2">
     Horizon, with a good reference of the CLI, would be sufficient to administer your cloud if running a small setup.
    </span>
    <span class="koboSpan" id="kobo.491.3">
     Talking about the wider infrastructure, with dozens of projects and hundreds of resources, administering this size of setup might not be ideal using Horizon.
    </span>
    <span class="koboSpan" id="kobo.491.4">
     Agile thinking would require more automation and scripting on a large-scale size.
    </span>
    <span class="koboSpan" id="kobo.491.5">
     In
    </span>
    <a href="B21716_02.xhtml#_idTextAnchor089">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.492.1">
        Chapter 2
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.493.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.494.1">
      Kicking Off the OpenStack Setup – The Right Way (DevSecOps)
     </span>
    </em>
    <span class="koboSpan" id="kobo.495.1">
     , we will discuss in detail the automation of the OpenStack setup and how to use the same approach to manage r
    </span>
    <a id="_idTextAnchor046">
    </a>
    <span class="koboSpan" id="kobo.496.1">
     esources within project
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.497.1">
      resources themselves.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-30">
    <a id="_idTextAnchor047">
    </a>
    <span class="koboSpan" id="kobo.498.1">
     Non-OpenStack services
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.499.1">
     As part
    </span>
    <a id="_idIndexMarker058">
    </a>
    <span class="koboSpan" id="kobo.500.1">
     of the OpenStack control plane, we might find, as per any software architecture, other essential core components that all OpenStack services rely on:
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.501.1">
      Advanced Messaging
     </span>
     <a id="_idTextAnchor048">
     </a>
     <span class="koboSpan" id="kobo.502.1">
      Queuing Protocol
     </span>
    </strong>
    <span class="koboSpan" id="kobo.503.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.504.1">
      AMQP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.505.1">
     ) and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.506.1">
      database services.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.507.1">
     Passing the message – AMQP
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.508.1">
     AMQP, the
    </span>
    <a id="_idIndexMarker059">
    </a>
    <span class="koboSpan" id="kobo.509.1">
     messaging queue service, is one of the other ingredients for making a modular architecture design in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.510.1">
      OpenStack ecosystem.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.511.1">
     For each request hitting a specific OpenStack service API, the message queue server will make sure to communicate messages between all engaged components (processes) to accomplish the request asynchronously.
    </span>
    <span class="koboSpan" id="kobo.511.2">
     A variety of open source AMQP software can be used throughout your OpenStack deployment if you are biased about using one of them; it can just be simply specified during the setup to have it runn
    </span>
    <a id="_idTextAnchor049">
    </a>
    <span class="koboSpan" id="kobo.512.1">
     ing and communicating with different components.
    </span>
    <span class="koboSpan" id="kobo.512.2">
     RabbitMQ, Qpid, and ZeroMQ are supported message queue solutions; RabbitMQ is the most used one.
    </span>
    <span class="koboSpan" id="kobo.512.3">
     Being an expert in AMQP operations is not a requirement for a successful OpenStack operation day, but a few main points should be taken into consideration when dealing with a message queue in OpenStack.
    </span>
    <span class="koboSpan" id="kobo.512.4">
     We will see in later chapters how OpenStack services depend on the message queue from an architectural perspective, giving importance to such services running on the highest possible availability.
    </span>
    <span class="koboSpan" id="kobo.512.5">
     The other aspect, having some adequate familiarity
    </span>
    <a id="_idIndexMarker060">
    </a>
    <span class="koboSpan" id="kobo.513.1">
     with how messaging concepts work, would be more than helpful for troubleshooting days.
    </span>
    <a href="B21716_03.xhtml#_idTextAnchor108">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.514.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.515.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.516.1">
      OpenStack Control Plane – Shared Services
     </span>
    </em>
    <span class="koboSpan" id="kobo.517.1">
     , and
    </span>
    <a href="B21716_07.xhtml#_idTextAnchor174">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.518.1">
        Chapter 7
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.519.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.520.1">
      Running a Highly Available Cloud – Meeting the SLA
     </span>
    </em>
    <span class="koboSpan" id="kobo.521.1">
     , will highlight in sequence the internal workflow of AMQP in
    </span>
    <a id="_idTextAnchor050">
    </a>
    <span class="koboSpan" id="kobo.522.1">
     OpenStack and how to maximize
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.523.1">
      its availability.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.524.1">
     Storing the state – the database
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.525.1">
     The other fundamental OpenStack control plane service is the database.
    </span>
    <span class="koboSpan" id="kobo.525.2">
     Similar to the AMQP service, each OpenStack service will require a database connection to store its different states.
    </span>
    <span class="koboSpan" id="kobo.525.3">
     The database in the OpenStack ecosystem defines persistent storage that can
    </span>
    <a id="_idIndexMarker061">
    </a>
    <span class="koboSpan" id="kobo.526.1">
     be consulted and updated by all services upon each request.
    </span>
    <span class="koboSpan" id="kobo.526.2">
     The database topic from an architectural perspective has been a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.527.1">
      hot
     </span>
    </em>
    <span class="koboSpan" id="kobo.528.1">
     topic mostly due to security concerns.
    </span>
    <span class="koboSpan" id="kobo.528.2">
     As mentioned earlier, in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.529.1">
      Nova – the compute service
     </span>
    </em>
    <span class="koboSpan" id="kobo.530.1">
     section, there is a tendency from that learning curve to reduce any possible insecure access to the database or services running in different hosts that could potentially present a security risk.
    </span>
    <span class="koboSpan" id="kobo.530.2">
     The other side of the database sensitivity topic, similar to the AMQP service, is the availability dilemma.
    </span>
    <span class="koboSpan" id="kobo.530.3">
     Besides the risk of failures, OpenStack architects and administrators will need to reiterate through the other traditional database anomaly once it starts growing: performance.
    </span>
    <a href="B21716_03.xhtml#_idTextAnchor108">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.531.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.532.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.533.1">
      OpenStack Control Plane – Shared Services
     </span>
    </em>
    <span class="koboSpan" id="kobo.534.1">
     , and
    </span>
    <a href="B21716_07.xhtml#_idTextAnchor174">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.535.1">
        Chapter 7
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.536.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.537.1">
      Running a Highly Available Cloud – Meeting the SLA
     </span>
    </em>
    <span class="koboSpan" id="kobo.538.1">
     , will cover how to ensure a healthy start of the database for larger OpenStack deployments.
    </span>
    <a href="B21716_09.xhtml#_idTextAnchor204">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.539.1">
        Chapter 9
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.540.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.541.1">
      Benchmarking the Infrastructure – Evaluating Resource Capacity and Optimization
     </span>
    </em>
    <span class="koboSpan" id="kobo.542.1">
     , will bring the motivation behind the database bench
    </span>
    <a id="_idTextAnchor051">
    </a>
    <span class="koboSpan" id="kobo.543.1">
     marking routine
    </span>
    <a id="_idTextAnchor052">
    </a>
    <span class="koboSpan" id="kobo.544.1">
     for a better state
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.545.1">
      of performance.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.546.1">
     Other services
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.547.1">
     The latest OpenStack releases have demonstrated
    </span>
    <a id="_idIndexMarker062">
    </a>
    <span class="koboSpan" id="kobo.548.1">
     goodwill to OpenStack users to deploy and operate an OpenStack private cloud infrastructure not only with very stable core services but also with additional ones.
    </span>
    <span class="koboSpan" id="kobo.548.2">
     Compared to older releases, several incubated projects have been in on-off mode, making the decision to adopt some of them in your existing deployment insecure.
    </span>
    <span class="koboSpan" id="kobo.548.3">
     Different insights from different project initiatives have sculpted more confident software within the latest OpenStack releases ready to support more features and services in your cloud environment.
    </span>
    <span class="koboSpan" id="kobo.548.4">
     Some of the extra stable services are listed in the following
    </span>
    <a id="_idIndexMarker063">
    </a>
    <span class="koboSpan" id="kobo.549.1">
     table in the order of integration through different OpenStack
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.550.1">
      cycle releases:
     </span>
    </span>
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table002">
    <colgroup>
     <col/>
     <col/>
     <col/>
    </colgroup>
    <thead>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.551.1">
           Service
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.552.1">
           Release
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.553.1">
           Description
          </span>
         </strong>
        </span>
       </p>
      </td>
     </tr>
    </thead>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.554.1">
          Heat
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.555.1">
          Havana
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <a id="_idTextAnchor053">
        </a>
        <span class="koboSpan" id="kobo.556.1">
         Orchestration PaaS extension on top of the IaaS provided
        </span>
        <a id="_idIndexMarker064">
        </a>
        <span class="koboSpan" id="kobo.557.1">
         by OpenStack.
        </span>
        <span class="koboSpan" id="kobo.557.2">
         Heat abstracts cloud resources into code – also known as
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.558.1">
          domain-specific language
         </span>
        </strong>
        <span class="koboSpan" id="kobo.559.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.560.1">
          DSL
         </span>
        </strong>
        <span class="koboSpan" id="kobo.561.1">
         ).
        </span>
        <span class="koboSpan" id="kobo.561.2">
         That comes when cloud operators leverage the power of code templating
        </span>
        <a id="_idIndexMarker065">
        </a>
        <span class="koboSpan" id="kobo.562.1">
         to automate things, reduce human error, and increase the agility of resource management.
        </span>
        <span class="koboSpan" id="kobo.562.2">
         Heat uses
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.563.1">
          Heat Orchestration Templates
         </span>
        </strong>
        <span class="koboSpan" id="kobo.564.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.565.1">
          HOTs
         </span>
        </strong>
        <span class="koboSpan" id="kobo.566.1">
         ), in YAML or JSON format, allowing users to define the whole infrastructure to run their workloads
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.567.1">
          from code.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.568.1">
          Trove
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.569.1">
          Icehouse
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.570.1">
         DBaaS allows users to automate the provisioning of relational and non-relational scalable databases with the minimum overhead of database tasks such as patching, maintenance, and backup through
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.571.1">
          provided automation.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.572.1">
          Sahara
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.573.1">
         Juno (incubated
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.574.1">
          in Icehouse)
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.575.1">
          Elastic Data Processing as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.576.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.577.1">
          EDPaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.578.1">
         ) provides
        </span>
        <a id="_idIndexMarker066">
        </a>
        <span class="koboSpan" id="kobo.579.1">
         a means of orchestrating structured and unstructured data processing and analysis software and infrastructure on top of OpenStack, such as Hadoop and
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.580.1">
          Spark clusters.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.581.1">
          Ironic
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.582.1">
          Kilo
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.583.1">
          Bare Metal as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.584.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.585.1">
          BMaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.586.1">
         ) allows users
        </span>
        <a id="_idIndexMarker067">
        </a>
        <span class="koboSpan" id="kobo.587.1">
         to provision infrastructure directly on a physical machine, thus no hypervisor layer
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.588.1">
          is involved.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.589.1">
          Murano
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.590.1">
          Kilo
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.591.1">
          Application as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.592.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.593.1">
          AaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.594.1">
         ) enables developers to speed up application deployment and
        </span>
        <a id="_idIndexMarker068">
        </a>
        <span class="koboSpan" id="kobo.595.1">
         publish into an application catalog that can be browsable and ready for deployment in an
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.596.1">
          automated fashion.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.597.1">
          Designate
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.598.1">
          Liberty
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.599.1">
          DNS as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.600.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.601.1">
          DNSaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.602.1">
         ) handles
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.603.1">
          Domain Name Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.604.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.605.1">
          DNS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.606.1">
         ) entries such as
        </span>
        <a id="_idIndexMarker069">
        </a>
        <span class="koboSpan" id="kobo.607.1">
         DNS records
        </span>
        <a id="_idIndexMarker070">
        </a>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.608.1">
          and zones.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.609.1">
          Barbican
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.610.1">
          Liberty
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.611.1">
          Secret Manager as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.612.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.613.1">
          SMaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.614.1">
         ) is designed
        </span>
        <a id="_idIndexMarker071">
        </a>
        <span class="koboSpan" id="kobo.615.1">
         to centrally store different types of secrets, such as passwords, keys, and certificates, to be used by other OpenStack services in a
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.616.1">
          secure way.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.617.1">
          Zaqar
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.618.1">
          Liberty
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.619.1">
          Messaging as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.620.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.621.1">
          MSaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.622.1">
         ) allows users
        </span>
        <a id="_idIndexMarker072">
        </a>
        <span class="koboSpan" id="kobo.623.1">
         to provision and manage multi-tenant messaging and
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.624.1">
          notification queues.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.625.1">
          Magnum
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.626.1">
          Liberty
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.627.1">
          Container as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.628.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.629.1">
          CaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.630.1">
         ) orchestrates a set
        </span>
        <a id="_idIndexMarker073">
        </a>
        <span class="koboSpan" id="kobo.631.1">
         of containers
        </span>
        <a id="_idIndexMarker074">
        </a>
        <span class="koboSpan" id="kobo.632.1">
         through a supported
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.633.1">
          container orchestration engine
         </span>
        </strong>
        <span class="koboSpan" id="kobo.634.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.635.1">
          COE
         </span>
        </strong>
        <span class="koboSpan" id="kobo.636.1">
         ) such as Docker Swarm, Kubernetes,
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.637.1">
          and Mesos.
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.638.1">
          Octavia
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.639.1">
          Liberty
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <strong class="bold">
         <span class="koboSpan" id="kobo.640.1">
          Load Balancer as a Service
         </span>
        </strong>
        <span class="koboSpan" id="kobo.641.1">
         (
        </span>
        <strong class="bold">
         <span class="koboSpan" id="kobo.642.1">
          LBaaS
         </span>
        </strong>
        <span class="koboSpan" id="kobo.643.1">
         ) provides
        </span>
        <a id="_idIndexMarker075">
        </a>
        <span class="koboSpan" id="kobo.644.1">
         a load balancing function.
        </span>
        <span class="koboSpan" id="kobo.644.2">
         Octavia can be counted as an enterprise-class load balancer solution.
        </span>
        <span class="koboSpan" id="kobo.644.3">
         This service has become an attractive feature that can be used much more easily compared to the Neutron
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.645.1">
          LBaaS driver.
         </span>
        </span>
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.646.1">
     Table 1.2 – Additional OpenStack services
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.647.1">
     After reviewing
    </span>
    <a id="_idIndexMarker076">
    </a>
    <span class="koboSpan" id="kobo.648.1">
     the core and incubated OpenStack services, we can now walk through different functional requirements that would construct what a private cloud can offer
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.649.1">
      as services.
     </span>
    </span>
    <a id="_idTextAnchor054">
    </a>
   </p>
   <h1 id="_idParaDest-31">
    <a id="_idTextAnchor055">
    </a>
    <span class="koboSpan" id="kobo.650.1">
     Constructing the motivation
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.651.1">
     Before building a picture of your future OpenStack environment, it is necessary to have business goals that align with the outcome of the OpenStack solution.
    </span>
    <span class="koboSpan" id="kobo.651.2">
     As we have seen briefly in the previous sections with the latest updates in the OpenStack glossary, you might feel how overwhelming it could be with newly developed services and features.
    </span>
    <span class="koboSpan" id="kobo.651.3">
     Obviously, the
    </span>
    <a id="_idIndexMarker077">
    </a>
    <span class="koboSpan" id="kobo.652.1">
     new image of OpenStack looks more robust than ever, with many hands of
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.653.1">
      Anything as a Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.654.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.655.1">
      XaaS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.656.1">
     ) opportunities.
    </span>
    <span class="koboSpan" id="kobo.656.2">
     The array of choices might prevent architects and operators from starting a proper OpenStack infrastructure exercise if the scope of your business is not defined from the first day of drafting the design.
    </span>
    <span class="koboSpan" id="kobo.656.3">
     As with existing major public providers such as AWS, Azure, or GCP, the OpenStack deployment should be considered as a way of investment in the long run.
    </span>
    <span class="koboSpan" id="kobo.656.4">
     Expecting operational and cost savings can be felt only at later stages.
    </span>
    <span class="koboSpan" id="kobo.656.5">
     Being strategic is essential to take advantage of the OpenStack solution if used properly from the early days.
    </span>
    <span class="koboSpan" id="kobo.656.6">
     Hundreds of enterprises have switched gears to use OpenStack in their environment, but not all of them had a successful journey and soon dropped it.
    </span>
    <span class="koboSpan" id="kobo.656.7">
     For this reason, understanding in which use case your business will fall ensures a safe start to your
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.657.1">
      OpenStack journey.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.658.1">
     Since 2010, OpenStack usage has taken different facets whereby companies have invested in the OpenStack ecosystem, followed the milestone generation, and adopted it.
    </span>
    <span class="koboSpan" id="kobo.658.2">
     After 14 years, we can see a plethora of deployments where OpenStack shines with a respectful history of success.
    </span>
    <span class="koboSpan" id="kobo.658.3">
     The next sections will broadly list a few common use cases
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.659.1">
      of implementations.
     </span>
    </span>
    <a id="_idTextAnchor056">
    </a>
   </p>
   <h2 id="_idParaDest-32">
    <a id="_idTextAnchor057">
    </a>
    <span class="koboSpan" id="kobo.660.1">
     Application development accelerator
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.661.1">
     The modern
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.662.1">
      software development life cycle
     </span>
    </strong>
    <span class="koboSpan" id="kobo.663.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.664.1">
      SDLC
     </span>
    </strong>
    <span class="koboSpan" id="kobo.665.1">
     ) takes a more mature direction
    </span>
    <a id="_idIndexMarker078">
    </a>
    <span class="koboSpan" id="kobo.666.1">
     by enhancing the stages of its release
    </span>
    <a id="_idIndexMarker079">
    </a>
    <span class="koboSpan" id="kobo.667.1">
     and automating the whole chain, from
    </span>
    <a id="_idIndexMarker080">
    </a>
    <span class="koboSpan" id="kobo.668.1">
     simple code commits to different types of testing.
    </span>
    <span class="koboSpan" id="kobo.668.2">
     Although
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.669.1">
      Continuous Integration/Continuous Delivery
     </span>
    </strong>
    <span class="koboSpan" id="kobo.670.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.671.1">
      CI/CD
     </span>
    </strong>
    <span class="koboSpan" id="kobo.672.1">
     ) methods and tools emerged slightly before the rise of the cloud era, delivering a well-tested software product has faced a new challenge:
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.673.1">
      resource limitations
     </span>
    </em>
    <span class="koboSpan" id="kobo.674.1">
     .
    </span>
    <span class="koboSpan" id="kobo.674.2">
     Although the wording
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.675.1">
      limitation
     </span>
    </em>
    <span class="koboSpan" id="kobo.676.1">
     is not exactly the term that would describe this challenge, from a developer’s perspective, it means there are no available resources to continue or perform specific unit, smoke, or integration testing.
    </span>
    <span class="koboSpan" id="kobo.676.2">
     Preproduction environments are even more challenging to validate in all stages if a business will not allow the product to go live without provisioning exactly the same environment as in production for the sake of testing.
    </span>
    <span class="koboSpan" id="kobo.676.3">
     Resource instrumentation and virtualization have resolved this issue, but only partially.
    </span>
    <span class="koboSpan" id="kobo.676.4">
     With a lack of automation and an engine of operation, the
    </span>
    <a id="_idIndexMarker081">
    </a>
    <span class="koboSpan" id="kobo.677.1">
     whole chain still does not save costs and reduce the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.678.1">
      time to market
     </span>
    </strong>
    <span class="koboSpan" id="kobo.679.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.680.1">
      TTM
     </span>
    </strong>
    <span class="koboSpan" id="kobo.681.1">
     ).
    </span>
    <span class="koboSpan" id="kobo.681.2">
     That is where OpenStack has been engaged for several hundred enterprises: accelerate product releases by running their CI/CD pipelines in a multi-tenant
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.682.1">
      OpenStack environm
     </span>
     <a id="_idTextAnchor058">
     </a>
     <span class="koboSpan" id="kobo.683.1">
      ent.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-33">
    <a id="_idTextAnchor059">
    </a>
    <span class="koboSpan" id="kobo.684.1">
     Cloud application enabler
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.685.1">
     If you are planning to provide what most developers dream of (developing from scratch!), then you are in the right corner.
    </span>
    <span class="koboSpan" id="kobo.685.2">
     Whether the developed application is a web pet store, online reservation assistant, or flight reservation engine, wrapping the application
    </span>
    <a id="_idIndexMarker082">
    </a>
    <span class="koboSpan" id="kobo.686.1">
     in its proper infrastructure can be done in a fast and clean way using Heat, for example.
    </span>
    <span class="koboSpan" id="kobo.686.2">
     As the application will be defined as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.687.1">
      code
     </span>
    </em>
    <span class="koboSpan" id="kobo.688.1">
     in a HOT file, you will not need to worry about the application configuration consistency as well as its degree of scalability if autoscaling is declared in the template.
    </span>
    <span class="koboSpan" id="kobo.688.2">
     As OpenStack services will take care of all the automation overhead, application owners can focus on the next level of the application business to find more spots for improvements rather than wasting effort on resource management and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.689.1">
      operation overhead.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.690.1">
     The other trait of using OpenStack, especially within the survey from the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.691.1">
      Kilo
     </span>
    </em>
    <span class="koboSpan" id="kobo.692.1">
     release, is the trending cloud-ready application.
    </span>
    <span class="koboSpan" id="kobo.692.2">
     OpenStack enables a fast application publishing process in different ways.
    </span>
    <span class="koboSpan" id="kobo.692.3">
     As container technologies adoption increases, OpenStack has included container services to support a few famous container orchestration engines, such as Docker Swarm and Kubernetes, via the OpenStack Magnum service.
    </span>
    <span class="koboSpan" id="kobo.692.4">
     76% of users in the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.693.1">
      User Survey
     </span>
    </em>
    <span class="koboSpan" id="kobo.694.1">
     from the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.695.1">
      Juno
     </span>
    </em>
    <span class="koboSpan" id="kobo.696.1">
     release showed interest in the OpenStack and containerization marriage.
    </span>
    <span class="koboSpan" id="kobo.696.2">
     A well-known example of a vast OpenStack environment is CERN.
    </span>
    <span class="koboSpan" id="kobo.696.3">
     Based on OpenStack, CERN is running over 300,000 cores, with a big chunk of it being Kubernetes workloads (over 500 clusters) within the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.697.1">
      Magnum space.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.698.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.699.1">
     More details on the conducted OpenStack survey can be found
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.700.1">
      at
     </span>
    </span>
    <a href="https://www.openstack.org/user-survey/2022-user-survey-report">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.701.1">
       https://www.openstack.org/user-survey/2022-user-survey-report
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.702.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.703.1">
     The Murano application catalog service is another OpenStack service that facilitates application publishing in no time based
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.704.1">
      on contai
     </span>
     <a id="_idTextAnchor060">
     </a>
     <span class="koboSpan" id="kobo.705.1">
      ners.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-34">
    <a id="_idTextAnchor061">
    </a>
    <span class="koboSpan" id="kobo.706.1">
     HPC supporter
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.707.1">
     It might be
    </span>
    <a id="_idIndexMarker083">
    </a>
    <span class="koboSpan" id="kobo.708.1">
     confusing to mix the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.709.1">
      HPC
     </span>
    </em>
    <span class="koboSpan" id="kobo.710.1">
     term in the context of OpenStack.
    </span>
    <span class="koboSpan" id="kobo.710.2">
     Eventually, OpenStack does not access the hardware to configure compute power and increase hardware performance.
    </span>
    <span class="koboSpan" id="kobo.710.3">
     On the other hand, it enables designing your commodity hardware in a way to grow horizontally when hitting more compute, storage, and network demand.
    </span>
    <span class="koboSpan" id="kobo.710.4">
     In the HPC context, the main focus is on augmenting the underlying hardware capacity, and the cloud will secure the multi-tenancy to access resources in the most
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.711.1">
      optimized way.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.712.1">
     Surprisingly, in the early days of OpenStack when only Nova and Swift existed, the
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.713.1">
      National Aeronautics and Space Administration
     </span>
    </strong>
    <span class="koboSpan" id="kobo.714.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.715.1">
      NASA
     </span>
    </strong>
    <span class="koboSpan" id="kobo.716.1">
     ) and Rackspace were the
    </span>
    <a id="_idIndexMarker084">
    </a>
    <span class="koboSpan" id="kobo.717.1">
     initiators of the first OpenStack production environment running HPC.
    </span>
    <span class="koboSpan" id="kobo.717.2">
     More research organizations have since adopted the OpenStack ecosystem to deliver compute and storage at a large scale to researchers
    </span>
    <a id="_idIndexMarker085">
    </a>
    <span class="koboSpan" id="kobo.718.1">
     and scientists, but again, selecting the hardware layout and planning ahead is still required to feel the added value of OpenStack either via virtualized infrastructure, bare metal, or both.
    </span>
    <span class="koboSpan" id="kobo.718.2">
     OpenStack enables all methods of orchestration for HPC
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.719.1">
      environment depl
     </span>
     <a id="_idTextAnchor062">
     </a>
     <span class="koboSpan" id="kobo.720.1">
      oyments.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-35">
    <a id="_idTextAnchor063">
    </a>
    <span class="koboSpan" id="kobo.721.1">
     Network functions virtualization moderator
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.722.1">
     Only a few enterprises in the telecommunication industry realized the opportunities of virtualizing
    </span>
    <a id="_idIndexMarker086">
    </a>
    <span class="koboSpan" id="kobo.723.1">
     network services in the early days.
    </span>
    <span class="koboSpan" id="kobo.723.2">
     Following the same steps as the server virtualization experience, enterprises started investing in the new trend of running their edge network services on standard machines and providing functions such as routers, proxies, load balancers, and firewalls to consumers as VMs.
    </span>
    <span class="koboSpan" id="kobo.723.3">
     This became a major asset in responding quickly to network changes and feature demands.
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.724.1">
      Network functions virtualization
     </span>
    </strong>
    <span class="koboSpan" id="kobo.725.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.726.1">
      NFV
     </span>
    </strong>
    <span class="koboSpan" id="kobo.727.1">
     ) relies heavily on compute power that can run on commodity hardware and virtual environments, whereas in the traditional way, physical appliances running each network function must exist.
    </span>
    <span class="koboSpan" id="kobo.727.2">
     In the OpenStack context, NFV will need only a compute service to expose different functions.
    </span>
    <span class="koboSpan" id="kobo.727.3">
     As per the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.728.1">
      Kilo User Survey
     </span>
    </em>
    <span class="koboSpan" id="kobo.729.1">
     , more than 12% of organizations use OpenStack in the networking and telecommunication industry.
    </span>
    <span class="koboSpan" id="kobo.729.2">
     As Telco adopts OpenStack for such a purpose, Nova will be your assistant but with a strategic eye on compute resources and placement to make
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.730.1">
      i
     </span>
     <a id="_idTextAnchor064">
     </a>
     <span class="koboSpan" id="kobo.731.1">
      t happen.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-36">
    <a id="_idTextAnchor065">
    </a>
    <span class="koboSpan" id="kobo.732.1">
     Big data facilitator
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.733.1">
     Volkswagen AG and BMW have shared their feedback on using OpenStack for big data and analytics, and
    </span>
    <a id="_idIndexMarker087">
    </a>
    <span class="koboSpan" id="kobo.734.1">
     the outcome was valuable assistance of the ecosystem orchestrating all the different services and resources to accomplish some large data analytics tasks.
    </span>
    <span class="koboSpan" id="kobo.734.2">
     Before the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.735.1">
      Juno
     </span>
    </em>
    <span class="koboSpan" id="kobo.736.1">
     release and the unleashing of the Sahara – EDPaaS – project, big data resources could be orchestrated using HOTs to provision a cluster in no time.
    </span>
    <span class="koboSpan" id="kobo.736.2">
     Sahara was unleashed to simplify the deployment of such resources in more granular and ready-to-go ways, considering the type of the data processing framework, versions, size of the cluster, desired topology, and so on.
    </span>
    <span class="koboSpan" id="kobo.736.3">
     The big data scope in OpenStack
    </span>
    <a id="_idIndexMarker088">
    </a>
    <span class="koboSpan" id="kobo.737.1">
     can be wider when thinking out loud by using some advanced features of the OpenStack services, such as storage and networking.
    </span>
    <span class="koboSpan" id="kobo.737.2">
     Companies keep
    </span>
    <a id="_idIndexMarker089">
    </a>
    <span class="koboSpan" id="kobo.738.1">
     showing interest in automating their
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.739.1">
      Extract-Transform-Load
     </span>
    </strong>
    <span class="koboSpan" id="kobo.740.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.741.1">
      ETL
     </span>
    </strong>
    <span class="koboSpan" id="kobo.742.1">
     ) pipelines internally by leveraging the OpenStack big data service.
    </span>
    <span class="koboSpan" id="kobo.742.2">
     If you consider your business to be bound to a Hadoop provider, for example, make sure that performance is a key specification for your underlying hardware that No
    </span>
    <a id="_idTextAnchor066">
    </a>
    <span class="koboSpan" id="kobo.743.1">
     va
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.744.1">
      will use.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-37">
    <a id="_idTextAnchor067">
    </a>
    <span class="koboSpan" id="kobo.745.1">
     Private cloud service provider
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.746.1">
     Private cloud environments could be the first main motivation when reading the definition
    </span>
    <a id="_idIndexMarker090">
    </a>
    <span class="koboSpan" id="kobo.747.1">
     of OpenStack for the first time in the old releases’ documentation.
    </span>
    <span class="koboSpan" id="kobo.747.2">
     Being private will limit the services offered to end users within the perimeter of your organization or, technically,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.748.1">
      behind
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.749.1">
       the firewall
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.750.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.751.1">
     The term
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.752.1">
      private cloud
     </span>
    </em>
    <span class="koboSpan" id="kobo.753.1">
     might sum up all the use cases previously.
    </span>
    <span class="koboSpan" id="kobo.753.2">
     The only difference is that previous OpenStack implementations can stay isolated within your perimeter or serve
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.754.1">
      on
     </span>
     <a id="_idTextAnchor068">
     </a>
     <span class="koboSpan" id="kobo.755.1">
      -demand needs.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-38">
    <a id="_idTextAnchor069">
    </a>
    <span class="koboSpan" id="kobo.756.1">
     Public cloud service provider
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.757.1">
     Going public!
    </span>
    <span class="koboSpan" id="kobo.757.2">
     Why not?
    </span>
    <span class="koboSpan" id="kobo.757.3">
     Back in the early 2000s, Amazon internally launched a private elastic
    </span>
    <a id="_idIndexMarker091">
    </a>
    <span class="koboSpan" id="kobo.758.1">
     compute cloud to enable infrastructure agility for developers and users running the giant online e-commerce website and other services
    </span>
    <a id="_idIndexMarker092">
    </a>
    <span class="koboSpan" id="kobo.759.1">
     selling millions of items worldwide.
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.760.1">
      Simple Queue Service
     </span>
    </strong>
    <span class="koboSpan" id="kobo.761.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.762.1">
      SQS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.763.1">
     ) was launched and exposed to the public as the first cloud service, then later S3, followed by the EC2 service.
    </span>
    <span class="koboSpan" id="kobo.763.2">
     The idea started with object storage named S3 and the EC2 service.
    </span>
    <span class="koboSpan" id="kobo.763.3">
     Originally, NASA and Rackspace initiated and immensely contributed to software code to create software operating a private cloud initially for elastic computation and object storage capabilities.
    </span>
    <span class="koboSpan" id="kobo.763.4">
     That is how Nova and Swift came to be.
    </span>
    <span class="koboSpan" id="kobo.763.5">
     The first release attracted early-bird companies seeking innovations and started contributing to the new open source and soon cultivating more experience on market models for XaaS products.
    </span>
    <span class="koboSpan" id="kobo.763.6">
     Rackspace launched its
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.764.1">
      public cloud
     </span>
    </em>
    <span class="koboSpan" id="kobo.765.1">
     version offering compute and object storage services initially.
    </span>
    <span class="koboSpan" id="kobo.765.2">
     This was followed by many others adopting a public cloud powered by OpenStack, such as Open Telekom Cloud, Cleura, VEXXHOST, and many more.
    </span>
    <span class="koboSpan" id="kobo.765.3">
     Lately, it feels like the world runs on OpenStack with the hashtag
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.766.1">
      #RunOnOpenStack
     </span>
    </strong>
    <span class="koboSpan" id="kobo.767.1">
     .
    </span>
    <span class="koboSpan" id="kobo.767.2">
     With its widespread implementation with big names around the world, the OpenStack community has initiated the concept of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.768.1">
      OpenStack public cloud passports
     </span>
    </em>
    <span class="koboSpan" id="kobo.769.1">
     .
    </span>
    <span class="koboSpan" id="kobo.769.2">
     The idea behind it is to act as a major public cloud provider by providing OpenStack services in different regions and locations worldwide.
    </span>
    <span class="koboSpan" id="kobo.769.3">
     The program ensures a
    </span>
    <a id="_idIndexMarker093">
    </a>
    <span class="koboSpan" id="kobo.770.1">
     massive hub of collaboration between different OpenStack
    </span>
    <a id="_idIndexMarker094">
    </a>
    <span class="koboSpan" id="kobo.771.1">
     public cloud providers, enabling users to roam between more than 60
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.772.1">
      availability zones
     </span>
    </strong>
    <span class="koboSpan" id="kobo.773.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.774.1">
      AZs
     </span>
    </strong>
    <span class="koboSpan" id="kobo.775.1">
     ) worldwide.
    </span>
    <span class="koboSpan" id="kobo.775.2">
     The
    </span>
    <a href="http://openstack.org">
     <span class="koboSpan" id="kobo.776.1">
      openstack.org
     </span>
    </a>
    <span class="koboSpan" id="kobo.777.1">
     website keeps updating the public cloud locations that can be filtered through
    </span>
    <a id="_idIndexMarker095">
    </a>
    <span class="koboSpan" id="kobo.778.1">
     the OpenStack public cloud marketplace
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.779.1">
      page:
     </span>
    </span>
    <a href="https://www.openstack.org/marketplace/public-clouds/">
     <span class="No-Break">
      <span class="koboSpan" id="kobo.780.1">
       https://www.openstack.org/marketpla
      </span>
      <span id="_idTextAnchor070">
      </span>
      <span class="koboSpan" id="kobo.781.1">
       ce/public-clouds/
      </span>
     </span>
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.782.1">
      .
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-39">
    <a id="_idTextAnchor071">
    </a>
    <span class="koboSpan" id="kobo.783.1">
     Picking up the pieces
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.784.1">
     Independent of which use case your future OpenStack deployment will start with, mastering the
    </span>
    <a id="_idIndexMarker096">
    </a>
    <span class="koboSpan" id="kobo.785.1">
     art of its ecosystem is a vital step before investigating any further design and architecture options.
    </span>
    <span class="koboSpan" id="kobo.785.2">
     OpenStack covers more than 1 million lines of Python code!
    </span>
    <span class="koboSpan" id="kobo.785.3">
     At this stage, there is no need to worry about learning how the code works: far more important is to take a reverse engineering approach: understanding the ecosystem interactions.
    </span>
    <span class="koboSpan" id="kobo.785.4">
     Simply understanding the interrelation of core services gives you the keys to the kingdom of the art of design.
    </span>
    <span class="koboSpan" id="kobo.785.5">
     Starting with the basics, the foundational components will open more doors to the next ones if we master the core ones correctly.
    </span>
    <span class="koboSpan" id="kobo.785.6">
     So far, we have revisited core services of OpenStack that exist with each release and had a brief scan of the incubated projects, particularly within the latest releases.
    </span>
    <span class="koboSpan" id="kobo.785.7">
     Next, we will select a common workflow that illustrates the different steps and pieces to spawn a VM.
    </span>
    <span class="koboSpan" id="kobo.785.8">
     This type of workflow will demonstrate how different OpenStack core services interact and will involve almost all
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.786.1">
      the components.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.787.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.788.1">
     The listing of which services are counted as core ones might differ between different resources and documentation.
    </span>
    <span class="koboSpan" id="kobo.788.2">
     Telemetry, scheduling, and dashboard services could be considered optional services.
    </span>
    <span class="koboSpan" id="kobo.788.3">
     The current assumption is based on real-world deployment that leverages the usage of those services from the start of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.789.1">
      the journey.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.790.1">
     The first iteration demonstrates a high level of the building blocks of different OpenStack core services that include compute, imaging, identity, block storage, monitoring, scheduling, dashboard, and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.791.1">
      networking services:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer017">
     <span class="koboSpan" id="kobo.792.1">
      <img alt="Figure 1.2 – High-level services interaction spawning instance workflow" src="image/B21716_01_02.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.793.1">
     Figure 1.2 – High-level services interaction spawning instance workflow
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.794.1">
     It is important to take note of the main blocks before jumping into the granular presentation
    </span>
    <a id="_idIndexMarker097">
    </a>
    <span class="koboSpan" id="kobo.795.1">
     of the spawning process as illustrated in the previous diagram.
    </span>
    <span class="koboSpan" id="kobo.795.2">
     By providing the Horizon dashboard or via the CLI (similarly, via APIs), an authentication process will be fired first by challenging the user request with login credentials that will be handled by the identity service, Keystone.
    </span>
    <span class="koboSpan" id="kobo.795.3">
     Once validated (an authentication token will be provided for the whole session and subsequent requests), the request will reach the Nova API to take the next steps.
    </span>
    <span class="koboSpan" id="kobo.795.4">
     Nova will interact with each of the following services counted as
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.796.1">
      mandatory
     </span>
    </em>
    <span class="koboSpan" id="kobo.797.1">
     to successfully spawn
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.798.1">
      an instance:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.799.1">
      The imaging service, Glance, queries an image to start
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.800.1">
       the instance.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.801.1">
      The networking service, Neutron, acquires
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.802.1">
       networking resources.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.803.1">
      The block storage service, Cinder, allocates
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.804.1">
       storage volumes.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.805.1">
      The scheduling service, Placement, allocates available compute
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.806.1">
       provider resources.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.807.1">
     Note that the whole chain of interactions passes through the API of each component.
    </span>
    <span class="koboSpan" id="kobo.807.2">
     For each inter-component request, the core database will be consulted for read and object updates.
    </span>
    <span class="koboSpan" id="kobo.807.3">
     As per spawning an instance, a record of a new VM instance will be created in the
    </span>
    <a id="_idIndexMarker098">
    </a>
    <span class="koboSpan" id="kobo.808.1">
     instance and used for reference with other services in the subsequent steps.
    </span>
    <span class="koboSpan" id="kobo.808.2">
     As per the instance request, Nova will interact with the queuing message service as well – for example, to request an instance launch (for the Nova
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.809.1">
      compute process).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.810.1">
     As part of this workflow, any API endpoint, scheduling, imaging, identity, and shared components such as database and queuing services are counted as part of the OpenStack
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.811.1">
      control plane.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.812.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.813.1">
     The control plane and data plane are ways of conceptual separation in complex system architectures.
    </span>
    <span class="koboSpan" id="kobo.813.2">
     The terms will be defined in more detail in
    </span>
    <a href="B21716_03.xhtml#_idTextAnchor108">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.814.1">
        Chapter 3
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.815.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.816.1">
      OpenStack Control Plane –
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.817.1">
       Shared Services
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.818.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.819.1">
     Now, let’s zoom in and explore the workflow in a more granular view so that we can build a whole spawning instance picture.
    </span>
    <span class="koboSpan" id="kobo.819.2">
     As demonstrated in the previous part of the chapter, each OpenStack service includes subcomponents working together to serve a specific request.
    </span>
    <span class="koboSpan" id="kobo.819.3">
     Obviously, the API part exists in each service.
    </span>
    <span class="koboSpan" id="kobo.819.4">
     Remember that is the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.820.1">
      gate
     </span>
    </em>
    <span class="koboSpan" id="kobo.821.1">
     of each module in the OpenStack ecosystem.
    </span>
    <span class="koboSpan" id="kobo.821.2">
     Each exposed API service (providing an HTTP-based RESTful API) reaches other components and, subsequently, subcomponents via the queuing message service bus, as shown in the following
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.822.1">
      workflow diagram:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer018">
     <span class="koboSpan" id="kobo.823.1">
      <img alt="Figure 1.3 – Low-level services interaction spawning instance workflow" src="image/B21716_01_03.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.824.1">
     Figure 1.3 – Low-level services interaction spawning instance workflow
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.825.1">
     Starting with the identity service, Keystone should be aware of the available services in the architecture setup to authorize any further interaction.
    </span>
    <span class="koboSpan" id="kobo.825.2">
     Keystone holds a service catalog containing all API endpoints of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.826.1">
      different services.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.827.1">
     The previous diagram illustrates each step by including different components and their
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.828.1">
      respective subcomponents:
     </span>
    </span>
   </p>
   <ol>
    <li>
     <span class="koboSpan" id="kobo.829.1">
      A REST API call will be initiated by using Horizon or the CLI and reaches the identity service
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.830.1">
       Keystone endpoint.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.831.1">
      Keystone challenges the request, gets the user credentials (a form of username and password), and validates the authentication via
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.832.1">
       its API.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.833.1">
      The validated authentication generates an authentication token (an
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.834.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.835.1">
      token) back to the requester user.
     </span>
     <span class="koboSpan" id="kobo.835.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.836.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.837.1">
      token will be cached for the specific user
     </span>
     <a id="_idIndexMarker099">
     </a>
     <span class="koboSpan" id="kobo.838.1">
      to be used for subsequent API REST calls between the rest of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.839.1">
       the services.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.840.1">
      As our request is a
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.841.1">
       compute
      </span>
     </em>
     <span class="koboSpan" id="kobo.842.1">
      one, the next station that will be reached is the compute service API,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.843.1">
       nova-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.844.1">
      .
     </span>
     <span class="koboSpan" id="kobo.844.2">
      Again, the form of the request is a REST API, forwarded by Keystone from its catalog.
     </span>
     <span class="koboSpan" id="kobo.844.3">
      You can think of the catalog as a
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.845.1">
       service map
      </span>
     </em>
     <span class="koboSpan" id="kobo.846.1">
      where Keystone locates each service via the registered endpoint.
     </span>
     <span class="koboSpan" id="kobo.846.2">
      In this case, the REST API encapsulated with the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.847.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.848.1">
      token will be sent to the compute
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.849.1">
       service endpoint.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.850.1">
      The compute API, the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.851.1">
       nova-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.852.1">
      subcomponent, checks the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.853.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.854.1">
      token coming with a request reaching the compute endpoint.
     </span>
     <span class="koboSpan" id="kobo.854.2">
      At this stage, the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.855.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.856.1">
      token will be validated in return by the identity service, Keystone.
     </span>
     <span class="koboSpan" id="kobo.856.2">
      The purpose of this secondary interaction with Keystone is to inform the compute API in the request which permissions and roles users will have and for how long the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.857.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.858.1">
      token will stay alive before generating a new one (noted as the token
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.859.1">
       expiry period).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.860.1">
      Once validated, the first database interaction will take place by
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.861.1">
       nova-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.862.1">
      , which creates a new VM object that specifies the different parameters in the request.
     </span>
     <span class="koboSpan" id="kobo.862.2">
      Bear in mind that each service will have its own logical database to update the state of different resources.
     </span>
     <span class="koboSpan" id="kobo.862.3">
      In the current scenario, the Nova service holds its dedicated database schema for different state updates and read and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.863.1">
       write operations.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.864.1">
      Now, we come to the next interaction of another subcomponent of the Nova service,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.865.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.866.1">
      , to specify which compute node will host the new instance.
     </span>
     <span class="koboSpan" id="kobo.866.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.867.1">
       nova-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.868.1">
      subcomponent will contact the scheduler with such a request via
     </span>
     <a id="_idIndexMarker100">
     </a>
     <span class="koboSpan" id="kobo.869.1">
      the communication hub: the messaging queue service.
     </span>
     <span class="koboSpan" id="kobo.869.2">
      This
     </span>
     <a id="_idIndexMarker101">
     </a>
     <span class="koboSpan" id="kobo.870.1">
      nature of the operation is processed via a
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.871.1">
       Remote Procedure Call
      </span>
     </strong>
     <span class="koboSpan" id="kobo.872.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.873.1">
       RPC
      </span>
     </strong>
     <span class="koboSpan" id="kobo.874.1">
      ) call, noted as
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.875.1">
       rpc.call
      </span>
     </strong>
     <span class="koboSpan" id="kobo.876.1">
      , which will be published in the message queue and remain there till
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.877.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.878.1">
      picks
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.879.1">
       it up.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.880.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.881.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.882.1">
      subcomponent takes the lead on fetching the most convenient compute node to host the new instance.
     </span>
     <span class="koboSpan" id="kobo.882.2">
      In our highlighted basic core design, the Placement service will be engaged in the process of selecting the best
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.883.1">
       compute node(s).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.884.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.885.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.886.1">
      subcomponent reaches
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.887.1">
       placement-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.888.1">
      to query its compute resource provider.
     </span>
     <span class="koboSpan" id="kobo.888.2">
      Note that the Placement service is still considered a new service as an extension of the other services for tracking their resources, such as compute, IP pools, and storage, expressed as resource providers.
     </span>
     <span class="koboSpan" id="kobo.888.3">
      Since the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.889.1">
       Stein
      </span>
     </em>
     <span class="koboSpan" id="kobo.890.1">
      release, it has been extracted from the Nova ecosystem and runs on its own.
     </span>
     <span class="koboSpan" id="kobo.890.2">
      In our workflow, we can consider the usage of Placement in the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.891.1">
       prefiltering
      </span>
     </em>
     <span class="koboSpan" id="kobo.892.1">
      stage before the final selection at the Nova scheduling level.
     </span>
     <span class="koboSpan" id="kobo.892.2">
      The Placement service also exposes its own endpoint in the Keystone catalog.
     </span>
     <span class="koboSpan" id="kobo.892.3">
      Hence, it will validate the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.893.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.894.1">
      token via the identity service, which updates the token header and returns it to the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.895.1">
        placement-api
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.896.1">
       process.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.897.1">
      The selection of hosts is determined via the Placement service by querying its own inventory database and, at the first iteration, returns a selection of compute nodes and any traits associated
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.898.1">
       with them.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.899.1">
      By applying its filtering and weighing parameters at the returned result by the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.900.1">
       placement-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.901.1">
      component, the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.902.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.903.1">
      process will come up with the right compute node and reach
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.904.1">
       placement-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.905.1">
      in the second iteration to claim the resources for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.906.1">
       the instance.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.907.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.908.1">
       placement-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.909.1">
      component adjusts its state records in the database, and
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.910.1">
       nova-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.911.1">
      updates the state of the VM object in its database with the compute node ID and its hostname and then submits a message in the form of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.912.1">
       rpc.cast
      </span>
     </strong>
     <span class="koboSpan" id="kobo.913.1">
      to the messaging hub.
     </span>
     <span class="koboSpan" id="kobo.913.2">
      This message will be picked up by
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.914.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.915.1">
      to launch the instance in the designated hypervisor
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.916.1">
       host ID.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.917.1">
      To communicate
     </span>
     <a id="_idIndexMarker102">
     </a>
     <span class="koboSpan" id="kobo.918.1">
      with the next subcomponent,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.919.1">
       nova-conductor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.920.1">
      ,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.921.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.922.1">
      will publish the next
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.923.1">
       rpc.call
      </span>
     </strong>
     <span class="koboSpan" id="kobo.924.1">
      call in the message queue to start the launch of the instance with details for preparation, such as CPU, disk, and RAM specs.
     </span>
     <span class="koboSpan" id="kobo.924.2">
      Note that
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.925.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.926.1">
      can be running in different process occurrences in different compute nodes.
     </span>
     <span class="koboSpan" id="kobo.926.2">
      Only one particular
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.927.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.928.1">
      occurrence will publish
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.929.1">
       rpc.call
      </span>
     </strong>
     <span class="koboSpan" id="kobo.930.1">
      to
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.931.1">
       nova-conductor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.932.1">
      based on the compute node chosen in
     </span>
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.933.1">
        step 8
       </span>
      </em>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.934.1">
       .
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.935.1">
      If we recall the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.936.1">
       nova-conductor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.937.1">
      addition in the Nova service architecture, the main purpose of this service is to play a
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.938.1">
       gate role
      </span>
     </em>
     <span class="koboSpan" id="kobo.939.1">
      between the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.940.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.941.1">
      process and the database to minimize the database exposure and hence reduce its attack blast radius.
     </span>
     <span class="koboSpan" id="kobo.941.2">
      As we are aiming for a large OpenStack deployment, the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.942.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.943.1">
      component will be detached from the controller node (holding the main control plane services) and will be dedicated to different physical hypervisor nodes.
     </span>
     <span class="koboSpan" id="kobo.943.2">
      If one of the compute nodes has been compromised, spreading that security issue to the database will be more difficult due to the logical and physical separation when processes interact with the database.
     </span>
     <span class="koboSpan" id="kobo.943.3">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.944.1">
       nova-conductor
      </span>
     </strong>
     <span class="koboSpan" id="kobo.945.1">
      component will be the one interacting directly with the Nova database to read the instance details, such as compute node ID, its requested flavors, memory, CPU, and disk claims.
     </span>
     <span class="koboSpan" id="kobo.945.2">
      The state will be reported back to the messaging queue service by an RPC
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.946.1">
       publish call.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.947.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.948.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.949.1">
      component picks up the published message and subsequently reaches the next service component by sending a RESTful API to the image service, Glance: the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.950.1">
       glance-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.951.1">
      process.
     </span>
     <span class="koboSpan" id="kobo.951.2">
      The request contains a form of
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.952.1">
       GET API
      </span>
     </strong>
     <span class="koboSpan" id="kobo.953.1">
      request for the image details encapsulated in the requested image
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.954.1">
       ID information.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.955.1">
      Glance will provide the requested image ID through its image-registered URL.
     </span>
     <span class="koboSpan" id="kobo.955.2">
      But first, as we are reaching out to another service in the ecosystem, Glance will contact the identity service, Keystone, to validate the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.956.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.957.1">
      token again.
     </span>
     <span class="koboSpan" id="kobo.957.2">
      Assuming the token session has not expired yet, Keystone will validate the token, and in
     </span>
     <a id="_idIndexMarker103">
     </a>
     <span class="koboSpan" id="kobo.958.1">
      the same way as Nova in
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.959.1">
       step 5
      </span>
     </em>
     <span class="koboSpan" id="kobo.960.1">
      , the identity service will check the user role and permissions before it updates the token header and sends it back to the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.961.1">
       Image API.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.962.1">
      The Glance component is considered much simpler than Nova, as there is no interaction with a message queue in this step.
     </span>
     <span class="koboSpan" id="kobo.962.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.963.1">
       glance-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.964.1">
      component simply checks the Glance database (running its own dedicated database schema), retrieves the metadata of the requested image ID, and reports back to
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.965.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.966.1">
      with the image
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.967.1">
       URL format.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.968.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.969.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.970.1">
      component reaches the image store and starts loading the provided image via the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.971.1">
       returned URL.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.972.1">
      We now come to the next service to interact with: networking.
     </span>
     <span class="koboSpan" id="kobo.972.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.973.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.974.1">
      component sends a RESTful API request to the Neutron service, via
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.975.1">
       neutron-server
      </span>
     </strong>
     <span class="koboSpan" id="kobo.976.1">
      .
     </span>
     <span class="koboSpan" id="kobo.976.2">
      As discussed earlier, Neutron (by naming convention in its own architecture) does not involve an explicit subcomponent name with the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.977.1">
       api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.978.1">
      suffix.
     </span>
     <span class="koboSpan" id="kobo.978.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.979.1">
       neutron-server
      </span>
     </strong>
     <span class="koboSpan" id="kobo.980.1">
      subcomponent is the
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.981.1">
       API gate
      </span>
     </em>
     <span class="koboSpan" id="kobo.982.1">
      that will deal with all API requests.
     </span>
     <span class="koboSpan" id="kobo.982.2">
      Running the same identity cycle and assuming that the token has not expired yet,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.983.1">
       neutron-server
      </span>
     </strong>
     <span class="koboSpan" id="kobo.984.1">
      will forward the API request to Keystone, where it gets validated, updates the token header with different roles and permissions, and sends it back to the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.985.1">
        neutron-server
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.986.1">
       process.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.987.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.988.1">
       neutron-server
      </span>
     </strong>
     <span class="koboSpan" id="kobo.989.1">
      component checks the networking item’s status and respectively creates the requested resources encapsulated in the network parameters’ API call.
     </span>
     <span class="koboSpan" id="kobo.989.2">
      Note that the Neutron service varies between different types of requests and hence exposes an array of workflows depending on the request complexity.
     </span>
     <span class="koboSpan" id="kobo.989.3">
      We will cover other workflow scenarios dealing with other network
     </span>
     <a id="_idIndexMarker104">
     </a>
     <span class="koboSpan" id="kobo.990.1">
      controllers, agents, and plugins, such as
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.991.1">
       Open vSwitch
      </span>
     </strong>
     <span class="koboSpan" id="kobo.992.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.993.1">
       OVS
      </span>
     </strong>
     <span class="koboSpan" id="kobo.994.1">
      ), in
     </span>
     <a href="B21716_06.xhtml#_idTextAnchor159">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.995.1">
         Chapter 6
        </span>
       </em>
      </span>
     </a>
     <span class="koboSpan" id="kobo.996.1">
      ,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.997.1">
       OpenStack Networking – Connectivity and Managed Service Options
      </span>
     </em>
     <span class="koboSpan" id="kobo.998.1">
      .
     </span>
     <span class="koboSpan" id="kobo.998.2">
      For
     </span>
     <a id="_idIndexMarker105">
     </a>
     <span class="koboSpan" id="kobo.999.1">
      example, once a port is created for an instance,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1000.1">
       neutron-server
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1001.1">
      will publish an RPC call in the
     </span>
     <a id="_idIndexMarker106">
     </a>
     <span class="koboSpan" id="kobo.1002.1">
      message queue reaching out to the
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1003.1">
       Dynamic Host Configuration Protocol
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1004.1">
      (
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1005.1">
       DHCP
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1006.1">
      ) agent.
     </span>
     <span class="koboSpan" id="kobo.1006.2">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1007.1">
       neutron-dhcp-agent
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1008.1">
      process will invoke its associated DHCP driver to reload its host’s file entries via the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1009.1">
       dnsmasq
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1010.1">
      process.
     </span>
     <span class="koboSpan" id="kobo.1010.2">
      Once the instance is booted,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1011.1">
       dnsmasq
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1012.1">
      is ready to pick up the instance request and send a DHCP offer for the final instance network configuration.
     </span>
     <span class="koboSpan" id="kobo.1012.2">
      This scenario also assumes a network and subnet are created where the instance will be attached, and that is specified in the instance
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1013.1">
       creation request.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1014.1">
      Once networking parameters are acquired for the new instance request,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1015.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1016.1">
      reaches the database and updates the VM object network
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1017.1">
       state record.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1018.1">
      The last service to accomplish the instance creation is to reach out to the block storage service.
     </span>
     <span class="koboSpan" id="kobo.1018.2">
      Following the same way as previous services,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1019.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1020.1">
      sends its RESTful API request to the Cinder API, the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1021.1">
        cinder-api
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1022.1">
       subcomponent.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1023.1">
      In turn, the Cinder API process will get to the identity service where Keystone validates the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1024.1">
       auth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1025.1">
      token.
     </span>
     <span class="koboSpan" id="kobo.1025.2">
      Assuming that it has not expired, Keystone returns the updated token header once validated with the roles and permissions set for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1026.1">
       the requester.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1027.1">
      As with Nova and Neutron, Cinder has more subcomponents that would take a few steps further before the final admission of the request back to the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1028.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1029.1">
      process.
     </span>
     <span class="koboSpan" id="kobo.1029.2">
      Cinder involves its own scheduler as well by publishing an RPC call to the messaging
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1030.1">
       queue service.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1031.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1032.1">
       cinder-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1033.1">
      subcomponent picks up the request and locates available resources for a new volume candidate list based on the requested volume specifications (volume size and type).
     </span>
     <span class="koboSpan" id="kobo.1033.2">
      Note that Cinder also provides another process,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1034.1">
       cinder-volume
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1035.1">
      , that interacts with
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1036.1">
       cinder-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1037.1">
      whenever a new read or write request is initiated within a specific storage provider.
     </span>
     <span class="koboSpan" id="kobo.1037.2">
      In this case,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1038.1">
       cinder-volume
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1039.1">
      will be interfacing with backend driver methods
     </span>
     <a id="_idIndexMarker107">
     </a>
     <span class="koboSpan" id="kobo.1040.1">
      to generate a candidate list that will be posted in the message queue and picked up later by the
     </span>
     <span class="No-Break">
      <strong class="source-inline">
       <span class="koboSpan" id="kobo.1041.1">
        cinder-scheduler
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1042.1">
       subcomponent.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1043.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1044.1">
       cinder-scheduler
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1045.1">
      subcomponent updates the state of the volume ID with its associated returned metadata in the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1046.1">
       Cinder database.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1047.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1048.1">
       cinder-api
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1049.1">
      component picks up the published message from
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1050.1">
       cinder-volume
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1051.1">
      and responds to
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1052.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1053.1">
      via a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1054.1">
       RESTful call.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1055.1">
      The
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1056.1">
       nova-compute
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1057.1">
      component receives the created volume metadata in the API request.
     </span>
     <span class="koboSpan" id="kobo.1057.2">
      By default, if no other specific hypervisor virtualization driver is being configured, Nova will execute the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1058.1">
       libvirt
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1059.1">
      daemon and proceed by creating the instance on the designated
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1060.1">
       compute node.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1061.1">
      For the final stage of the instance spawning workflow, the created volume should be mapped by the
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1062.1">
       cinder-volume
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1063.1">
      process.
     </span>
     <span class="koboSpan" id="kobo.1063.2">
      That is when the virtualization driver, in this case,
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1064.1">
       libvirt
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1065.1">
      , will make the volume available to the instance by firing a
     </span>
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1066.1">
       mount
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1067.1">
      operation.
     </span>
     <span class="koboSpan" id="kobo.1067.2">
      The way it is performed depends on the storage provider and protocol, but a common case is passing the volume path to the hypervisor, which will mount it to the instance as a virtual
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1068.1">
       block device.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1069.1">
      The last piece of our initial workflow is the ingestion of the instance metrics in the Ceilometer service.
     </span>
     <span class="koboSpan" id="kobo.1069.2">
      It is vital to watch what has been spawned by checking the status of the created instance.
     </span>
     <span class="koboSpan" id="kobo.1069.3">
      Ceilometer provides two ways of collecting data metrics for instances:
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1070.1">
       polling agents
      </span>
     </em>
     <span class="koboSpan" id="kobo.1071.1">
      or
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1072.1">
       notification agents
      </span>
     </em>
     <span class="koboSpan" id="kobo.1073.1">
      .
     </span>
     <span class="koboSpan" id="kobo.1073.2">
      Collected metrics will pass through a Ceilometer pipeline transformation for further manipulation and prepare this data to be published.
     </span>
     <span class="koboSpan" id="kobo.1073.3">
      The latest releases come with an array of choices to store the published data in the Ceilometer database, which can be accessed through the Ceilometer API, Gnocchi, or even a simple
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1074.1">
       file store.
      </span>
     </span>
    </li>
   </ol>
   <p>
    <span class="koboSpan" id="kobo.1075.1">
     Zooming in
    </span>
    <a id="_idIndexMarker108">
    </a>
    <span class="koboSpan" id="kobo.1076.1">
     on the communication between the different core components is essential before drafting a first design layout of your private cloud, which will be detailed in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1077.1">
      next section.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-40">
    <a id="_idTextAnchor072">
    </a>
    <span class="koboSpan" id="kobo.1078.1">
     Architecting the cloud
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.1079.1">
     Identifying the initial use case of your OpenStack environment is a major key to a successful
    </span>
    <a id="_idIndexMarker109">
    </a>
    <span class="koboSpan" id="kobo.1080.1">
     start of the cloud journey.
    </span>
    <span class="koboSpan" id="kobo.1080.2">
     With a vast array of features, especially within the latest releases, the cloud management platform has become more mature than ever, but that might be overwhelming.
    </span>
    <span class="koboSpan" id="kobo.1080.3">
     Sidetracking the purpose of your OpenStack implementation would increase management complexity and potentially put your business at risk if such investment is not carefully accompanied by a vision.
    </span>
    <span class="koboSpan" id="kobo.1080.4">
     For this purpose, drafting your design into different iterations will help you avoid being blocked by
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1081.1">
      the paradox of choices
     </span>
    </em>
    <span class="koboSpan" id="kobo.1082.1">
     and unleash a clear short-term vision toward the longer one.
    </span>
    <span class="koboSpan" id="kobo.1082.2">
     As the first design iteration, we will simply identify our conceptual OpenStack model, followed by the logical architecture.
    </span>
    <span class="koboSpan" id="kobo.1082.3">
     Once drafted, we will walk through the practical implementation and put some numbers together to reflect our first deplo
    </span>
    <a id="_idTextAnchor073">
    </a>
    <span class="koboSpan" id="kobo.1083.1">
     yment picture in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1084.1">
      the hardware.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-41">
    <a id="_idTextAnchor074">
    </a>
    <span class="koboSpan" id="kobo.1085.1">
     Drafting the conceptual design
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1086.1">
     Based on the latest launching instance workflow, we have settled on the core services that should
    </span>
    <a id="_idIndexMarker110">
    </a>
    <span class="koboSpan" id="kobo.1087.1">
     exist in our first OpenStack
    </span>
    <a id="_idIndexMarker111">
    </a>
    <span class="koboSpan" id="kobo.1088.1">
     implementation.
    </span>
    <span class="koboSpan" id="kobo.1088.2">
     Naturally, any services that will be extending our basic setup later, such as PaaS services, will rely on the services underway that construct mainly our IaaS layer.
    </span>
    <span class="koboSpan" id="kobo.1088.3">
     During the next design phases, we will consider a generic OpenStack use case that would be suitable for internal usage as a private cloud to support organizations with elastic IaaS resources, boosting cloud application development, enabling data analysis, and helping with public hosting workloads.
    </span>
    <span class="koboSpan" id="kobo.1088.4">
     Beyond the core services, other mature ones will be included in this design iteration, as summarized
    </span>
    <a id="_idIndexMarker112">
    </a>
    <span class="koboSpan" id="kobo.1089.1">
     in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1090.1">
      following table:
     </span>
    </span>
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table003">
    <colgroup>
     <col/>
     <col/>
    </colgroup>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1091.1">
           Cloud service
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1092.1">
           Service role
          </span>
         </strong>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1093.1">
         Compute –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1094.1">
          Nova
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1095.1">
         Manages VM
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1096.1">
          life cycle
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1097.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1098.1">
         Imaging –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1099.1">
          Glance
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1100.1">
         Manages VM
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1101.1">
          image files
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1102.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1103.1">
         Object storage –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1104.1">
          Swift
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1105.1">
         Manages
        </span>
        <a id="_idIndexMarker113">
        </a>
        <span class="koboSpan" id="kobo.1106.1">
         objects for
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1107.1">
          persistent storage
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1108.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1109.1">
         Block storage –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1110.1">
          Cinder
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1111.1">
         Manages VM volumes for
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1112.1">
          persistent storage
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1113.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1114.1">
         Networking –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1115.1">
          Neutron
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1116.1">
         Manages network L2 and
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1117.1">
          L3 resources
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1118.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1119.1">
         Data metrics –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1120.1">
          Ceilometer
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1121.1">
         Collects resource data metrics
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1122.1">
          for monitoring
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1123.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1124.1">
         File share –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1125.1">
          Manila
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1126.1">
         Manages scale-out file
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1127.1">
          share systems
         </span>
        </span>
       </p>
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1128.1">
          UI-enabled
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1129.1">
         Identity –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1130.1">
          Keystone
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1131.1">
         Authentication
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1132.1">
          and authorization
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1133.1">
         Dashboard –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1134.1">
          Horizon
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1135.1">
          GUI
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1136.1">
         Scheduling –
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1137.1">
          Placement
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1138.1">
         Prefiltering for resource providers
        </span>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1139.1">
          and traits
         </span>
        </span>
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1140.1">
     Table 1.3 – Initial OpenStack services
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1141.1">
     Summing up those services into one conceptual diagram will captivate our next logical design
    </span>
    <a id="_idIndexMarker114">
    </a>
    <span class="koboSpan" id="kobo.1142.1">
     iteration and narrow down the distribution
    </span>
    <a id="_idIndexMarker115">
    </a>
    <span class="koboSpan" id="kobo.1143.1">
     of the services across different cluster roles of the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1144.1">
      OpenStack implementation:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer019">
     <span class="koboSpan" id="kobo.1145.1">
      <img alt="Figure 1.4 – OpenStack services interaction workflow" src="image/B21716_01_04.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1146.1">
     Figure 1.4 – OpenStack services interaction workflow
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1147.1">
     The previous diagram illustrates a high-level presentation of our first OpenStack architecture draft that counts several services to host a variety of workloads for end users.
    </span>
    <span class="koboSpan" id="kobo.1147.2">
     We can proceed with our design by developing a logical layout in the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1148.1">
      next section.
     </span>
    </span>
    <a id="_idTextAnchor075">
    </a>
   </p>
   <h2 id="_idParaDest-42">
    <a id="_idTextAnchor076">
    </a>
    <span class="koboSpan" id="kobo.1149.1">
     Drafting the logical design
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1150.1">
     The logical design iteration is a vital step that should be carried out with more attention.
    </span>
    <span class="koboSpan" id="kobo.1150.2">
     More brainstorming points will be raised at each level and within each service of the design to
    </span>
    <a id="_idIndexMarker116">
    </a>
    <span class="koboSpan" id="kobo.1151.1">
     formulate an initial draft that can be implemented with more confidence.
    </span>
    <span class="koboSpan" id="kobo.1151.2">
     The other key consideration is to run our services for
    </span>
    <a id="_idIndexMarker117">
    </a>
    <span class="koboSpan" id="kobo.1152.1">
     both the control and data planes in a minimum setup of HA.
    </span>
    <span class="koboSpan" id="kobo.1152.2">
     That can be empowered by clustering the controller and compute nodes in the subsequent iterations.
    </span>
    <span class="koboSpan" id="kobo.1152.3">
     While working on the cloud roadmap, it is essential to reflect on the growth aspect.
    </span>
    <span class="koboSpan" id="kobo.1152.4">
     As your business needs are identified, the first logical design should be mapped with the first explored requirements.
    </span>
    <span class="koboSpan" id="kobo.1152.5">
     Trying OpenStack even with the minimum installation can be helpful to familiarize yourself with its basic ecosystem components.
    </span>
    <span class="koboSpan" id="kobo.1152.6">
     On the other hand, a major consideration of the first deployment for future successful experiences is to think of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1153.1">
      growth
     </span>
    </em>
    <span class="koboSpan" id="kobo.1154.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1154.2">
     As mentioned earlier, OpenStack is developed with modular software architecture; reflecting the same approach in the logical design followed by the physical one will absolutely make your cloud shine.
    </span>
    <span class="koboSpan" id="kobo.1154.3">
     Consider the following guidelines to
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1155.1">
      begin with:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1156.1">
      Define roles for the OpenStack system in both the control and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1157.1">
       data planes
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1158.1">
      Isolate roles starting with the minimum number of nodes and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1159.1">
       sufficient hardware
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1160.1">
      Think ahead of the possibility of component
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1161.1">
       services failing
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1162.1">
      Use software that the cloud operations team is most familiar with, such as queuing message and database
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1163.1">
       common services
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1164.1">
     Throughout the first iteration of our logical design, an incremental approach will be taken, starting with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1165.1">
      following roles:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1166.1">
      A pair of controller nodes running the control plane, including the database and
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1167.1">
       queuing message.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1168.1">
      One
     </span>
     <a id="_idIndexMarker118">
     </a>
     <span class="koboSpan" id="kobo.1169.1">
      compute node running the hypervisor layer based on
     </span>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1170.1">
       Kernel-based Virtual
      </span>
     </strong>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1171.1">
        Machine
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1172.1">
       (
      </span>
     </span>
     <span class="No-Break">
      <strong class="bold">
       <span class="koboSpan" id="kobo.1173.1">
        KVM
       </span>
      </strong>
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1174.1">
       ).
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1175.1">
      MySQL with the MariaDB engine and RabbitMQ will be chosen as the database and messaging queue services, respectively.
     </span>
     <span class="koboSpan" id="kobo.1175.2">
      Most of the OpenStack-documented implementations use MySQL and RabbitMQ as almost a
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1176.1">
       religious matter.
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1177.1">
      HAProxy and Pacemaker will be running in each controller node for HA, load balancing, and clustering.
     </span>
     <span class="koboSpan" id="kobo.1177.2">
      Database HA will be implemented through Galera multi-master
     </span>
     <a id="_idIndexMarker119">
     </a>
     <span class="koboSpan" id="kobo.1178.1">
      replication.
     </span>
     <span class="koboSpan" id="kobo.1178.2">
      RabbitMQ
     </span>
     <a id="_idIndexMarker120">
     </a>
     <span class="koboSpan" id="kobo.1179.1">
      instances will run on their native clustering mode based on queue mirroring across both cloud
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1180.1">
       controller hosts.
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1181.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1182.1">
     The first logical design should not be overwhelming as it is not a final draft ready for production yet.
    </span>
    <a href="B21716_07.xhtml#_idTextAnchor174">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1183.1">
        Chapter 7
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1184.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1185.1">
      Running a Highly Available Cloud – Meeting the SLA
     </span>
    </em>
    <span class="koboSpan" id="kobo.1186.1">
     , has been dedicated to going through each layer of the future implemented control and data planes
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1187.1">
      in detail.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1188.1">
     The first logical design proposal can be drafted by using the previously listed software tools and the cloud controller and compute roles,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1189.1">
      as follows:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer020">
     <span class="koboSpan" id="kobo.1190.1">
      <img alt="Figure 1.5 – High-level logical design of OpenStack components for deployment" src="image/B21716_01_05.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1191.1">
     Figure 1.5 – High-level logical design of OpenStack components for deployment
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1192.1">
     Once the logical setup of different components and roles has been drafted, we will need to identify how the OpenStack nodes
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1193.1">
      should conne
     </span>
     <a id="_idTextAnchor077">
     </a>
     <span class="koboSpan" id="kobo.1194.1">
      ct.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1195.1">
     Connecting the dots
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1196.1">
     Another essential aspect during the logical design phase is to provide a consistent networking
    </span>
    <a id="_idIndexMarker121">
    </a>
    <span class="koboSpan" id="kobo.1197.1">
     layout between the different roles of each OpenStack entity.
    </span>
    <span class="koboSpan" id="kobo.1197.2">
     There are gazillions of ways to connect different pieces in an OpenStack ecosystem; the following layout demonstrates a network
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1198.1">
      segmentation approach:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer021">
     <span class="koboSpan" id="kobo.1199.1">
      <img alt="Figure 1.6 – Network segmentation OpenStack nodes" src="image/B21716_01_06.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1200.1">
     Figure 1.6 – Network segmentation OpenStack nodes
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1201.1">
     The isolation of different types of networks will increase security access through networking segmentation.
    </span>
    <span class="koboSpan" id="kobo.1201.2">
     The trade-off is the extra complexity, but security comes first.
    </span>
    <span class="koboSpan" id="kobo.1201.3">
     The other
    </span>
    <a id="_idIndexMarker122">
    </a>
    <span class="koboSpan" id="kobo.1202.1">
     opinion on this choice is also the performance question, as dedicating a separate segment for each type of traffic would save
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1203.1">
      bandwidth significantly.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1204.1">
     The previous diagram illustrates four types of networks denoted with the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1205.1">
      following conventions:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1206.1">
       External network
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1207.1">
      : Connecting to the outside world.
     </span>
     <span class="koboSpan" id="kobo.1207.2">
      OpenStack APIs can be reachable
     </span>
     <a id="_idIndexMarker123">
     </a>
     <span class="koboSpan" id="kobo.1208.1">
      from the public as well as private backbone
     </span>
     <a id="_idIndexMarker124">
     </a>
     <span class="koboSpan" id="kobo.1209.1">
      within a global organization network.
     </span>
     <span class="koboSpan" id="kobo.1209.2">
      The external network will provide routable IP addresses.
     </span>
     <span class="koboSpan" id="kobo.1209.3">
      This type of network will be part of the data plane as it will expose or direct traffic instances within the underlying infrastructure.
     </span>
     <span class="koboSpan" id="kobo.1209.4">
      It is essential to keep security configuration tied at this level by fronting the network with load balancer devices
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1210.1">
       or appliances.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1211.1">
       Management network
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1212.1">
      : As part of the control plane, this provides interconnectivity
     </span>
     <a id="_idIndexMarker125">
     </a>
     <span class="koboSpan" id="kobo.1213.1">
      between all the various nodes in the OpenStack
     </span>
     <a id="_idIndexMarker126">
     </a>
     <span class="koboSpan" id="kobo.1214.1">
      environment.
     </span>
     <span class="koboSpan" id="kobo.1214.2">
      Services such as the database and queuing message will be plugged into this network to be reached by the compute nodes.
     </span>
     <span class="koboSpan" id="kobo.1214.3">
      The management network does not expose anything to the outside world and should be seen as a private or internal network (you might find the naming convention of
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1215.1">
       API network
      </span>
     </em>
     <span class="koboSpan" id="kobo.1216.1">
      in
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1217.1">
       other sources).
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1218.1">
       Tenant network
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1219.1">
      : As users
     </span>
     <a id="_idIndexMarker127">
     </a>
     <span class="koboSpan" id="kobo.1220.1">
      will require their virtual
     </span>
     <a id="_idIndexMarker128">
     </a>
     <span class="koboSpan" id="kobo.1221.1">
      networks, the tenant network (referred to as a
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1222.1">
       guest
      </span>
     </em>
     <span class="koboSpan" id="kobo.1223.1">
      or
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1224.1">
       overlay network
      </span>
     </em>
     <span class="koboSpan" id="kobo.1225.1">
      in other sources) will be dedicated to handling instance traffic.
     </span>
     <span class="koboSpan" id="kobo.1225.2">
      There are a variety of options for this type of network that could be attached to SDN capabilities in the network node.
     </span>
     <a href="B21716_06.xhtml#_idTextAnchor159">
      <span class="No-Break">
       <em class="italic">
        <span class="koboSpan" id="kobo.1226.1">
         Chapter 6
        </span>
       </em>
      </span>
     </a>
     <span class="koboSpan" id="kobo.1227.1">
      ,
     </span>
     <em class="italic">
      <span class="koboSpan" id="kobo.1228.1">
       OpenStack Networking – Connectivity and Managed Service Options
      </span>
     </em>
     <span class="koboSpan" id="kobo.1229.1">
      , will highlight the scope of virtual overlay networking in more detail.
     </span>
     <span class="koboSpan" id="kobo.1229.2">
      The tenant network can be considered as part of the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1230.1">
       data plane.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1231.1">
       Storage network
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1232.1">
      : As part
     </span>
     <a id="_idIndexMarker129">
     </a>
     <span class="koboSpan" id="kobo.1233.1">
      of the data plane, the
     </span>
     <a id="_idIndexMarker130">
     </a>
     <span class="koboSpan" id="kobo.1234.1">
      storage network will connect compute, and storage
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1235.1">
       cluster nodes.
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1236.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1237.1">
     Instances can use a direct physical network instead of virtual ones empowered by Neutron through SDN, which would assign floating IPs to access the outside world.
    </span>
    <span class="koboSpan" id="kobo.1237.2">
     This model is
    </span>
    <a id="_idIndexMarker131">
    </a>
    <span class="koboSpan" id="kobo.1238.1">
     referred to as a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1239.1">
      provider network
     </span>
    </em>
    <span class="koboSpan" id="kobo.1240.1">
     that would connect network and compute.
    </span>
    <span class="koboSpan" id="kobo.1240.2">
     More details will be highlighted in
    </span>
    <a href="B21716_06.xhtml#_idTextAnchor159">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1241.1">
        Chapter 6
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1242.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1243.1">
      OpenStack Networking – Connectivity and Managed
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1244.1">
       Service Options
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1245.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1246.1">
     Enumerating the different types of networks earlier will help the selection and reservation of different ports and network cards of each host per role in the long-term setup.
    </span>
    <span class="koboSpan" id="kobo.1246.2">
     It is still possible to combine more than one network in the same physical connection.
    </span>
    <span class="koboSpan" id="kobo.1246.3">
     However, the continuous expansion of the underlying infrastructure will hit the limit of the physical capacity of the combined segments, leaving a variety of issues with bottlenecks and network performance anomalies.
    </span>
    <span class="koboSpan" id="kobo.1246.4">
     Planning and preparing in advance will save an immense amount of time and effort in modifying the networking layout once network performance starts boiling.
    </span>
    <span class="koboSpan" id="kobo.1246.5">
     If a network node is dedicated in the next iteration, for example, the controller node will not need to connect to the tenant and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1247.1">
      exter
     </span>
     <a id="_idTextAnchor078">
     </a>
     <span class="koboSpan" id="kobo.1248.1">
      nal networks.
     </span>
    </span>
   </p>
   <h2 id="_idParaDest-43">
    <a id="_idTextAnchor079">
    </a>
    <span class="koboSpan" id="kobo.1249.1">
     Drafting the physical design
    </span>
   </h2>
   <p>
    <span class="koboSpan" id="kobo.1250.1">
     The next
    </span>
    <a id="_idIndexMarker132">
    </a>
    <span class="koboSpan" id="kobo.1251.1">
     section will assign values to our parameters defined in
    </span>
    <a id="_idIndexMarker133">
    </a>
    <span class="koboSpan" id="kobo.1252.1">
     the previous logical design.
    </span>
    <span class="koboSpan" id="kobo.1252.2">
     However, understanding a few key concepts and practices beforehand will save plenty of effort and costs.
    </span>
    <span class="koboSpan" id="kobo.1252.3">
     Let’s start with a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1253.1">
      capacity-plannin
     </span>
     <a id="_idTextAnchor080">
     </a>
     <span class="koboSpan" id="kobo.1254.1">
      g demonstration.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1255.1">
     Preparing for capacity planning
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1256.1">
     Capacity
    </span>
    <a id="_idIndexMarker134">
    </a>
    <span class="koboSpan" id="kobo.1257.1">
     planning comes at every stage of a new infrastructure project, either within in-house hosting or for the development of a simple application.
    </span>
    <span class="koboSpan" id="kobo.1257.2">
     The cosmos of capacity-planning practices is based on forecasting and predicting how many resources an IT infrastructure would require to respond to business needs.
    </span>
    <span class="koboSpan" id="kobo.1257.3">
     In the OpenStack context, once your business case has been defined, the process of capacity analysis is narrowed to a specific set of resources that should exist.
    </span>
    <span class="koboSpan" id="kobo.1257.4">
     If you are planning to host a mixture of generic web hosting applications and data analysis workloads, there are certain considerations to be planned in terms of hardware sizing and the technology that will run the workloads.
    </span>
    <span class="koboSpan" id="kobo.1257.5">
     NFV would require more attention
    </span>
    <a id="_idIndexMarker135">
    </a>
    <span class="koboSpan" id="kobo.1258.1">
     when selecting the hardware as it can be a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1259.1">
      performance eater.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1260.1">
     Building the
    </span>
    <a id="_idIndexMarker136">
    </a>
    <span class="koboSpan" id="kobo.1261.1">
     capacity planning for the OpenStack case can be summarized
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1262.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1263.1">
       Operate with elasticity
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1264.1">
      : Be able to respond and pull more ubiquitous compute resources when needed in the case of a failure or load increase
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1265.1">
       using automation.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1266.1">
       Expect to fail
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1267.1">
      : Underlying resources should be ready to be replaced immediately without the need to spend time on fixing and reconfiguration efforts
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1268.1">
       during incidents.
      </span>
     </span>
    </li>
    <li>
     <strong class="bold">
      <span class="koboSpan" id="kobo.1269.1">
       Track for growth
      </span>
     </strong>
     <span class="koboSpan" id="kobo.1270.1">
      : Available capacity over the course of production can be variable.
     </span>
     <span class="koboSpan" id="kobo.1270.2">
      As we are in an on-demand model, the expected growth is not forcibly linear.
     </span>
     <span class="koboSpan" id="kobo.1270.3">
      Regularly track the usage of your underlying infrastructure to plot your cloud usage and update the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1271.1">
       capacity roadmap.
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1272.1">
     Another
    </span>
    <a id="_idIndexMarker137">
    </a>
    <span class="koboSpan" id="kobo.1273.1">
     key foundation that is highly appreciated by large infrastructure management is the adoption of
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1274.1">
      Information Technology Infrastructure Library
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1275.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1276.1">
      ITIL
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1277.1">
     ) practices.
    </span>
    <span class="koboSpan" id="kobo.1277.2">
     By reflecting on the IT infrastructure that will run the OpenStack cloud environment, ITIL methodologies will definitely refine a strategic process to identify a complete cycle of your capacity management under the ITIL service design umbrella.
    </span>
    <span class="koboSpan" id="kobo.1277.3">
     If your organization has already rolled out
    </span>
    <a id="_idIndexMarker138">
    </a>
    <span class="koboSpan" id="kobo.1278.1">
     ITIL practices, feel free to reuse and apply them in the cloud journey.
    </span>
    <span class="koboSpan" id="kobo.1278.2">
     From a
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1279.1">
      Cloud Service Provider
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1280.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1281.1">
      CSP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1282.1">
     ) perspective, having a tactical approach to managing the underlying IT infrastructure to align with business needs and user demand and take full control of the financial aspect is
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1283.1">
      a
     </span>
    </span>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1284.1">
       must-have
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1285.1">
      .
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1286.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1287.1">
     ITIL is a framework presented with a set of practices and methodologies to standardize, manage, and optimize IT services offered in a given business.
    </span>
    <span class="koboSpan" id="kobo.1287.2">
     ITIL has evolved into four different versions.
    </span>
    <span class="koboSpan" id="kobo.1287.3">
     All the versions emphasize common core concepts around the business service, such as the service design pillar targeting
    </span>
    <a id="_idTextAnchor081">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1288.1">
      capacity management.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1289.1">
     Mapping the land
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1290.1">
     As a first iteration, it would be ideal to dig into a few parameters that would generate some
    </span>
    <a id="_idIndexMarker139">
    </a>
    <span class="koboSpan" id="kobo.1291.1">
     numbers to start the journey.
    </span>
    <span class="koboSpan" id="kobo.1291.2">
     In order to estimate our hardware and configurations, we can think of a reverse approach.
    </span>
    <span class="koboSpan" id="kobo.1291.3">
     Instead of looking at how many instances the first deployment could accommodate, we should see this from the end user’s eyes:
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1292.1">
      Which instance flavors could be offered to run which specific workloads?
     </span>
    </em>
    <span class="koboSpan" id="kobo.1293.1">
     An instance flavor is a set of specifications defined as a characteristics template in the compute service, including the number of vCPU cores, amount of RAM (including swap), and root disk (including
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1294.1">
      ephemeral size).
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1295.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1296.1">
     More advanced flavor specs can be customized and created in OpenStack to deploy instances that require specific workloads by scheduling the Nova service to use a set of compute nodes, such as support of certain CPU architecture or intensive workloads
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1297.1">
      for HPC.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1298.1">
     A simple approach is to spread the population of compute resources into an average flavor model that could run generic workloads.
    </span>
    <span class="koboSpan" id="kobo.1298.2">
     As a start, an instance flavor could be suitable for testing tenant environments with a couple of vCPUs and 1024 MB of RAM capacity.
    </span>
    <span class="koboSpan" id="kobo.1298.3">
     Defining the baseline flavor model will enable us to determine the next ones by doubling the size of capacity in the next iteration.
    </span>
    <span class="koboSpan" id="kobo.1298.4">
     Keep in mind that there are gazillions of ways to define the set of flavors, but, most importantly, identifying the starting one will help to classify the next sizing in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1299.1">
      the series.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1300.1">
     Depending on your captured business needs, hence the type(s) of workload(s), you will have a clearer picture of how much hardware capacity will be required in each compute node you plan to invest in.
    </span>
    <span class="koboSpan" id="kobo.1300.2">
     With every combination of flavors, putting the density of resources in the compute box will help to measure whether any wasted room has been left behind so that it can be used within a new flavor.
    </span>
    <span class="koboSpan" id="kobo.1300.3">
     For example, if a compute node could support 40 medium and 10 small-sized instances and still have some room left, create a new flavor with the gapped size of 1 vCPU and 512 MB of RAM to be added to the compute node
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1301.1">
      flavor catalog.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1302.1">
     The following use case will consider a business initiative to run instances with versatile types of generic workloads that include
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1303.1">
      instance flavors:
     </span>
    </span>
   </p>
   <table class="No-Table-Style _idGenTablePara-1" id="table004">
    <colgroup>
     <col/>
     <col/>
     <col/>
     <col/>
    </colgroup>
    <tbody>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1304.1">
           Flavor
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1305.1">
           vCPU
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1306.1">
           RAM (MB)
          </span>
         </strong>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <strong class="bold">
          <span class="koboSpan" id="kobo.1307.1">
           Disk (GB)
          </span>
         </strong>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1308.1">
          Tiny
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1309.1">
         1
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1310.1">
          512
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1311.1">
          10
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1312.1">
          Small
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1313.1">
         1
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1314.1">
          1024
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1315.1">
          20
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1316.1">
          Medium
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1317.1">
         2
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1318.1">
          2048
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1319.1">
          40
         </span>
        </span>
       </p>
      </td>
     </tr>
     <tr class="No-Table-Style">
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1320.1">
          Large
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="koboSpan" id="kobo.1321.1">
         4
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1322.1">
          4096
         </span>
        </span>
       </p>
      </td>
      <td class="No-Table-Style">
       <p>
        <span class="No-Break">
         <span class="koboSpan" id="kobo.1323.1">
          80
         </span>
        </span>
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1324.1">
     Table 1.4 – Instance flavors list
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1325.1">
     The first
    </span>
    <a id="_idIndexMarker140">
    </a>
    <span class="koboSpan" id="kobo.1326.1">
     capacity-planning roadmap will assume 200 VMs as a starting point with the first set of compute nodes.
    </span>
    <span class="koboSpan" id="kobo.1326.2">
     The following sections will conduct an estimation for different hardware specs, including CPU, RAM, storage, and network for each
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1327.1">
      compute node.
     </span>
    </span>
    <a id="_idTextAnchor082">
    </a>
   </p>
   <h4>
    <span class="koboSpan" id="kobo.1328.1">
     CPU estimation
    </span>
   </h4>
   <p>
    <span class="koboSpan" id="kobo.1329.1">
     A proper
    </span>
    <a id="_idIndexMarker141">
    </a>
    <span class="koboSpan" id="kobo.1330.1">
     calculation of the compute power will depend significantly on the technology and model supported by the hardware.
    </span>
    <span class="koboSpan" id="kobo.1330.2">
     For this reason, we will define a list of hardware assumptions for our use case
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1331.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1332.1">
      GHz per physical core =
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1333.1">
       2.6 GHz
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1334.1">
      Physical core hyperthreading support = use
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1335.1">
       factor 2
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1336.1">
      GHz per VM (AVG compute units) =
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1337.1">
       2 GHz
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1338.1">
      GHz per VM (MAX compute units) =
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1339.1">
       16 GHz
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1340.1">
      Intel Xeon E5-2648L v2 core CPU =
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1341.1">
       10
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1342.1">
      CPU sockets per server = 2
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1343.1">
      CPU overcommit ratio =
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1344.1">
       16:1
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1345.1">
       Oversubscription: Disabled
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1346.1">
       Hyperthreading: Disabled
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1347.1">
      Operating system
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1348.1">
       overhead: 20%
      </span>
     </span>
    </li>
   </ul>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1349.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1350.1">
     OpenStack compute allows the overcommitment of resources for CPU and RAM.
    </span>
    <span class="koboSpan" id="kobo.1350.2">
     The technique of overcommitment aims to maximize the usage of resources by leveraging sharing between VMs running in the same hypervisor machine.
    </span>
    <span class="koboSpan" id="kobo.1350.3">
     For example, running 16 vCPUs per 1 physical CPU in a hypervisor host is denoted as a CPU overcommitment
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1351.1">
      of 16:1.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1352.1">
     Let’s
    </span>
    <a id="_idIndexMarker142">
    </a>
    <span class="koboSpan" id="kobo.1353.1">
     start with the number of
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1354.1">
      virtual cores:
     </span>
    </span>
   </p>
   <p>
    <em class="italic">
     <span class="koboSpan" id="kobo.1355.1">
      (number of VMs x number of GHz per VM) / number of GHz
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1356.1">
       per core
      </span>
     </em>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1357.1">
      (200 * 2) / 2.6 =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1358.1">
       153.8
      </span>
      <a id="_idTextAnchor083">
      </a>
      <span class="koboSpan" id="kobo.1359.1">
       46
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1360.1">
     A rounded decimal estimation will result in 154
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1361.1">
      vCPU cores.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1362.1">
     Now, let’s take into account the operating system overhead running in the compute node of 20%,
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1363.1">
      as follows:
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1364.1">
      154 + ((154 * 20)/100) =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1365.1">
       184.4
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1366.1">
     A rounded decimal estimation will be
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1367.1">
      185 vCPUs.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1368.1">
     Adding the overcommitment ratio 16:1 parameter to estimate the actual physical CPU on the compute node can be calculated
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1369.1">
      as follows:
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1370.1">
      185/16 =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1371.1">
       11.5625
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1372.1">
     A rounded decimal estimation will result in 12
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1373.1">
      CPU cores.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1374.1">
     As a starting point, a compute node of 12 CPU cores would host 200 instances with a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1375.1">
      small
     </span>
    </em>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1376.1">
      model flavo
     </span>
     <a id="_idTextAnchor084">
     </a>
     <span class="koboSpan" id="kobo.1377.1">
      r.
     </span>
    </span>
   </p>
   <h4>
    <span class="koboSpan" id="kobo.1378.1">
     Memory estimation
    </span>
   </h4>
   <p>
    <span class="koboSpan" id="kobo.1379.1">
     The following
    </span>
    <a id="_idIndexMarker143">
    </a>
    <span class="koboSpan" id="kobo.1380.1">
     assumptions would be required to align with the previous
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1381.1">
      CPU estimation:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1382.1">
      1024 MB of RAM per instance for the
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1383.1">
       small flavor
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1384.1">
      8 GB of RAM maximum dynamic allocations
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1385.1">
       per VM
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1386.1">
      Compute nodes supporting slots of 2, 4, 8, and 16
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1387.1">
       GB sticks
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1388.1">
      RAM overcommit ratio
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1389.1">
       of 1:1
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1390.1">
      Operating system overhead
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1391.1">
       of 20%
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1392.1">
     For 200 VMs with small-sized flavor instances, a RAM estimation is given
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1393.1">
      as follows:
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1394.1">
      200 * 1024 MB =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1395.1">
       200 GB
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1396.1">
     Adding the 20% operating system overhead gives us
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1397.1">
      the following:
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1398.1">
      200 + ((200 * 20)/100) =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1399.1">
       240 GB
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1400.1">
     A 1:1 overcommitment ratio will determine the actual RAM size needed per
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1401.1">
      compute node:
     </span>
    </span>
   </p>
   <p>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1402.1">
      240/1 =
     </span>
    </strong>
    <span class="No-Break">
     <strong class="source-inline">
      <span class="koboSpan" id="kobo.1403.1">
       240 GB
      </span>
     </strong>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1404.1">
     That would require an amount of 240 GB of RAM in our compute node to accommodate 200 small
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1405.1">
      flavor instances.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1406.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1407.1">
     The default Nova compute configuration comes with an overcommitment value of 1:1.5.
    </span>
    <span class="koboSpan" id="kobo.1407.2">
     Be aware that, unlike CPU overcommitment behavior, memory overcommitment can affect the instance performance if not enough room for the swap memory is planned in advance.
    </span>
    <span class="koboSpan" id="kobo.1407.3">
     As a good practice, with 1:1.5, configure the swap memory to be at least double what
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1408.1">
      is provid
     </span>
     <a id="_idTextAnchor085">
     </a>
     <span class="koboSpan" id="kobo.1409.1">
      ed.
     </span>
    </span>
   </p>
   <h4>
    <span class="koboSpan" id="kobo.1410.1">
     Storage estimation
    </span>
   </h4>
   <p>
    <span class="koboSpan" id="kobo.1411.1">
     As per storage, physical compute nodes should acquire enough storage capacity with a multitude
    </span>
    <a id="_idIndexMarker144">
    </a>
    <span class="koboSpan" id="kobo.1412.1">
     of options by providing the instance’s root disk from the compute nodes’ physical disks themselves or via attached
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1413.1">
      storage devices.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1414.1">
     Considering 200 VMs and a small size flavor instance of 20 GB root disk, a compute node should acquire an amount of
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1415.1">
      200 * 40 =
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1416.1">
       800 GB
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1417.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1418.1">
     Depending on the operating system requirement for disk space and other factors with caching and swapping configuration, an estimation of between 900 GB and 1 TB of storage will grant a secured disk allocation for all instances (think of swap and extra caching disk
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1419.1">
      operation overheads).
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1420.1">
     Another aspect that can be considered for more flavor customization is the storage type specs.
    </span>
    <span class="koboSpan" id="kobo.1420.2">
     That was
    </span>
    <a id="_idIndexMarker145">
    </a>
    <span class="koboSpan" id="kobo.1421.1">
     not mentioned in the previous flavor catalog table, but, as part of the capacity management exercise, when the business changes the scope of the nature of the workload, extra classes
    </span>
    <a id="_idIndexMarker146">
    </a>
    <span class="koboSpan" id="kobo.1422.1">
     of flavors can be added to expand that list, such as high-performance storage and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1423.1">
      input/output operations per second
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1424.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1425.1">
      IOPS
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1426.1">
     ) specs.
    </span>
    <span class="koboSpan" id="kobo.1426.2">
     Storage devices have various specifications to deal with certain use cases
    </span>
    <a id="_idIndexMarker147">
    </a>
    <span class="koboSpan" id="kobo.1427.1">
     and patterns; for highly intensive workloads that require fast reads and writes,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1428.1">
      Solid-State Drive
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1429.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1430.1">
      SSD
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1431.1">
     ) disks should be considered in the hardware list, followed by a new custom flavor presenting the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1432.1">
      SSD specifica
     </span>
     <a id="_idTextAnchor086">
     </a>
     <span class="koboSpan" id="kobo.1433.1">
      tions.
     </span>
    </span>
   </p>
   <h4>
    <span class="koboSpan" id="kobo.1434.1">
     Networking estimation
    </span>
   </h4>
   <p>
    <span class="koboSpan" id="kobo.1435.1">
     Networking
    </span>
    <a id="_idIndexMarker148">
    </a>
    <span class="koboSpan" id="kobo.1436.1">
     capacity planning comes in
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1437.1">
      two categories:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1438.1">
      Network topology, and switching and routing layers to provide sufficient IP addressing of the underlying
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1439.1">
       cloud layer
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1440.1">
      Instances and overlay networking functions running on top of
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1441.1">
       the infrastructure
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1442.1">
     The first pillar would require a consistent network layout that would reflect which node would acquire a private IP, a public one, or both.
    </span>
    <span class="koboSpan" id="kobo.1442.2">
     Obviously, when putting the nodes together, as per network design, the first step is to assign each host its private IP from a given private IP pool.
    </span>
    <span class="koboSpan" id="kobo.1442.3">
     Components that would require access to the outside world, as defined in the logical draft, would use public IPs.
    </span>
    <span class="koboSpan" id="kobo.1442.4">
     That can be granted via frontend devices
    </span>
    <a id="_idIndexMarker149">
    </a>
    <span class="koboSpan" id="kobo.1443.1">
     or appliances such as load balancers
    </span>
    <a id="_idIndexMarker150">
    </a>
    <span class="koboSpan" id="kobo.1444.1">
     or routers via
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1445.1">
      Source Network Address Translation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1446.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1447.1">
      SNAT
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1448.1">
     ) and
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1449.1">
      Destination Network Address Translation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1450.1">
     (
    </span>
    <span class="No-Break">
     <strong class="bold">
      <span class="koboSpan" id="kobo.1451.1">
       DNAT
      </span>
     </strong>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1452.1">
      ) mechanisms.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1453.1">
     The second pillar captures a few factors of network capacity estimation targeting
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1454.1">
      undercloud
     </span>
    </em>
    <span class="koboSpan" id="kobo.1455.1">
     resources, which includes mainly the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1456.1">
      following assumptions:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1457.1">
      Minimum bandwidth of 50 Mbits/sec per virtual interface
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1458.1">
       per instance
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1459.1">
      Association of one floating IP
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1460.1">
       per instance
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1461.1">
      Association of one floating IP per NFV overlay function –
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1462.1">
       virtual routers
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1463.1">
      10% reserved floating IP for
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1464.1">
       future use
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1465.1">
     Another
    </span>
    <a id="_idIndexMarker151">
    </a>
    <span class="koboSpan" id="kobo.1466.1">
     essential aspect that should be considered when planning for networking is the network interfaces that will be configured in each compute node.
    </span>
    <span class="koboSpan" id="kobo.1466.2">
     As we covered a high-level design in our logical architecture draft, a few networks will be created and assigned to each interface in each host.
    </span>
    <span class="koboSpan" id="kobo.1466.3">
     This architecture will involve switching L2 configuration, typically via
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1467.1">
      Virtual Local Area Network
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1468.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1469.1">
      VLAN
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1470.1">
     ) aggregation.
    </span>
    <span class="koboSpan" id="kobo.1470.2">
     Once basic configurations
    </span>
    <a id="_idIndexMarker152">
    </a>
    <span class="koboSpan" id="kobo.1471.1">
     are in place, running some benchmarking tools is necessary to gather a few metrics on the bandwidth capacity in each switch port and the compute host interface.
    </span>
    <span class="koboSpan" id="kobo.1471.2">
     That will help to get at-a-glance network performance information for the hop between the compute host and the main physical switch port.
    </span>
    <span class="koboSpan" id="kobo.1471.3">
     As the physical bandwidth will be shared between different virtual network instance interfaces, the first value of the switch port and compute node physical interface should
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1472.1">
      be acceptable.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1473.1">
     The next consideration is taking into account three network interfaces cabled to each compute node.
    </span>
    <span class="koboSpan" id="kobo.1473.2">
     One of the network interfaces attached to the tenant network (associated with the VLAN in a dedicated switch port) will be cabled using a 10 GB physical link that will serve 200 VMs, giving 50 MBits/sec
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1474.1">
      for each.
     </span>
    </span>
   </p>
   <p class="callout-heading">
    <span class="koboSpan" id="kobo.1475.1">
     Important note
    </span>
   </p>
   <p class="callout">
    <span class="koboSpan" id="kobo.1476.1">
     L2-specific vendors’ network performance varies from one device to another.
    </span>
    <span class="koboSpan" id="kobo.1476.2">
     Make sure to measure
    </span>
    <a id="_idIndexMarker153">
    </a>
    <span class="koboSpan" id="kobo.1477.1">
     network traffic and supported
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1478.1">
      Maximum Transmission Unit
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1479.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1480.1">
      MTU
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1481.1">
     ) sizes when designing your network segmentation and
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1482.1">
      VLAN configurations.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1483.1">
     Physical network failure and performance should be highlighted as early as possible instead of waiting to be alerted.
    </span>
    <span class="koboSpan" id="kobo.1483.2">
     Including whole configurations and resetting cabling and interfaces when running in production does not sound like the most brilliant approach.
    </span>
    <span class="koboSpan" id="kobo.1483.3">
     One of the most popular networking techniques that would save cost and performance
    </span>
    <a id="_idIndexMarker154">
    </a>
    <span class="koboSpan" id="kobo.1484.1">
     ahead is
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1485.1">
      network bonding
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1486.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1486.2">
     Bonding supports two different modes:
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1487.1">
      active-backup
     </span>
    </em>
    <span class="koboSpan" id="kobo.1488.1">
     and
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1489.1">
      active-active
     </span>
    </em>
    <span class="koboSpan" id="kobo.1490.1">
     .
    </span>
    <span class="koboSpan" id="kobo.1490.2">
     The first will keep running only one network interface as active while the others are in the backup state, whereas the second involves the
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1491.1">
      link aggregation
     </span>
    </em>
    <span class="koboSpan" id="kobo.1492.1">
     concept –
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1493.1">
      Link Aggregation Control Protocol
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1494.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1495.1">
      LACP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1496.1">
     ) – where traffic will be
    </span>
    <a id="_idIndexMarker155">
    </a>
    <span class="koboSpan" id="kobo.1497.1">
     load balanced through
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1498.1">
      different interfaces.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1499.1">
     To avoid
    </span>
    <a id="_idIndexMarker156">
    </a>
    <span class="koboSpan" id="kobo.1500.1">
     network performance bottleneck surprises, the same approach can be taken with physical switches.
    </span>
    <span class="koboSpan" id="kobo.1500.2">
     A common
    </span>
    <a id="_idIndexMarker157">
    </a>
    <span class="koboSpan" id="kobo.1501.1">
     well-known technology,
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1502.1">
      Multi-Chassis Link Aggregation
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1503.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1504.1">
      MLAG
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1505.1">
     ), would transform several physical switches into one logical one, allowing FT and exposing the best-effort bandwidth to the connected
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1506.1">
      node’s ports.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1507.1">
     Empowering the network node’s performance without taking care of what capabilities the physical switching could provide would not guarantee a promising experience.
    </span>
    <span class="koboSpan" id="kobo.1507.2">
     Gathering the physical network capacity metrics in all the various layers is vital to avoid hitting unexpected
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1508.1">
      performance bottlenecks.
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1509.1">
     The second pillar of our initial network capacity planning is the floating IP pool.
    </span>
    <span class="koboSpan" id="kobo.1509.2">
     As Neutron will be our network master in the OpenStack ecosystem, we are expecting the network node to interact with different network resources, such as instances, virtual routers, and load balancers, without mentioning advanced SDN configurations that would overwhelm our initial estimations.
    </span>
    <span class="koboSpan" id="kobo.1509.3">
     Floating IPs are publicly routable (public IPs are typically
    </span>
    <a id="_idIndexMarker158">
    </a>
    <span class="koboSpan" id="kobo.1510.1">
     what you get from an
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1511.1">
      Internet Service Provider
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1512.1">
     (
    </span>
    <strong class="bold">
     <span class="koboSpan" id="kobo.1513.1">
      ISP
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1514.1">
     )).
    </span>
    <span class="koboSpan" id="kobo.1514.2">
     A floating IP request either from an instance or a network function resource such as a router or load balancer should not fail.
    </span>
    <span class="koboSpan" id="kobo.1514.3">
     Thus, we will estimate the pool
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1515.1">
      as follows:
     </span>
    </span>
   </p>
   <ul>
    <li>
     <span class="koboSpan" id="kobo.1516.1">
      200 instances per compute node: 200
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1517.1">
       floating IPs
      </span>
     </span>
    </li>
    <li>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1518.1">
       20 tenants
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1519.1">
      10 routers per tenant: 200
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1520.1">
       floating IPs
      </span>
     </span>
    </li>
    <li>
     <span class="koboSpan" id="kobo.1521.1">
      10 load balancers per tenant: 200
     </span>
     <span class="No-Break">
      <span class="koboSpan" id="kobo.1522.1">
       floating IPs
      </span>
     </span>
    </li>
   </ul>
   <p>
    <span class="koboSpan" id="kobo.1523.1">
     Adding 10% for future use will generate a pool of 660
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1524.1">
      floating IPs.
     </span>
    </span>
   </p>
   <h3>
    <span class="koboSpan" id="kobo.1525.1">
     Mixing the land
    </span>
   </h3>
   <p>
    <span class="koboSpan" id="kobo.1526.1">
     The previous capacity-planning exercise considers a mono-compute density prototype targeting a
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1527.1">
      small
     </span>
    </em>
    <span class="koboSpan" id="kobo.1528.1">
     flavor.
    </span>
    <span class="koboSpan" id="kobo.1528.2">
     The capacity-planning study could involve more than one prototype of
    </span>
    <a id="_idIndexMarker159">
    </a>
    <span class="koboSpan" id="kobo.1529.1">
     distributing the compute density, depending on your strategic business needs.
    </span>
    <span class="koboSpan" id="kobo.1529.2">
     The target layout can be extended to involve more flavors, supported in either heterogeneous or homogeneous compute density form.
    </span>
    <span class="koboSpan" id="kobo.1529.3">
     The
    </span>
    <strong class="source-inline">
     <span class="koboSpan" id="kobo.1530.1">
      nova-scheduler
     </span>
    </strong>
    <span class="koboSpan" id="kobo.1531.1">
     component can be configured, as we highlighted in a previous section, with advanced scheduling that works hand in hand with the Placement service to find the most optimal compute node.
    </span>
    <span class="koboSpan" id="kobo.1531.2">
     The same resource estimation for vCPU, RAM, and root disk can be followed to iterate through the next flavor to determine the next set of compute node groups.
    </span>
    <span class="koboSpan" id="kobo.1531.3">
     We will cover the filtering mechanisms to respond to compute requests in the most adequate way in
    </span>
    <a href="B21716_04.xhtml#_idTextAnchor125">
     <span class="No-Break">
      <em class="italic">
       <span class="koboSpan" id="kobo.1532.1">
        Chapter 4
       </span>
      </em>
     </span>
    </a>
    <span class="koboSpan" id="kobo.1533.1">
     ,
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1534.1">
      OpenStack Compute – Compute Capacity
     </span>
    </em>
    <span class="No-Break">
     <em class="italic">
      <span class="koboSpan" id="kobo.1535.1">
       and Flavors
      </span>
     </em>
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1536.1">
      .
     </span>
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1537.1">
     As illustrated in the following diagram, one way to set future boxes in the most predictable fashion is to assign each available compute node a
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1538.1">
      homogenous flavor:
     </span>
    </span>
   </p>
   <div>
    <div class="IMG---Figure" id="_idContainer022">
     <span class="koboSpan" id="kobo.1539.1">
      <img alt="Figure 1.7 – Compute node placements per flavor and workload trait" src="image/B21716_01_07.jpg"/>
     </span>
    </div>
   </div>
   <p class="IMG---Caption" lang="en-US" xml:lang="en-US">
    <span class="koboSpan" id="kobo.1540.1">
     Figure 1.7 – Compute node placements per flavor and workload trait
    </span>
   </p>
   <p>
    <span class="koboSpan" id="kobo.1541.1">
     As per the
    </span>
    <a id="_idIndexMarker160">
    </a>
    <span class="koboSpan" id="kobo.1542.1">
     scheduling configuration together with the defined traits in the Placement service, a Nova request will reach the right available compute node to accommodate a specific workload.
    </span>
    <span class="koboSpan" id="kobo.1542.2">
     This model layout would classify compute nodes per types of workloads defined in your business requirements, so the compute nodes’ capacity would be prepared in advance to expect the initial
    </span>
    <a id="_idTextAnchor087">
    </a>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1543.1">
      forecasted demand.
     </span>
    </span>
   </p>
   <h1 id="_idParaDest-44">
    <a id="_idTextAnchor088">
    </a>
    <span class="koboSpan" id="kobo.1544.1">
     Summary
    </span>
   </h1>
   <p>
    <span class="koboSpan" id="kobo.1545.1">
     Being strategic is a fundamental key to making the right decisions when it comes to how to architect a complex ecosystem such as OpenStack.
    </span>
    <span class="koboSpan" id="kobo.1545.2">
     This chapter should lower the entry barrier to start an effective plan that meets your organization’s needs.
    </span>
    <span class="koboSpan" id="kobo.1545.3">
     The approach taken should help you identify different stages to start your cloud journey.
    </span>
    <span class="koboSpan" id="kobo.1545.4">
     There is no exact rule of thumb on how to design an operational OpenStack environment but templating the design patterns for each core service and sticking to the initially collected requirements will definitely enhance the journey.
    </span>
    <span class="koboSpan" id="kobo.1545.5">
     This chapter went through the newest updates on core services in the OpenStack ecosystem within
    </span>
    <em class="italic">
     <span class="koboSpan" id="kobo.1546.1">
      Antelope
     </span>
    </em>
    <span class="koboSpan" id="kobo.1547.1">
     and later releases, and a few more projects were considered to be offered once the private cloud is up and running.
    </span>
    <span class="koboSpan" id="kobo.1547.2">
     From an architecture perspective, this chapter should be revisited during the next stages to align and update your design draft in each step.
    </span>
    <span class="koboSpan" id="kobo.1547.3">
     As we used an iterative and incremental approach for our future OpenStack cloud environment, the next chapter will take you to the next deployment stage from what we have in draft, spiced up with best practices for the
    </span>
    <span class="No-Break">
     <span class="koboSpan" id="kobo.1548.1">
      setup process.
     </span>
    </span>
   </p>
  </div>
 </body></html>