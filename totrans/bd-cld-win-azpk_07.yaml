- en: Chapter 7. Delivering PaaS – WebSites Cloud and Service Bus
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第 7 章：交付 PaaS——WebSites 云和服务总线
- en: In this chapter, we will be focusing on delivering the **PaaS** (**Platform
    as a Service**) cloud offerings of Windows Azure Pack. PaaS enables tenants and
    organizations to develop, run, and manage their applications on the cloud provider's
    platform without worrying about the infrastructure layer, such as hardware or
    the operating system.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将重点介绍 **PaaS**（**平台即服务**）云服务的 Windows Azure Pack 版本。PaaS 使租户和组织能够在云提供商的平台上开发、运行和管理他们的应用程序，而无需担心基础设施层，如硬件或操作系统。
- en: In this chapter, we will be talking about two major PaaS offerings available
    in Windows Azure Pack, which includes WebSites and Service Bus. The WAP WebSite
    cloud can be used by organizations and cloud providers to deliver website hosting
    services to internal business lines and tenants. The WAP website cloud supports
    multiple programming languages, such as ASP.NET, PHP, and Node.js.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将讨论 Windows Azure Pack 中的两大 PaaS 服务，包括 WebSites 和 Service Bus。WAP 网站云可以供组织和云提供商用来向内部业务部门和租户提供网站托管服务。WAP
    网站云支持多种编程语言，如 ASP.NET、PHP 和 Node.js。
- en: WAP websites work in a consistent manner with Azure WebSites. Tenants are responsible
    for their website's development and management, whereas platform responsibility
    lies with the cloud service provider.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: WAP 网站与 Azure WebSites 一致工作。租户负责他们网站的开发和管理，而平台的责任由云服务提供商承担。
- en: Though it looks more of like IT developers' stuff, this chapter is for IT professionals
    only. We will be focusing upon building a reliable platform, which is capable
    of hosting thousands of high density websites in a multi-tenant fashion. Any website
    development or programming will work in the same traditional web development service
    mechanism and won't be a part of the Windows Azure Pack Websites cloud.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这看起来像是 IT 开发人员的内容，但本章仅面向 IT 专业人员。我们将专注于构建一个可靠的平台，能够以多租户方式托管成千上万的高密度网站。任何网站开发或编程都将在相同的传统
    Web 开发服务机制中进行，并且不会成为 Windows Azure Pack Websites 云的一部分。
- en: Another PaaS offering of WAP is Service Bus, which provides a reliable and scalable
    messaging service. This can be used by applications to pass messages or information.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: WAP 的另一个 PaaS 服务是 Service Bus，它提供可靠且可扩展的消息传递服务。应用程序可以使用该服务传递消息或信息。
- en: 'In this chapter, we will be covering the following topics:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Overview and capabilities of the WebSites cloud
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Websites 云概述及其功能
- en: Planning the WebSites cloud platform
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 规划 WebSites 云平台
- en: Preparing the installation of Windows Azure Pack WebSites cloud
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 准备安装 Windows Azure Pack Websites 云
- en: Installing and configuring the WebSites cloud
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置 Websites 云
- en: WebSites cloud – management operations
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Websites 云——管理操作
- en: WebSites cloud – a tenant's experience
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Websites 云——租户体验
- en: Windows Azure Pack Service Bus
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows Azure Pack 服务总线
- en: Installing and configuring the Service Bus cloud farm
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置 Service Bus 云集群
- en: Overview and capabilities of the WebSites cloud
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Websites 云概述及其功能
- en: The WebSites cloud in Windows Azure Pack enables organizations and service providers
    to offer high-density web hosting services to their internal or external tenants.
    The WAP Websites cloud provides a platform to tenants to develop and run their
    websites.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 中的 Websites 云使组织和服务提供商能够为其内部或外部租户提供高密度的 Web 托管服务。WAP Websites
    云为租户提供一个平台，用于开发和运行他们的网站。
- en: WAP websites are designed to provide services at a web scale, hosting thousands
    of websites with flexibilities and capabilities in terms of scalability, granular
    control, and metering. The WebSites cloud platform is made up by combining capabilities
    and features of Windows server, IIS, SQL database, and many third-party and open
    source technologies.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: WAP 网站旨在以 Web 规模提供服务，托管成千上万的网站，具备灵活性和可扩展性，在可扩展性、精细控制和计量方面具有能力。WebSites 云平台通过结合
    Windows 服务器、IIS、SQL 数据库以及许多第三方和开源技术构成。
- en: WAP websites capabilities from the service provider's point of view
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从服务提供商的角度看 WAP 网站功能
- en: 'Windows Azure Pack websites provide a similar experience to that of Microsoft
    Azure''s website, which is one of the largest website hosting service providers.
    The Websites service works on a distributed architecture that offers scalability
    and eliminates any single point of failure. Let''s have a look at the capabilities
    and features that the WAP websites cloud offers for service providers:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 网站提供与 Microsoft Azure 网站类似的体验，后者是全球最大的网页托管服务提供商之一。该网站服务基于分布式架构，提供可扩展性，并消除了任何单点故障。让我们看看
    WAP 网站云为服务提供商提供的功能和特性：
- en: '**High density and scalability**: WAP websites are designed to run tens of
    thousands and more websites in a single farm with flexible scaling decisions.
    Service providers can start with a small farm and add more resources at a later
    stage as per requirement without any interruption to the services.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**高密度和可扩展性**：WAP 网站设计为可以在单一农场中运行数万个及更多网站，并具有灵活的扩展决策。服务提供商可以从一个小型农场开始，根据需求在后期添加更多资源，而不会中断服务。'
- en: '**Multi tenancy**: WAP websites services are multi tenant in nature and provide
    isolated services with granular control and self-service to tenants on shared
    platforms. Reserved, also known as dedicated servers, can also be provided to
    tenants.'
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**多租户**：WAP 网站服务本质上是多租户的，并为租户提供隔离服务、细粒度的控制和自助服务。还可以为租户提供保留服务器（即专用服务器）。'
- en: '**Simple and faster deployment and management**: Simplicity is one of the key
    requirements from IT solutions in today''s world. WAP websites are easy, fast,
    and hassle free to deploy, manage, and scale.'
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单且更快的部署和管理**：简便性是当今 IT 解决方案的关键要求之一。WAP 网站易于部署、管理和扩展，且不繁琐。'
- en: '**Automatic and self service**: WAP websites provide automated platform and
    websites deployment in a self-service manner for both cloud administrators and
    tenants.'
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动化和自助服务**：WAP 网站提供自动化平台和网站部署功能，以自助服务的方式为云管理员和租户提供服务。'
- en: '**Application and framework support**: WAP websites support a wide range of
    frameworks and programming languages without any extra administrative burden.
    This includes both Microsoft and third-party frameworks along with open source
    technologies. WAP websites support frameworks and technologies, such as ASP.NET,
    classic ASP, PHP, Node.js, and more with source control using GitHub, Bitbucket,
    Dropbox, and Team Foundation Server. Along with applications and programming language
    support, it also provides a Web App Gallery having preconfigured website templates
    and application templates.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用程序和框架支持**：WAP 网站支持广泛的框架和编程语言，无需额外的管理负担。这包括微软和第三方框架以及开源技术。WAP 网站支持的框架和技术有
    ASP.NET、经典 ASP、PHP、Node.js 等，并且支持使用 GitHub、Bitbucket、Dropbox 和 Team Foundation
    Server 的源代码控制。除了应用程序和编程语言支持外，它还提供了一个 Web 应用库，里面有预配置的网站模板和应用程序模板。'
- en: '**Flexible service levels**: By default, Windows Azure Pack Websites provide
    multiple service levels, such as shared or dedicated servers for tenants. Customers
    can choose their website scale between shared and reserved mode as per requirements.'
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**灵活的服务级别**：默认情况下，Windows Azure Pack 网站提供多个服务级别，如共享或专用服务器供租户选择。客户可以根据需求在共享模式和保留模式之间选择网站的规模。'
- en: '**Granual QOS and metering**: Windows Azure Pack plans for websites provide
    a granular level of quality of service control. This ensures that tenants get
    their required resources as per contract even if it''s running in shared mode.
    All these service levels are delivered with a strong metering mechanism for chargeback.'
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**细粒度的服务质量和计量**：Windows Azure Pack 网站计划提供细粒度的服务质量控制。这确保了租户即使在共享模式下运行，也能根据合同获得所需的资源。所有这些服务级别都通过强大的计量机制来实现费用返还。'
- en: '**Resilient distributed architecture**: WAP websites work in a distributed
    architecture spread across multiple roles and servers with full resiliency eliminating
    any single point of failure.'
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可靠的分布式架构**：WAP 网站在分布式架构中工作，分布在多个角色和服务器上，具有完整的冗余性，消除了任何单点故障。'
- en: '**Hypervisor agnostic**: Websites cloud services require Windows Server 2012
    or 2012 R2 operating to run, which can be hosted on any supported hypervisors
    or physical servers.'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**虚拟化平台无关性**：网站云服务要求运行 Windows Server 2012 或 2012 R2 操作系统，这可以在任何支持的虚拟化平台或物理服务器上托管。'
- en: Note
  id: totrans-29
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Although, Windows Server 2012 is supported for hosting WAP websites servers,
    it is recommended to use Windows Server 2012 R2 with the latest Windows updates.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管 Windows Server 2012 支持托管 WAP 网站服务器，但建议使用 Windows Server 2012 R2，并安装最新的 Windows
    更新。
- en: WAP websites overview and capabilities from a tenant's point of view
  id: totrans-31
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 从租户角度来看WAP网站概述和功能
- en: 'Apart from typical cloud computing benefits, WAP websites service offers the
    following capabilities and benefits for tenants:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 除了典型的云计算优势外，WAP网站服务还为租户提供以下功能和好处：
- en: '**Simple and faster website provisioning and management**: In a traditional
    IT delivery mechanism, a website platform deployment is likely to take days to
    get the web up and running. This platform deployment includes infrastructure level
    readiness, an operating system, and middleware or web server deployment. With
    WAP websites, tenants can have the website up and running in just a few clicks.
    This enables tenants to focus more on web development pieces instead of platforms.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简单且更快速的网站配置和管理**：在传统的IT交付机制中，网站平台部署通常需要几天才能使网站上线。此平台部署包括基础设施级别的准备、操作系统和中间件或Web服务器部署。而使用WAP网站，租户只需几次点击即可将网站上线。这使租户能够更多地专注于网站开发，而非平台建设。'
- en: '**Scalability**: Scalability in traditional deployment models is the most challenging
    aspect. Windows Azure Pack eliminates this by providing easy scale in and out
    with just a few clicks. Tenants may choose to have more servers during peak hours
    or days only in a very easy and cost-effective manner.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可扩展性**：传统部署模型中的可扩展性是最具挑战性的方面。Windows Azure Pack通过提供简单的横向扩展和缩减功能，仅需几次点击即可消除这一问题。租户可以仅在高峰时段或高峰日以非常简单且具成本效益的方式选择增加更多服务器。'
- en: '**Self service**: Windows Azure Pack websites service operations, such as provisioning
    and administration, which are available through an easy-to-use, self-service portal,
    eliminating any possible errors and delay due to human interaction.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自助服务**：Windows Azure Pack网站服务操作，如配置和管理，均通过易于使用的自助服务门户提供，从而消除了因人工操作而可能导致的任何错误和延迟。'
- en: '**A wide range of frameworks and programming options**: Tenants are free to
    choose a development framework as per their necessity and choice. WAP supports
    multiple application frameworks, such as ASP .NET, PHP, Node.js, and more.'
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**广泛的框架和编程选项**：租户可以根据自己的需求和选择自由选择开发框架。WAP支持多种应用框架，例如ASP .NET、PHP、Node.js等。'
- en: '**Flexible development and deployment tools**: WAP supports a wide range of
    development and deployment tools including Visual Studio, FTP, WebDeploy, GIT,
    Bitbucket, Dropbox, Team Foundation Server, and more.'
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**灵活的开发和部署工具**：WAP支持多种开发和部署工具，包括Visual Studio、FTP、WebDeploy、GIT、Bitbucket、Dropbox、Team
    Foundation Server等。'
- en: '**The web app gallery**: The web app gallery available in Windows Azure Pack
    has a wide range of preconfigured website templates and popular web applications
    from Microsoft, third-party vendors, and open source. Tenants can leverage these
    to develop websites faster and in an efficient manner.'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web应用画廊**：Windows Azure Pack中提供的Web应用画廊包含多种预配置的网站模板和来自Microsoft、第三方供应商以及开源的流行Web应用。租户可以利用这些资源更快速、高效地开发网站。'
- en: WAP WebSites – architecture
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: WAP网站 – 架构
- en: The WebSites cloud solution consists of multiple roles and runs on multiple
    servers. All servers are based on Windows Server 2012 R2 (2012 is also supported).
    The overall solution makes use of Windows server capabilities, such as the dynamic
    **Windows Process Activation Service**, resource throttling, IIS, and more along
    with SQL database and website roles. Let's dive deeper into the architectural
    components of WebSites cloud solution.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 网站云解决方案由多个角色组成，并运行在多个服务器上。所有服务器都基于Windows Server 2012 R2（也支持2012版本）。整体解决方案利用了Windows服务器的功能，如动态**Windows进程激活服务**、资源限流、IIS等，以及SQL数据库和网站角色。让我们深入探讨WebSites云解决方案的架构组件。
- en: WebSites cloud service roles
  id: totrans-41
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网站云服务角色
- en: 'Windows Azure Pack-based websites cloud service consist of a minimum of six
    server roles:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 基于Windows Azure Pack的网站云服务至少由六个服务器角色组成：
- en: '**WebSites controller**: This role deploys and manages other roles. This is
    the first role to install, and it contains all media, setup, and configurations
    used for deploying and configuring other roles.'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**WebSites控制器**：此角色用于部署和管理其他角色。这是首个安装的角色，包含所有媒体、设置和用于部署及配置其他角色的配置。'
- en: '**WebSites management server**: This role communicates with Windows Azure Pack
    management portals and APIs. It exposes a **Representational State Transfer**
    (**REST**) endpoint that is used by WAP to connect and communicate with Website
    cloud platforms. All website provisioning operations are performed via this management
    server.'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站管理服务器**：此角色与 Windows Azure Pack 管理门户和 API 通信。它暴露了一个 **表述性状态转移**（**REST**）端点，WAP
    使用该端点连接并与网站云平台通信。所有网站的供应操作通过此管理服务器执行。'
- en: '**Web worker**: This role hosts and runs tenants'' websites. Client requests
    for websites are processed by web workers only. Web worker servers can work in
    shared or reserved mode. In shared mode, one web worker role handles website requites
    for multiple tenants, whereas in the case of reserved, it''s dedicated to a single
    tenant.'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web 工作者**：此角色承载并运行租户的网站。网站的客户端请求仅由 Web 工作者处理。Web 工作者服务器可以以共享模式或专用模式工作。在共享模式下，一个
    Web 工作者角色处理多个租户的网站请求，而在专用模式下，它专门为单一租户服务。'
- en: '**The front end role**: This role accepts the client''s requests, routes to
    the worker role for processing, and returns the response to the client. One front
    end server can route requests to multiple web worker roles along with load balancing
    capabilities. Front end servers are also responsible for SSL termination.'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**前端角色**：此角色接受客户端请求，将其路由到工作角色进行处理，并将响应返回给客户端。一个前端服务器可以将请求路由到多个 Web 工作者角色，并具有负载均衡能力。前端服务器还负责
    SSL 终止。'
- en: '**File server**: A file server is a Windows-based file server role and is used
    to store files for hosting website content. Files include application and data
    content for all the websites hosted in the website''s cloud. Websites leverage
    the File Server Resource Manager feature of Windows file servers for managing
    files for websites'' hosting.'
  id: totrans-47
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件服务器**：文件服务器是一个基于 Windows 的文件服务器角色，用于存储托管网站内容的文件。这些文件包括所有托管在网站云中的网站的应用程序和数据内容。网站使用
    Windows 文件服务器的文件服务器资源管理器功能来管理网站的托管文件。'
- en: '**Publisher role**: This role publishes content to the website''s farm via
    FTP clients, Visual Studio, and WebMatrix. Publisher role uses FTP and Web Deploy
    protocols. Tenants use the publish server to upload and publish their website''s
    content.'
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布者角色**：此角色通过 FTP 客户端、Visual Studio 和 WebMatrix 将内容发布到网站的农场。发布者角色使用 FTP 和
    Web Deploy 协议。租户使用发布服务器上传并发布其网站内容。'
- en: WAP Websites – database roles
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: WAP 网站 – 数据库角色
- en: 'Just as any other Microsoft product, WAP websites cloud leverages the Microsoft
    SQL Server for its database necessities. The WAP website''s database requirements
    can be alienated in three categories:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 就像其他任何 Microsoft 产品一样，WAP 网站云平台利用 Microsoft SQL Server 处理其数据库需求。WAP 网站的数据库需求可以分为三个类别：
- en: '**The website''s run time database**: This database hosts the run time database
    and configuration for the tenant''s websites. This must be a Microsoft SQL Server
    based database.'
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站运行时数据库**：此数据库托管租户网站的运行时数据库和配置。它必须是基于 Microsoft SQL Server 的数据库。'
- en: '**Application database or tenants DB**: This database is used by tenants to
    host websites'' data. This isn''t a mandatory requirement and depends upon the
    tenant''s website architecture and requirement. Tenant must subscribe to database
    services of WAP to use this. This can be a MS SQL or MySQL based database as per
    web application support.'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**应用程序数据库或租户数据库**：此数据库由租户用于托管网站数据。这不是强制性要求，取决于租户的网站架构和需求。租户必须订阅 WAP 的数据库服务才能使用此功能。根据
    Web 应用程序支持，它可以是基于 MS SQL 或 MySQL 的数据库。'
- en: '**Service management API database**: This database is used by the WAP service
    management API to store configuration data. It is the same database that we used
    while configuring Windows Azure Pack installation in [Chapter 3](part0033_split_000.html#VF2I1-b479cf466c26404ca54119871a9b2715
    "Chapter 3. Installing and Configuring Windows Azure Pack"), *Installing and Configuring
    Windows Azure Pack*. This must be a Microsoft SQL Server-based database.'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**服务管理 API 数据库**：此数据库由 WAP 服务管理 API 用于存储配置信息。它与我们在 [第 3 章](part0033_split_000.html#VF2I1-b479cf466c26404ca54119871a9b2715
    "第 3 章 安装和配置 Windows Azure Pack") 中配置 Windows Azure Pack 安装时使用的数据库相同，*安装和配置 Windows
    Azure Pack*。这必须是基于 Microsoft SQL Server 的数据库。'
- en: Planning the WebSites cloud platform
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网站云平台规划
- en: In this topic, we will discuss about planning factors and best practices for
    the website's cloud platform in terms of capacity, resiliency, and more.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在本主题中，我们将讨论网站云平台的容量、弹性等方面的规划因素和最佳实践。
- en: Planning for resiliency
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 弹性规划
- en: Windows Azure Pack Websites cloud solution can be protected against failures
    by adding redundant servers at each role or layer. Adding additional server for
    redundancy is quite an easy and simple process.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack网站云解决方案可以通过在每个角色或层级添加冗余服务器来保护免受故障影响。为冗余添加额外服务器是一个相对简单的过程。
- en: 'Following are the resiliency recommendations for each role:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是每个角色的冗余建议：
- en: '**WebSites roles**: This role can be protected against failure by deploying
    additional servers for redundancy:'
  id: totrans-59
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站角色**：通过部署额外的服务器以提供冗余，可以保护此角色免受故障影响：'
- en: '**Controller servers**: A maximum of two controller servers can be provisioned
    in a WAP website''s deployment. This provides high availability at the controller
    layer.'
  id: totrans-60
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**控制器服务器**：WAP网站部署中最多可以配置两台控制器服务器，这提供了控制器层的高可用性。'
- en: '**Management and publisher**: For the management and publisher role, it is
    recommended to have a minimum of two servers hosting this to provide resiliency.
    Additional servers can also be added as per scalability requirements.'
  id: totrans-61
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理和发布**：对于管理和发布角色，建议至少部署两台服务器来提供冗余。根据扩展需求，也可以添加更多服务器。'
- en: '**Front end**: Two front end servers can be deployed for providing high availability;
    however, more than two front end deployments are also supported for capacity and
    load balancing. Load balancers should be configured for client access requests
    load balancing to front end servers.'
  id: totrans-62
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**前端**：可以部署两台前端服务器以提供高可用性；然而，也支持部署多于两台前端服务器以满足容量和负载均衡需求。负载均衡器应配置用于前端服务器的客户端访问请求负载均衡。'
- en: '**Web worker role**: It is recommended to have a minimum of four web worker
    roles—two for shared hosting and two for reserved. Additional worker roles can
    be deployed as per scalability requirements.'
  id: totrans-63
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web工作角色**：建议至少配置四个Web工作角色——两个用于共享托管，两个用于保留托管。根据扩展需求，可以部署更多工作角色。'
- en: '**File servers**: It is recommended to use a preconfigured Windows-based File
    Server Cluster for the WAP websites cloud usage for production environments. Note
    that the Sale-out File Server cluster isn''t supported for the website''s cloud
    usage as it requires the File Server Resource Manager to function.'
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件服务器**：建议在生产环境中为WAP网站云使用预配置的基于Windows的文件服务器集群。请注意，Sale-out文件服务器集群不支持网站云使用，因为它需要文件服务器资源管理器才能运行。'
- en: '**SQL servers**: For production environments, it is recommended to use a database
    server that is configured with SQL level cluster technologies such as SQL server
    cluster or SQL Server Always On.'
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SQL服务器**：对于生产环境，建议使用配置了SQL级集群技术的数据库服务器，如SQL服务器集群或SQL服务器Always On。'
- en: It is also recommended to host the website's cloud role in virtual machines
    to take advantage of high-level, hypervisor availability techniques.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 还建议将网站云角色托管在虚拟机中，以利用高级的虚拟化可用性技术。
- en: Planning for capacity
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 容量规划
- en: 'Windows Azure Pack websites cloud solution can be easily scaled in and out
    as per capability requirements. The following guidelines provide basic design
    consideration while planning for capacity:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack网站云解决方案可以根据能力需求轻松进行扩展。以下指南在规划容量时提供了基本的设计考虑：
- en: '**WebSites Roles**:'
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网站角色**：'
- en: '**Controller servers**: A controller server does not require much compute,
    network, or storage resources since it is used only for provisioning other roles.
    Standard sizing includes two virtual CPUs and four or eight Gig RAM with decent
    storage space to host OS. The controller should suffice these requirements.'
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**控制器服务器**：控制器服务器不需要太多的计算、网络或存储资源，因为它只用于配置其他角色。标准配置包括两个虚拟CPU和四个或八个GB的内存，以及足够的存储空间来托管操作系统。该控制器应满足这些要求。'
- en: '**Management**: This role handles communication between WAP and WebSites cloud.
    This server doesn''t require much resources unless multiple simultaneous provisioning
    operations are initiated.'
  id: totrans-71
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**管理**：此角色负责处理WAP与WebSites云之间的通信。除非启动多个同时的配置操作，否则此服务器不需要太多资源。'
- en: '**Front end**: The front end server routes all the website''s access requests
    to worker rules. For a better load sharing, it is recommended to deploy multiple
    front end servers. As per Microsoft guidelines, one core can handle 100 requests
    per second. Compute power for the front end can be sized using this value, considering
    peak hours as one additional factor.'
  id: totrans-72
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**前端服务器**：前端服务器将所有网站的访问请求路由到工作节点。为了更好的负载均衡，建议部署多个前端服务器。根据 Microsoft 的指南，单个核心每秒可以处理
    100 个请求。可以根据这个值来规划前端的计算能力，并将高峰时段作为一个附加因素来考虑。'
- en: '**Publisher server**: Publisher server usually experiences high compute utilization
    only when multiple publishing operations are initiated by tenants.'
  id: totrans-73
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布服务器**：发布服务器通常只有在多个发布操作被租户发起时，才会经历较高的计算利用率。'
- en: '**Web worker role**: This role is the most resource-intensive role in WebSites
    cloud since all websites are hosted on these servers. It is recommended to deploy
    multiple servers for a web worker role. Memory for web worker roles needs to be
    planned as per the number of active websites at a single point of time. As per
    Microsoft recommendations, average memory footprint in a production environment
    for one website is 70 MB. It''s a good idea to plan memory considering the number
    of regular active websites along with peak hours or day values.'
  id: totrans-74
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Web 工作节点角色**：此角色是 WebSites 云中资源消耗最重的角色，因为所有网站都托管在这些服务器上。建议为 Web 工作节点角色部署多个服务器。Web
    工作节点角色的内存需求需要根据单次活动中活跃网站的数量进行规划。根据 Microsoft 的建议，生产环境中每个网站的平均内存占用是 70 MB。建议根据常规活跃网站的数量以及高峰时段或日值来规划内存。'
- en: '**File server**: A file server hosts all the content and applications of websites
    running in farm and is disk IO intensive. It is recommended to use disks with
    a higher number of IOPS for file servers.'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件服务器**：文件服务器托管运行在农场中的所有网站内容和应用程序，并且具有较高的磁盘 IO 强度。建议使用具有更高 IOPS 的磁盘来作为文件服务器。'
- en: '**SQL Server**: As per Microsoft''s guidelines, SQL memory should be sized
    as four GB per 30,000 provisioned websites. It is recommended to take extra memory,
    and the SQL performance is mostly dependent on the available memory. Four GB of
    disk space per 10 K websites is required.'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**SQL Server**：根据 Microsoft 的指南，SQL 的内存应该按每 30,000 个预配网站分配 4 GB。建议预留更多内存，因为
    SQL 性能主要取决于可用内存。每 10,000 个网站需要 4 GB 的磁盘空间。'
- en: Domain versus workgroup for WebSites server roles
  id: totrans-77
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网站服务器角色的域与工作组
- en: Windows Azure Pack websites roles can be deployed in both domain and workgroup
    environments. It is recommended to use domain-joined servers in production deployments
    to take advantage of AD capabilities, such as secure authentication with Kerberos
    and simple user management along with better control with Group policies. Work
    group servers can be used for test and development environments.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 网站角色可以在域环境和工作组环境中部署。建议在生产环境中使用加入域的服务器，以利用 AD 功能，如通过 Kerberos
    进行安全认证、简化用户管理以及通过组策略实现更好的控制。工作组服务器可用于测试和开发环境。
- en: Preparing the installation of Windows Azure Pack WebSites cloud
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备 Windows Azure Pack WebSites 云的安装
- en: Before starting the installation and configuration of WAP websites cloud, there
    are multiple prerequisites that need to be fulfilled. Let's have a look at them.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始安装和配置 WAP 网站云之前，需要满足多个前提条件。我们来看一下这些条件。
- en: Preparing Windows servers
  id: totrans-81
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备 Windows 服务器
- en: All servers designated to host websites cloud components must be running Windows
    Server 2012 or 2012 R2 operating system. It is recommended to patch the server
    with latest updates. It is advised to use a clean installation of the operating
    system.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 所有指定托管网站云组件的服务器必须运行 Windows Server 2012 或 2012 R2 操作系统。建议将服务器更新到最新的补丁。建议使用全新安装的操作系统。
- en: 'Enable Windows Remote Management on all servers. Create inbound an access firewall
    rule for the following services for publisher and front end servers:'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有服务器上启用 Windows 远程管理。为发布服务器和前端服务器创建以下服务的入站访问防火墙规则：
- en: File and printer sharing (SMB-In)
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件和打印共享（SMB-In）
- en: Windows Management Instrumentation (WMI-In)
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows 管理工具（WMI-In）
- en: 'On all the server''s user account control must be disabled for remote operations.
    This can be performed by adding the following registry key. Server must be restarted
    post adding the following registry key:'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 所有服务器的用户帐户控制必须禁用，以便进行远程操作。这可以通过添加以下注册表项来完成。添加该注册表项后，服务器必须重新启动：
- en: '`reg add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\system /v
    LocalAccountTokenFilterPolicy /t REG_DWORD /d 1 /f`'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: '`reg add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\system /v
    LocalAccountTokenFilterPolicy /t REG_DWORD /d 1 /f`'
- en: Tip
  id: totrans-88
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Adding the previous registry key does not affect the local UAC configuration.
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 添加上述注册表键不会影响本地 UAC 配置。
- en: Preparing DNS records
  id: totrans-90
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备 DNS 记录
- en: 'Windows Azure Pack websites requires DNS records to do the following:'
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 网站需要 DNS 记录来执行以下操作：
- en: '**Access websites**: By Default, each website hosted in Windows Azure Pack
    websites contains a DNS suffix configured by the service provider. This DNS suffix
    needs to point to front end servers for the website''s name resolution. For example,
    FQDN for a website named ''abc'' in a website cloud having a DNS suffice ''xyz.com''
    would be ''abc.xyz.com''. The service provider needs to plan and decide the DNS
    suffix and create necessary zones in internal or public DNS server.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**访问网站**：默认情况下，每个托管在 Windows Azure Pack 网站中的网站都包含一个由服务提供商配置的 DNS 后缀。该 DNS 后缀需要指向前端服务器，以进行网站的名称解析。例如，在网站云中，名为
    ''abc'' 的网站使用 DNS 后缀 ''xyz.com''，则其 FQDN 为 ''abc.xyz.com''。服务提供商需要规划和决定 DNS 后缀，并在内部或公共
    DNS 服务器中创建必要的区域。'
- en: '**Develop/Publish**: This record is used by tenants to upload and publish the
    website''s content. Two ''CNAME'' records are required for this, and they point
    to the publisher server.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发/发布**：此记录供租户上传和发布网站内容。为此，需要两个 ''CNAME'' 记录，它们指向发布服务器。'
- en: 'Overall, the following DNS records need to be created in DNS Server for websites
    cloud to function:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 总体而言，以下 DNS 记录需要在 DNS 服务器中创建，以确保网站云的正常运行：
- en: '| Name | IP Address | Usage |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '| 名称 | IP 地址 | 用途 |'
- en: '| --- | --- | --- |'
  id: totrans-96
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- |'
- en: '| * | Front End Server(s) | For accessing websites |'
  id: totrans-97
  prefs: []
  type: TYPE_TB
  zh: '| * | 前端服务器 | 访问网站 |'
- en: '| *.scm | Front End Server(s) | For Content publishing via Git |'
  id: totrans-98
  prefs: []
  type: TYPE_TB
  zh: '| *.scm | 前端服务器 | 通过 Git 发布内容 |'
- en: '| ftp | Publisher Server(s) | For publishing content via Web Deploy or FTP
    |'
  id: totrans-99
  prefs: []
  type: TYPE_TB
  zh: '| ftp | 发布服务器 | 通过 Web Deploy 或 FTP 发布内容 |'
- en: '| publisher | Publisher Server(s) | For publishing content via Web Deploy or
    FTP |'
  id: totrans-100
  prefs: []
  type: TYPE_TB
  zh: '| publisher | 发布服务器 | 通过 Web Deploy 或 FTP 发布内容 |'
- en: Preparing a SQL server for the WebSites cloud database
  id: totrans-101
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 为网站云数据库准备 SQL 服务器
- en: 'The following database configuration needs must be met while using the SQL
    Server for the WebSite''s cloud:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 SQL 服务器进行网站云时，必须满足以下数据库配置要求：
- en: The SQL version must be SQL Server 2012 SP1 or later. The Express edition can
    be used for evaluation; the full edition is required for production. The database
    server must be reachable from all nodes.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: SQL 版本必须是 SQL Server 2012 SP1 或更高版本。可以使用 Express 版本进行评估；生产环境中需要使用完整版。数据库服务器必须能够从所有节点访问。
- en: The necessary clustering technologies must be configured as per the design such
    as SQL Cluster or Always On.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须根据设计配置必要的集群技术，如 SQL 集群或 Always On。
- en: Mixed mode authentication must be enabled.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 必须启用混合模式身份验证。
- en: If using the names instance, the SQL browser service needs to be started manually
    along with opening the 1434 port.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果使用命名实例，SQL 浏览器服务需要手动启动，并且需要打开 1434 端口。
- en: Preparing SSL certificates
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备 SSL 证书
- en: By default, Windows Azure Pack Websites generate and install self-signed certificates
    for websites cloud. It is not recommended to use self-signed certificates in a
    production environment. You can use internal CA to issues the following certificates
    for an internal private cloud. For service providers, it is recommend to get the
    SSL issued by the public trusted CA.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，Windows Azure Pack 网站会为网站云生成并安装自签名证书。建议在生产环境中不要使用自签名证书。您可以使用内部 CA 为内部私有云颁发以下证书。对于服务提供商，建议从公共信任的
    CA 获取 SSL 证书。
- en: 'The following two SSL certificates are required in a WAP solution:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在 WAP 解决方案中需要以下两个 SSL 证书：
- en: '**Default Domain certificate**: These are used while accessing websites and
    source control. Since this certificate is used by all tenants'' websites, it needs
    to be a wildcard and must be in the `.pfx` format. This certificate is placed
    at the front end servers. The following subject names need to be configured as
    per the service provider''s naming convention:'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认域证书**：这些证书在访问网站和源代码管理时使用。由于该证书被所有租户的网站使用，因此它需要是一个通配符证书，并且必须是 `.pfx` 格式。该证书会放置在前端服务器上。根据服务提供商的命名约定，以下主题名称需要进行配置：'
- en: '`*.dnssuffix.com`'
  id: totrans-111
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`*.dnssuffix.com`'
- en: '`*.scm.dnssuffix.com`'
  id: totrans-112
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`*.scm.dnssuffix.com`'
- en: '**Publishing certificate**: Publishing SSL certificates is used to provide
    secure communication to developers for uploading or publishing the website''s
    content via FTP or Web Deploy. This certificate needs to be placed at the publishing
    server and should contain the following SAN names as per the service provider''s
    naming convention:'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**发布证书**：发布 SSL 证书用于为开发者提供安全通信，以便通过 FTP 或 Web Deploy 上传或发布网站内容。该证书需要放置在发布服务器上，并应根据服务提供商的命名约定包含以下
    SAN 名称：'
- en: '`Publish.dnssuffix.com`'
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Publish.dnssuffix.com`'
- en: '`ftp.dnssuffix.com`'
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`ftp.dnssuffix.com`'
- en: Tip
  id: totrans-116
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Wild certificates used for default domain certificates can also be used for
    publishing since it contains the same parent domain name.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 用于默认域证书的通配符证书也可以用于发布，因为它包含相同的父域名。
- en: Preparing file servers
  id: totrans-118
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备文件服务器
- en: 'Windows Azure Pack websites support both the standalone and preconfigured File
    Server Cluster or NAS device. It is recommended to use a File Server Cluster or
    a NAS device in a production deployment to achieve high availability and better
    performance. The following steps are required to configure a File Server Cluster
    for WAP websites:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack 网站支持独立部署和预配置的文件服务器集群或 NAS 设备。建议在生产环境中使用文件服务器集群或 NAS 设备，以实现高可用性和更好的性能。以下步骤是为
    WAP 网站配置文件服务器集群所需的：
- en: Configure the File Server Cluster or the NAS device.
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 配置文件服务器集群或 NAS 设备。
- en: Create user accounts and groups (for file share owners and users).
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建用户帐户和组（用于文件共享所有者和用户）。
- en: Enable **WinRM** (**Windows Remote Management**) and **FSRM** (**File Server
    Resource Manager**).
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启用 **WinRM**（**Windows 远程管理**）和 **FSRM**（**文件服务器资源管理器**）。
- en: Provision Content Shares and Certificate Store Shares using standard file server
    operations.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用标准文件服务器操作来提供内容共享和证书存储共享。
- en: Add the `FileShareOwners` group to the local Administrators group of the file
    server to enable WinRM.
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将 `FileShareOwners` 组添加到文件服务器的本地管理员组中，以启用 WinRM。
- en: Configure the access control to share as per the provisioned user account and
    group.
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 根据配置的用户帐户和组来配置共享的访问控制。
- en: Installing and configuring the WebSite cloud
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置网站云
- en: Microsoft Web Platform Installer is used to download and install websites cloud
    components. See [Chapter 3](part0033_split_000.html#VF2I1-b479cf466c26404ca54119871a9b2715
    "Chapter 3. Installing and Configuring Windows Azure Pack"), *Installing and Configuring
    Windows Azure Pack* to know more on the Web Platform Installer.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Microsoft Web Platform Installer 用于下载和安装网站云组件。请参阅[第 3 章](part0033_split_000.html#VF2I1-b479cf466c26404ca54119871a9b2715
    "Chapter 3. Installing and Configuring Windows Azure Pack")，*安装和配置 Windows Azure
    Pack*，以了解更多有关 Web Platform Installer 的信息。
- en: Before starting installation, verify that all the design decisions and planning
    is made and prerequisites are completed.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始安装之前，确认所有设计决策和规划已完成，并且前提条件已满足。
- en: First, the controller server is installed, and later, it is used to install
    and configure other roles. The installation of the controller server also installs
    one management console for Windows Azure Pack websites, which can be used to install
    and configure other server roles in conjunction with the WAP service management
    portal.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 首先安装控制器服务器，之后它将用于安装和配置其他角色。控制器服务器的安装还会安装一个用于 Windows Azure Pack 网站的管理控制台，该控制台可以与
    WAP 服务管理门户结合使用，以安装和配置其他服务器角色。
- en: Installing and configuring controller and management servers
  id: totrans-130
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装和配置控制器及管理服务器
- en: 'The following steps outline the installation and configuration process for
    the controller and management servers:'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤概述了控制器和管理服务器的安装和配置过程：
- en: Log into the server designated for the WebSites controller.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录到指定的 WebSites 控制器服务器。
- en: Run the Microsoft Web PI.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行 Microsoft Web PI。
- en: Search for Windows Azure Pack WebSites.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 搜索 Windows Azure Pack WebSites。
- en: 'Select **Windows Azure Pack: WebSiteVersion2 Update 7** (the latest version
    available at the time of writing this book).'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '选择 **Windows Azure Pack: WebSiteVersion2 Update 7**（本书写作时可用的最新版本）。'
- en: Tip
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Installing controller servers includes downloading all media required for deploying
    and configuring other roles.
  id: totrans-137
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 安装控制器服务器包括下载部署和配置其他角色所需的所有媒体。
- en: '![Installing and configuring controller and management servers](img/00148.jpeg)'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![安装和配置控制器及管理服务器](img/00148.jpeg)'
- en: Click on **Install** to proceed.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 **安装** 以继续。
- en: The WebSites installer will be downloaded, installed, and launched automatically.![Installing
    and configuring controller and management servers](img/00149.jpeg)
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: WebSites 安装程序将自动下载、安装并启动。![安装和配置控制器与管理服务器](img/00149.jpeg)
- en: Click on **Install Websites Controller**.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**安装网站控制器**。
- en: Accept the agreement and proceed further.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受协议并继续。
- en: Verify all the Microsoft and third-party components to be installed. You can
    choose to install locally or download them for installation on another server.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证所有需要安装的 Microsoft 和第三方组件。你可以选择本地安装，或将它们下载到另一台服务器进行安装。
- en: The installation will proceed; wait for the download and installation to finish.![Installing
    and configuring controller and management servers](img/00150.jpeg)
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装将继续进行；等待下载和安装完成。![安装和配置控制器与管理服务器](img/00150.jpeg)
- en: Click on **Configure** to start configuring the controller deployment.![Installing
    and configuring controller and management servers](img/00151.jpeg)
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**配置**以开始配置控制器部署。![安装和配置控制器与管理服务器](img/00151.jpeg)
- en: Clicking on **Configure** will launch the Windows Azure Pack WebSites Management
    console. All the other website's roles can be installed and configured using this
    wizard or the WAP management portal.![Installing and configuring controller and
    management servers](img/00152.jpeg)
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**配置**将启动 Windows Azure Pack 网站管理控制台。所有其他网站角色可以通过此向导或 WAP 管理门户进行安装和配置。![安装和配置控制器与管理服务器](img/00152.jpeg)
- en: Select **Controller type**; since we are deploying the first controller server,
    it will be the primary controller in our case.
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**控制器类型**；由于我们正在部署第一个控制器服务器，它将在我们的案例中作为主控制器。
- en: Select **File server type**. Selecting the file server will display additional
    options including hosting database configuration and other system setting, such
    as DNS suffix, credentials, and more.![Installing and configuring controller and
    management servers](img/00153.jpeg)
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**文件服务器类型**。选择文件服务器后，会显示额外选项，包括托管数据库配置和其他系统设置，如 DNS 后缀、凭据等。![安装和配置控制器与管理服务器](img/00153.jpeg)
- en: Enter the database configuration for both hosting and metering databases.![Installing
    and configuring controller and management servers](img/00154.jpeg)
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入托管和计量数据库的配置。![安装和配置控制器与管理服务器](img/00154.jpeg)
- en: Provide the DNS suffix and automatic updates for websites, and send the usage
    information to Microsoft settings.![Installing and configuring controller and
    management servers](img/00155.jpeg)
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供 DNS 后缀和网站的自动更新，并将使用信息发送到 Microsoft 设置。![安装和配置控制器与管理服务器](img/00155.jpeg)
- en: 'Provide system credentials for the following:'
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供以下系统凭据：
- en: Administrator credentials for provisioning the website's cloud roles including
    front end, publisher, file server, and management servers
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于配置网站云角色的管理员凭据，包括前端、发布者、文件服务器和管理服务器
- en: Administrator credentials for provisioning the web worker role
  id: totrans-153
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 用于配置 Web 工作角色的管理员凭据
- en: File share owner credentials
  id: totrans-154
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件共享所有者凭据
- en: File share user credentials
  id: totrans-155
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件共享用户凭据
- en: Service endpoint credentials (used by WAP)
  id: totrans-156
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务端点凭据（由 WAP 使用）
- en: These user accounts must be a member of the local administrator group on the
    target servers
  id: totrans-157
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这些用户帐户必须是目标服务器本地管理员组的成员
- en: '![Installing and configuring controller and management servers](img/00156.jpeg)'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![安装和配置控制器与管理服务器](img/00156.jpeg)'
- en: Enter the standalone or preconfigured file server details.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入独立或预配置的文件服务器详细信息。
- en: At last, enter server details to configure the management role.![Installing
    and configuring controller and management servers](img/00157.jpeg)
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，输入服务器详细信息以配置管理角色。![安装和配置控制器与管理服务器](img/00157.jpeg)
- en: The Website cloud farm is now configured. The controller service status will
    be displayed in the **Windows Azure Pack Websites Management Console**.![Installing
    and configuring controller and management servers](img/00158.jpeg)
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 网站云农场现已配置。控制器服务状态将在**Windows Azure Pack 网站管理控制台**中显示。![安装和配置控制器与管理服务器](img/00158.jpeg)
- en: '**Windows Azure Websites Management Console** can now be used to modify any
    existing configuration or deploy additional servers. Verify the server''s status
    in the server''s console. Review error logs in case of any issue.'
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Windows Azure 网站管理控制台**现在可以用来修改任何现有配置或部署额外的服务器。在服务器控制台中验证服务器状态。如有任何问题，查看错误日志。'
- en: Additional Management and Controller servers can be deployed in a similar fashion
    by selecting add additional server.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以通过选择添加额外的服务器来部署其他管理和控制器服务器。
- en: Registering the Websites Management Server with Windows Azure Pack
  id: totrans-164
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用Windows Azure Pack注册网站管理服务器
- en: 'Windows Azure Pack uses the REST endpoint of WebSites Management Server to
    register the website''s cloud resource providers and operations. Perform the following
    steps to register a websites cloud with Windows Azure Pack:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Windows Azure Pack使用WebSites管理服务器的REST终结点来注册网站云资源提供程序和操作。执行以下步骤以向Windows Azure
    Pack注册网站云：
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录管理员用的Windows Azure Pack管理门户。
- en: Browse the **web site clouds** workspace.
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览**网站云**工作空间。
- en: Click on **Register your existing Web Site Cloud REST Endpoint.**![Registering
    the Websites Management Server with Windows Azure Pack](img/00159.jpeg)
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**注册现有网站云REST终结点**。![使用Windows Azure Pack注册网站管理服务器](img/00159.jpeg)
- en: Provide cloud connection details including display name, management server address,
    and credentials (the service endpoint credentials).![Registering the Websites
    Management Server with Windows Azure Pack](img/00160.jpeg)
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供云连接详细信息，包括显示名称、管理服务器地址和凭据（服务终结点凭据）。![使用Windows Azure Pack注册网站管理服务器](img/00160.jpeg)
- en: The registered website cloud will now be visible under the **web site clouds**
    workspace in the WAP portal.![Registering the Websites Management Server with
    Windows Azure Pack](img/00161.jpeg)
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注册的网站云现在将在WAP门户的**网站云**工作空间下可见。![使用Windows Azure Pack注册网站管理服务器](img/00161.jpeg)
- en: The Windows Azure Pack portal can now be used to provision other roles and management
    tasks.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Windows Azure Pack门户现在可以用来配置其他角色和管理任务。
- en: Installing and configuring frontend, web worker and publisher roles
  id: totrans-172
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 安装和配置前端、Web Worker和发布者角色
- en: 'The remaining websites cloud roles including front end, web worker, and publisher
    can be installed and configured using the Windows Azure Pack Service Management
    portal or WebSites Management Console installed on the controller server. For
    the purpose of demonstration in this book, we will be using the WAP Service Management
    portal. The following steps outline the process of deploying the remaining website''s
    cloud components:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 剩余的网站云角色包括前端、Web Worker和发布者可以使用安装在控制器服务器上的Windows Azure Pack服务管理门户或WebSites管理控制台进行安装和配置。在本书的演示中，我们将使用WAP服务管理门户。以下步骤概述了部署剩余网站云组件的过程：
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录管理员用的Windows Azure Pack管理门户。
- en: Browse the **WEBSITES** workspace.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 浏览**网站**工作空间。
- en: Open the newly registered website cloud endpoint.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开新注册的网站云终结点。
- en: Open the **ROLES** workspace; this will list all the website roles configured
    in the website cloud farm currently.![Installing and configuring frontend, web
    worker and publisher roles](img/00162.jpeg)
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开**角色**工作空间；这将列出当前网站云农场中配置的所有网站角色。![安装和配置前端、Web Worker和发布者角色](img/00162.jpeg)
- en: Click on **Add role** to provision the website's roles.![Installing and configuring
    frontend, web worker and publisher roles](img/00163.jpeg)
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**添加角色**以配置网站角色。![安装和配置前端、Web Worker和发布者角色](img/00163.jpeg)
- en: Select **ADD NEW WEB WORKER** to add a new worker role.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**添加新的Web Worker**以添加一个新的工作角色。
- en: 'Provide a worker role server name and configuration including the work type.
    **WORKER TYPE** includes the following:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 提供一个工作角色服务器名称和配置，包括工作类型。**工作类型**包括以下内容：
- en: '**Shared**'
  id: totrans-181
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**共享**'
- en: '**Reserved - Small**'
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预留 - 小**'
- en: '**Reserved - Medium**'
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预留 - 中等**'
- en: '**Reserved- Large**'
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**预留 - 大**'
- en: '![Installing and configuring frontend, web worker and publisher roles](img/00164.jpeg)'
  id: totrans-185
  prefs:
  - PREF_IND
  type: TYPE_IMG
  zh: '![安装和配置前端、Web Worker和发布者角色](img/00164.jpeg)'
- en: The worker role installation will now start. The WAP portal displays the status
    of the installation.
  id: totrans-186
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在将开始工作角色安装。WAP门户显示安装的状态。
- en: Add a new front end by just providing the hostname or IP for the server designated
    to host the front end role.![Installing and configuring frontend, web worker and
    publisher roles](img/00165.jpeg)
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过提供主机名或分配给托管前端角色的服务器的IP添加一个新的前端。![安装和配置前端、Web Worker和发布者角色](img/00165.jpeg)
- en: Add a new Publisher server by just providing the hostname or IP for the server
    designated to host the front end role.![Installing and configuring frontend, web
    worker and publisher roles](img/00166.jpeg)
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Additional servers can be configured for achieving high availability and capabilities
    in a similar manner.
  id: totrans-189
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Post installation, all the server roles available can be listed in the **ROLES**
    tab under the **website clouds** workspace.![Installing and configuring frontend,
    web worker and publisher roles](img/00167.jpeg)
  id: totrans-190
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Customizing the WebSite cloud source control and the web gallery feed settings
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The source control and the WebApp gallery feed settings are global to the WAP
    site cloud. All websites and websites cloud farms can take advantage of source
    control mechanisms configured at the WAP level. The same goes for the Web App
    gallery feed as well.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
- en: Configuring source control
  id: totrans-193
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Windows Azure Pack supports multiple repositories for the source control of
    websites. These can be utilized for tenants to affect the content management and
    publishing of their websites.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
- en: This setting is configured on the WebSite cloud globally.
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
- en: 'Service providers need to register on a respective source control website first
    to allow tenants to use these. The following source control repositories are supported:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
- en: Bitbucket
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: GitHub
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: CodePlex
  id: totrans-199
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Dropbox
  id: totrans-200
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'To configure source control settings, we need to follow these steps:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **web sites clouds** workspace.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **SOURCE CONTROL**.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the source control website's specific settings such as client ID, credentials,
    and more.![Configuring source control](img/00168.jpeg)
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Web Gallery feed settings
  id: totrans-206
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Windows Azure Pack fully integrates with the Web App Gallery, which contains
    many preconfigured website templates and web applications. This enables customers
    to deploy top web applications faster and in an efficient manner. By default,
    Windows Azure Pack websites cloud is configured to the Microsoft standard Web
    App Gallery. Cloud providers can also choose to create custom the Web App Gallery.
    The following steps are required to change the Web App Gallery URL for a WAP deployment:'
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **websites cloud** workspace.
  id: totrans-209
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **SETTINGS**.
  id: totrans-210
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: By default, the Microsoft Web App Gallery URL is configured; any custom gallery
    feed URL can be configured using this setting.![Web Gallery feed settings](img/00169.jpeg)
  id: totrans-211
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: WebSites cloud – management operations
  id: totrans-212
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The Windows Azure Pack management portal offers a self-service experience not
    only for tenant users but also for cloud administrators. The WAP management portal
    can be used to perform monitoring and management operations on a websites cloud
    farm such as the following:'
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
- en: Monitoring the utilization and availability status of the cloud farm and the
    tenants' websites
  id: totrans-214
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Provisioning, monitoring, and starting or stopping websites roles
  id: totrans-215
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Customizing WebSites settings such as SSL and DNS records
  id: totrans-216
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Configuring and managing block lists, IP SSL, and platform credentials
  id: totrans-217
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The utilization dashboard
  id: totrans-218
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The **DASHBOARD** page of the WebSites cloud provides graphs for the CPU and
    memory utilization of a complete website cloud farm. Along with utilization, event
    logs for website cloud can also be viewed using the **DASHBOARD** page.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
- en: Roles – configuration and management
  id: totrans-220
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The **ROLES** page enables administrators to perform the following operations:'
  id: totrans-221
  prefs: []
  type: TYPE_NORMAL
- en: Provision and remove any websites server roles
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reboot, repair, and make any server role offline
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: View the list of server roles along with their status
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following steps outline the process to access the roles page:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-226
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **website clouds** workspace.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the websites cloud to manage and access the **ROLES** tab.![Roles – configuration
    and management](img/00170.jpeg)
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: WebSites – monitoring and operations
  id: totrans-229
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The websites page enables the following operations to be performed on the websites
    created by tenants:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
- en: Viewing and monitoring all websites created by tenants
  id: totrans-231
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Performing tenant operations on websites such as modifying the .NET framework
    version on behalf of tenants
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following steps outline the process to access the **ROLES** page:'
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack Management portal for administrators.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **websites cloud** workspace.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the website's cloud to manage and access the **WEB SITES** tab.![WebSites
    – monitoring and operations](img/00171.jpeg)
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Configuring WebSites cloud settings
  id: totrans-237
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This page can be used to modify website cloud setting such as SSL certificate
    and DNS names.
  id: totrans-238
  prefs: []
  type: TYPE_NORMAL
- en: 'The following settings can be customized using this page:'
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
- en: Upload a new WebSites default certificate. By default, all WAP websites are
    configured with the self-signed SSL, which is a potential security issue. Using
    this option, cloud providers can upload the publicly trusted CA issued SSL for
    the website's usage. Normally, it would be the wildcard certificate consisting
    of the DNS suffix for websites as domain name.
  id: totrans-240
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can enable, disable, or force websites Windows authentication.
  id: totrans-241
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It can allow or disallow **CUSTOM APPLICATION POOL IDENTITY**.![Configuring
    WebSites cloud settings](img/00172.jpeg)
  id: totrans-242
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Configuring **publishing settings** includes the following:'
  id: totrans-243
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web Deploy DNS Record
  id: totrans-244
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: FTP Deploy DNS Records
  id: totrans-245
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Publishing a certificate
  id: totrans-246
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Configuring WebSites cloud settings](img/00173.jpeg)'
  id: totrans-247
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: The block list – IP filtering
  id: totrans-248
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Windows Azure Pack provides a strong IP filtering mechanism, which can be used
    to prevent and a **DOS** (**Denial of Service**) attack. A block list can be used
    to block a selected IP or a range of IP addresses to access websites. This can
    be automated to prevent any attack in conjunction with a firewall device.
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
- en: 'The following steps outline the process to block any given IP range to access
    websites:'
  id: totrans-250
  prefs: []
  type: TYPE_NORMAL
- en: Browse the **BLOCK LIST** tab.![The block list – IP filtering](img/00174.jpeg)
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **START CREATING A BLOCK LIST**.
  id: totrans-252
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the required IP range to block:![The block list – IP filtering](img/00175.jpeg)
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: This page can also be used to create an additional block list, delete any existing
    block list and upload a CSV file for blocking access.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Websites cloud platform credentials
  id: totrans-255
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The **CREDENTIALS** tab displays all credentials configured for authentication
    and authorization between websites cloud components. These credentials are defined
    while deploying the first website controller role. Any of these can be easily
    edited by selecting the credential's name and hitting **edit** at the bottom pane.
    Browse the **CREDENTIALS** tab under website cloud settings to modify any credential.
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
- en: '![Websites cloud platform credentials](img/00176.jpeg)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
- en: Websites IP SSL
  id: totrans-258
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Tenants' websites can be configured to use the IP-based SSL certificate, providing
    more secure mechanisms of the website's access. In this case, a service provider
    must configure all website-specific IP addresses on all front end servers.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
- en: The IP SSL page under websites cloud settings can be used to configure the VIP
    and local address between VIP. VIP settings and their port mapping must also be
    configured on load balancer devices for the IP SSL to function.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
- en: '![Websites IP SSL](img/00177.jpeg)'
  id: totrans-261
  prefs: []
  type: TYPE_IMG
- en: Authoring WebSite cloud plans
  id: totrans-262
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Windows Azure Pack plans for websites allows administrators to offer websites
    cloud services to tenants with granular control on services and resources, such
    as CPU or memory. Multiple plans can be created from a single cloud farm with
    different limits and capabilities. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions*
    to know more about Windows Azure Pack plans.
  id: totrans-263
  prefs: []
  type: TYPE_NORMAL
- en: Websites cloud plans overview and service models
  id: totrans-264
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'WAP plans for websites are configured to provide three service models:'
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
- en: Intro
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Basic
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reserved
  id: totrans-268
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: For each plan, 17 quota settings can be configured, which include QOS such as
    subscription CPU time, maximum memory working set, and more.
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
- en: '**The Intro mode**: This is also known as the free mode. It provides a shared
    platform for hosting a tenant''s websites. This is an entry level offering and
    should be used for test and development purposes. A tenant website in the Intro
    mode can be upgraded to basic and reserved as per requirement. This mode does
    not include any scaling capabilities.'
  id: totrans-270
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**The Basic mode**: This mode also works in a shared model, but it provides
    better performance than free mode websites. This provides a low-cost websites
    hosting for tenants'' websites with production-ready features, such as easy scaling,
    custom DNS names, and more.'
  id: totrans-271
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**The Reserved mode**: In the Reserved mode, a tenant''s websites can be provisioned
    to run on dedicated resources such as CPU core, memory, or bandwidth. This mode
    provides the highest performance in comparison to the other two models.'
  id: totrans-272
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Service providers can create multiple plans as per available platform capabilities
    and business strategies. Basically, plans can be configured in two manners:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
- en: '**Standard plans**: These are publicly available plans for standard websites
    requirements'
  id: totrans-274
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**Customized plans**: These are dedicated for a particular tenant as per customized
    requirements and contracts'
  id: totrans-275
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating a plan for WebSites cloud offerings
  id: totrans-276
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the steps to create and configure a WAP plan for
    offering WebSites cloud services to tenants:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
- en: Log into the management portal.
  id: totrans-278
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **plans** workspace.
  id: totrans-279
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Let's Create a Hosting Plan**.
  id: totrans-280
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a friendly name for the plan.![Creating a plan for WebSites cloud offerings](img/00178.jpeg)
  id: totrans-281
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **WEB SITES CLOUD** on **PLAN SERVICES** page.![Creating a plan for
    WebSites cloud offerings](img/00179.jpeg)
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select Add-Ons if applicable.
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the newly created plan to start the configuration.![Creating a plan
    for WebSites cloud offerings](img/00180.jpeg)
  id: totrans-284
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on the plan name under the **PLAN SERVICES** workspace to start customizing.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Configure additional QOS and capabilities settings as per requirements and business
    strategies.![Creating a plan for WebSites cloud offerings](img/00181.jpeg)
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Save the changes and configure the additional plan setting such as invite code,
    advertisement, changing access to public, and more. See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions*,
    to know more on performing these operations on WAP plans.
  id: totrans-287
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: WebSites cloud – a tenant's experience
  id: totrans-288
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Using the tenant portal, tenants can provision and manage their websites on
    the Windows Azure pack Websites cloud in a self-service and automated manner.
    In this topic, we will walk through the tenant's experience for WAP websites provisioning
    and management operations.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
- en: Creating Websites – Quick Create and the Web App Gallery
  id: totrans-290
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the process followed by tenants to provision websites:'
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack tenant portal.
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Subscribe to the websites plans using the configured invite code.
  id: totrans-293
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **WEB SITES** workspace will not be visible in the management portal.![Creating
    Websites – Quick Create and the Web App Gallery](img/00182.jpeg)
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **CREATE A WEB SITE** to start; select **QUICK CREATE** or **FROM GALLERY**
    as per choices and requirements. Note that the preconfigured DNS suffix by cloud
    provider is already added to the URL.![Creating Websites – Quick Create and the
    Web App Gallery](img/00183.jpeg)
  id: totrans-295
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Websites will be created in a moment and will be available for access and further
    development.![Creating Websites – Quick Create and the Web App Gallery](img/00184.jpeg)
  id: totrans-296
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Clicking on **FROM GALLERY** will display the Web App Gallery to choose preconfigured
    website templates and other web applications.![Creating Websites – Quick Create
    and the Web App Gallery](img/00185.jpeg)
  id: totrans-297
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tenants can choose gallery items of their choice and proceed further.
  id: totrans-298
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter gallery item-specific values including URL; then, click on the check mark
    to deploy a website.![Creating Websites – Quick Create and the Web App Gallery](img/00186.jpeg)
  id: totrans-299
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Now, let's try to open one of the newly created websites called `quick.wapcloud`.![Creating
    Websites – Quick Create and the Web App Gallery](img/00187.jpeg)
  id: totrans-300
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Tenants can now publish content to the newly created website using traditional
    publishing tools, such as FTP and WebDeploy, or they can also do so using source
    control mechanisms such as Git.
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
- en: Management operations – tenants' websites
  id: totrans-302
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Windows Azure pack provides self-service portal capabilities to tenants for
    performing, monitoring, and administrating on their websites. Let's have a look
    at the management and monitoring operations available for tenants.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
- en: 'Using the **WEB SITES** workspace on the tenant''s portal, tenants can do the
    following:'
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
- en: Browse the website
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Stop the website
  id: totrans-306
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Restart the website
  id: totrans-307
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Delete the website
  id: totrans-308
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Lets have a look at other management and administration operations available
    for tenants:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
- en: 'The **quick settings**: Using a quick setting button under a website, tenants
    can learn and perform the following configurations:'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Getting tools such as WebMatrix
  id: totrans-311
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Publishing the application
  id: totrans-312
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: Setting up the deployment from the source control
  id: totrans-313
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![Management operations – tenants'' websites](img/00188.jpeg)'
  id: totrans-314
  prefs:
  - PREF_IND
  type: TYPE_IMG
- en: '**DASHBOARD**: This displays the websites statics data, such as CPU, memory
    utilization, data utilization, and additional settings, such as VIP. Adding new
    deployment slots can be performed on this page.. This page can also be used to
    manage linked resources such as database or storage.'
  id: totrans-315
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**MONITOR**: This displays the website usage statics. Additional statics counters
    can be also added, such as the count of HTTP errors or success.![Management operations
    – tenants'' websites](img/00189.jpeg)'
  id: totrans-316
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**WEBJOBS**: This enables tenants to run continuously or on-demand scripts
    for any web application deployed in the WAP websites cloud.'
  id: totrans-317
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'WAP supports the following types of files to be uploaded in webjobs:'
  id: totrans-318
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
- en: '`cmd`, `.bat`, `.exe` (Windows)'
  id: totrans-319
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`.ps1` (Windows PowerShell)'
  id: totrans-320
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: .`sh` (Bash)
  id: totrans-321
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`.php` (PHP: Hypertext Preprocessor)'
  id: totrans-322
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`.py` (Python)'
  id: totrans-323
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '`.js` (JavaScript)'
  id: totrans-324
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The following steps outline the process to configure and manage WebJobs:'
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
- en: Browse the **WEBJOBS** tab under the website's settings in the tenant portal.
  id: totrans-326
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **ADD A JOB** to add a new WebJob.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the **NAME** WebJob, upload the script file, and configure the execution
    type (continuously or on demand).![Management operations – tenants' websites](img/00190.jpeg)
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The **CONFIGURE** tab allows tenants to choose platforms and versions for their
    websites. Configuration of these items are directly dependent on the web application
    platform and architecture and may vary from deployment to deployment. This includes
    settings as follows:'
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
- en: The .NET framework version
  id: totrans-330
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The PHP version
  id: totrans-331
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The managed pipeline mode (classic or integrated)
  id: totrans-332
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows authentication
  id: totrans-333
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Custom identity pool
  id: totrans-334
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Web sockets
  id: totrans-335
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SSL certificates
  id: totrans-336
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Domain names
  id: totrans-337
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SSL bindings
  id: totrans-338
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Application diagnostics
  id: totrans-339
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Site diagnostics
  id: totrans-340
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Additional app settings such as virtual directories![Management operations –
    tenants' websites](img/00191.jpeg)
  id: totrans-341
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'The **SCALE** tab under the website''s setting allows tenants to perform the
    following operations:'
  id: totrans-342
  prefs: []
  type: TYPE_NORMAL
- en: Upgrade the website mode between three service models (intro, basic, and reserved)
  id: totrans-343
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scale in and out of a number of instances![Management operations – tenants'
    websites](img/00192.jpeg)
  id: totrans-344
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Websites and web applications deployed by tenants may need additional resources
    such as database or storage. The **LINKED RESOURCES** tabs allows tenants to link
    these resources with websites.
  id: totrans-345
  prefs: []
  type: TYPE_NORMAL
- en: '![Management operations – tenants'' websites](img/00193.jpeg)'
  id: totrans-346
  prefs: []
  type: TYPE_IMG
- en: Windows Azure Pack Service Bus
  id: totrans-347
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Windows Azure Pack Service Bus provides a reliable messaging service, which
    can be used by a tenant's applications to pass information or messages. This service
    is consistent to Microsoft's public cloud offering Azure Service Bus. Applications
    can be hosted anywhere; that is, they can be hosted on the provider's cloud, inside
    the tenant's datacenter, or anywhere else.
  id: totrans-348
  prefs: []
  type: TYPE_NORMAL
- en: Windows Azure Pack Service Bus can be leveraged by the organization's internal
    developers for passing messages between applications in an efficient manner. This
    can be offered as a service by service providers to external tenants enabling
    cloud-driven applications' messaging.
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
- en: 'Service Bus in Windows Azure Pack provides two solutions:'
  id: totrans-350
  prefs: []
  type: TYPE_NORMAL
- en: Service Bus queues
  id: totrans-351
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Service Bus topics
  id: totrans-352
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understanding Service Bus queues
  id: totrans-353
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Service Bus queues offer load leveling by adding a Service Bus namespace in
    between both applications, which allows message receivers to receive messages
    as per their own pace and resource availabilities. This enables efficient and
    reliable message transfer between loosely coupled applications.
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
- en: There can be additional receivers as well that can receive messages from the
    same Service Bus name space. The following diagram explains the working mechanism
    of Service Bus queues.
  id: totrans-355
  prefs: []
  type: TYPE_NORMAL
- en: '![Understanding Service Bus queues](img/00194.jpeg)'
  id: totrans-356
  prefs: []
  type: TYPE_IMG
- en: Understanding Service Bus topics
  id: totrans-357
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: Service Bus topics provide publishing and subscribing capabilities that can
    be utilized by multiple subscribers and receivers to receive messages independently
    to each other simultaneously. Subscribers can also be configured to receive only
    filtered messages.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
- en: '![Understanding Service Bus topics](img/00195.jpeg)'
  id: totrans-359
  prefs: []
  type: TYPE_IMG
- en: In topics, instead of using a direct communication model, a separate model of
    communication, *Publish and subscribe,* is used. In this model, communication
    is established via an intermediate, which is a topic. Service Bus topics provides
    additional capabilities such as one to many communication while comparing with
    queues. Topics allow tenants to perform large-scale message transportation, which
    comprises of a large number of users, applications, and devices.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
- en: The Service Bus architecture
  id: totrans-361
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The Windows Azure Pack Service Bus architecture contains the following components:'
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
- en: Windows Server 2012 or 2012 R2 operating system
  id: totrans-363
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server database
  id: totrans-364
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Azure Pack Service Bus 1.1
  id: totrans-365
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Microsoft Windows Fabric
  id: totrans-366
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: It is recommended to deploy multiple Service Bus servers with a SQL database
    in a highly available mode to eliminate any single point of failure. This architecture
    works in a farm model; multiple servers can be deployed under a single farm providing
    resiliency and load balancing
  id: totrans-367
  prefs: []
  type: TYPE_NORMAL
- en: Installing and configuring the Service Bus cloud farm
  id: totrans-368
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps are required to perform the installation and configuration
    of a Service Bus farm:'
  id: totrans-369
  prefs: []
  type: TYPE_NORMAL
- en: Log into the server designated for installing Service Bus.
  id: totrans-370
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Download and run Microsoft Web PI.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Search for Service Bus and select **Windows Azure Pack Service Bus 1.1** to
    install it.![Installing and configuring the Service Bus cloud farm](img/00196.jpeg)
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Install Service Bus components by the following Web PI instructions. Exit post
    the successful installation.![Installing and configuring the Service Bus cloud
    farm](img/00197.jpeg)
  id: totrans-373
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Launch the Service Bus configuration app via the start menu.
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Create a New Farm** with default or custom settings as per requirements.
    Choosing default settings is suitable for most of the deployment models.![Installing
    and configuring the Service Bus cloud farm](img/00198.jpeg)
  id: totrans-375
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the database server name and credentials; click on **Test Connection**
    to test the connectivity.![Installing and configuring the Service Bus cloud farm](img/00199.jpeg)
  id: totrans-376
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter service account details, certification, and generation key (this is used
    to add new servers to the existing Service Bus farm).![Installing and configuring
    the Service Bus cloud farm](img/00200.jpeg)
  id: totrans-377
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide the default namespace for the Service Bus configuration.
  id: totrans-378
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter service management portal access credentials; these will be used by Windows
    Azure Pack to communicate with Service Bus.![Installing and configuring the Service
    Bus cloud farm](img/00201.jpeg)
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Review the settings in summary and click on the checkmark to start the deployment.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The configuration process will start; monitor the logs in case of any errors.
    Click on the checkmark once this is completed.![Installing and configuring the
    Service Bus cloud farm](img/00202.jpeg)
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Registering the Service Bus cloud with Windows Azure Pack
  id: totrans-382
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'The following steps outline the process to register Windows Azure Pack with
    a Service Bus cloud farm:'
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack Management portal.
  id: totrans-384
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **service bus clouds** workspace.![Registering the Service Bus cloud
    with Windows Azure Pack](img/00203.jpeg)
  id: totrans-385
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Connect to an existing Service Bus Cloud**.
  id: totrans-386
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter the **SERVICE BUS CLOUD** endpoint and credentials for admin and tenant
    operations while configuring the Service Bus cloud configuration.
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Post successful registration, the newly registered Service Bus cloud will be
    visible under the **service bus clouds** workspace.![Registering the Service Bus
    cloud with Windows Azure Pack](img/00204.jpeg)
  id: totrans-388
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Authoring a Service Bus plan
  id: totrans-389
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'Like any other Windows Azure Pack cloud service offering, Service Bus can also
    be used by tenants via subscribing to relevant plans configured by service providers.
    See [Chapter 5](part0051_split_000.html#1GKCM2-b479cf466c26404ca54119871a9b2715
    "Chapter 5. Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions"),
    *Assigning Cloud Services – Plans, Add-Ons, Tenant Accounts, and Subscriptions*
    to know more about Windows Azure Pack plans. The following steps outline the process
    to author a Service Bus plan:'
  id: totrans-390
  prefs: []
  type: TYPE_NORMAL
- en: Log into the management portal.
  id: totrans-391
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **plans** workspace and click on **CREATE A NEW HOSTING PLAN**.
  id: totrans-392
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Enter a friendly name for the plan.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **SERVICE BUS** and the newly registered Service Bus cloud in **PLAN
    SERVICES**.![Authoring a Service Bus plan](img/00205.jpeg)
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Configure additional plan settings. Note that there are no quotas or any other
    settings available to configure. Service Bus cloud works on a shared model for
    all users without any per user quota or limitations.![Authoring a Service Bus
    plan](img/00206.jpeg)
  id: totrans-395
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Service Bus – a tenant's experience
  id: totrans-396
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: This topics discusses a tenant's experience for provisioning and using Service
    Bus operations from a tenant's point of view. A tenant must be subscribed to a
    WAP plan, which is configured to provide Service Bus offerings.
  id: totrans-397
  prefs: []
  type: TYPE_NORMAL
- en: Provisioning and accessing a Service Bus namespace and features
  id: totrans-398
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The following steps are to be performed by tenants for provisioning, using,
    and managing a Service Bus namespace:'
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
- en: Log into the Windows Azure Pack portal for tenants.
  id: totrans-400
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Subscribe to WAP plans configured for Service Bus offerings.
  id: totrans-401
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Browse the **service bus** workspace.![Provisioning and accessing a Service
    Bus namespace and features](img/00207.jpeg)
  id: totrans-402
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **CREATE A NAMESPACE** to start creating a namespace.![Provisioning
    and accessing a Service Bus namespace and features](img/00208.jpeg)
  id: totrans-403
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Post successful creation, the namespace will be available in a portal.
  id: totrans-404
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click on **Connection Info** to know connectivity mechanisms regarding the namespace.![Provisioning
    and accessing a Service Bus namespace and features](img/00209.jpeg)
  id: totrans-405
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The **CONFIGURE** tab of the namespace allows tenants to configure and manage
    accessing policies and primary and secondary keys for authorization.![Provisioning
    and accessing a Service Bus namespace and features](img/00210.jpeg)
  id: totrans-406
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Creating topics and queues
  id: totrans-407
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
- en: 'The **New Items** workspace of the WAP portal is used to create new queues
    or topics. The following steps can be used for creating and managing topics and
    queues:'
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
- en: Click on the **NEW** button at the bottom of the WAP tenant portal.
  id: totrans-409
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select **SERVICE BUS**.
  id: totrans-410
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Select the **QUEUE** service or **TOPIC** as per your choice and requirement.
  id: totrans-411
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Provide a name and namespace for creating the required item.![Creating topics
    and queues](img/00211.jpeg)
  id: totrans-412
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Post successful provisioning, the newly created queue or topic will be visible
    in its respective tab under the selected namespace. Select any provisioned topic
    to queue to view its dashboard, which includes the utilization status and connectivity
    related information.![Creating topics and queues](img/00212.jpeg)
  id: totrans-413
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Summary
  id: totrans-414
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this chapter, we covered two major PaaS cloud offerings that are WebSites
    and Service Bus. You learned about planning, deployment, and tenant experience
    for these services.
  id: totrans-415
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we move ahead and learn about the planning and deployment
    of another cloud offering of Windows Azure Pack that is DBaaS.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
