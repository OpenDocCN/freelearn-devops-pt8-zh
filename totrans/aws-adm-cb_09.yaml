- en: Estimating Costs
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we will cover:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: Calculating costs
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating CloudFormation template costs
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Purchasing reserved instances
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating total cost of ownership
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Introduction
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: One of the hardest things to get used to when starting with AWS is that you
    pay for almost everything that you use. One of the biggest benefits of AWS is
    that you only pay for what you use. This makes it hard to quickly answer the *how
    much is it going to cost?* question that often arises when people first start
    using AWS; they don't know exactly what they currently use!
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
- en: In a *traditional* infrastructure or data center setup, many costs are paid
    during the initial outlay or in annual contracts. As AWS has no upfront fees,
    and few long-term commitments, so the usual thought process around costs is turned
    on its head.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
- en: There are a number of helpful tools to get a better estimate of your AWS usage
    costs. Don't forget that every AWS service page has a pricing section. While some
    pricing models can be a bit confusing at the start, it quickly makes sense.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: Calculating costs
  id: totrans-10
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: AWS Simple Monthly Calculator is a website application provided to help you
    estimate and forecast your AWS costs. By listing the resources you expect to consume
    you can calculate your pay-as-you-go costs, which is how AWS bills you—there's
    no upfront costs involved.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In order to use the AWS Simple Monthly Calculator effectively, you need to already
    know the specific services and resources that you will use on a monthly basis.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: You also need to know specifics about things such as monthly data transfer and
    the amount of data you will need to store. In AWS, you get charged for data in
    and out of AWS (for example, visitors to your website), but not between AWS services
    (for example, EC2 instances to RDS databases).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Go to the calculator website, [http://calculator.s3.amazonaws.com/index.html](http://calculator.s3.amazonaws.com/index.html):'
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_01.png)'
  id: totrans-17
  prefs: []
  type: TYPE_IMG
- en: Select/deselect the free usage tier option as relevant for your account—if the
    account is less than 12 months old, you are eligible for the free usage tier.
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_02.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
- en: 'Make sure you have the correct region selected before adding resources, as
    they can differ in price from region to region:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_03.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
- en: 'Add your resources by selecting the relevant service from the left-hand menu,
    and filling in your details:'
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_04.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
- en: 'Continue to add resources as necessary:'
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_05.png)'
  id: totrans-25
  prefs: []
  type: TYPE_IMG
- en: 'Once you''ve added all your resources, view the estimated monthly bill on the
    tab:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_06.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
- en: 'After confirming the estimate''s detail, click on the Save and Share button
    to add some additional metadata about your report. All the fields are optional:'
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_07.png)'
  id: totrans-29
  prefs: []
  type: TYPE_IMG
- en: 'A specific, one-time URL will be generated for your report that you can then
    share with others:'
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_08.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
- en: How it works...
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The accuracy of the calculator is completely dependent on your ability to forecast
    your requirements and usage—not an easy thing to do when you first start using
    AWS!
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Unfortunately, not all AWS services are present in the calculator (a notable
    exception is AWS Lambda). For those services, you will have to do your own calculations
    based on the service-specific pricing pages.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: The cost of services and resources can vary from region to region. In general,
    the `us-east-1` region is the cheapest, and also has the most services (not all
    services are available in all regions), so use that if you want to know the lowest-cost
    option. Other regions' prices vary due to supply and demand, cost of operations,
    and undoubtedly many other reasons that AWS doesn't go in to.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: 'Some services (for example, DynamoDB, Lambda, and so on) have a free tier that
    applies even if your account does not qualify for the *standard* free tier (that
    is, the account is more than 12 months old). These services will have a note on
    their specific calculator page detailing the inclusions:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/B06236_09_09.png)'
  id: totrans-37
  prefs: []
  type: TYPE_IMG
- en: Once completed, you can generate a specific URL for your estimation report that
    you can share with anyone. There's no authentication to access this URL, so don't
    put any sensitive information in your reports. The only protection is that the
    URL is unlikely to be guessed (given it's just the calculator site with a GUID
    parameter).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: See also
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *Estimating CloudFormation template costs* recipe
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating CloudFormation template costs
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Most of the recipes in this book have been managed and launched using CloudFormation,
    the AWS Infrastructure as Code service.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For this recipe, you will need an existing CloudFormation template. The template
    does not need to be deployed as a stack;, just the file is required.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
- en: 'In this example, we will use the template from [Chapter 4](http://Using%20AWS%20Compute),
    *Using AWS Compute*, to securely access private instances: `06-create-database-with-automatic-failover.yaml`.'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Run the command to generate the report:'
  id: totrans-47
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-48
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Click or copy and paste the URL into a browser to see the report:'
  id: totrans-49
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_10.png)'
  id: totrans-50
  prefs: []
  type: TYPE_IMG
- en: 'Click on Amazon RDS in the left-hand menu to see the individual service page
    details:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_11.png)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
- en: 'Click on Estimate of your Monthly Bill to see a total summary of the template
    resources:'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_12.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
- en: How it works...
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The `estimate-template-cost` command requires all the parameters of your template.
    As you can see in the first step, the actual values aren't important because the
    template won't actually be launched. You simply need to make sure the type of
    value you give matches the required type for that parameter (for example, the
    `SubnetIds` value must be a list of values in this template).
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
- en: The region you specify is important! Some services (but not all) can cost different
    amounts depending on the region they are in. Generally, the `us-east-1` region
    is the cheapest.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
- en: At the end of the command, we limit the output to just the report URL via the
    `--query` argument.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: You can share the URL generated with others, but you will not be able to retrieve
    earlier reports unless you keep track of the URL yourself.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
- en: On the calculator website, the template's resources will be pre-populated, even
    if you can't immediately see them. The report always defaults to the Amazon EC2
    service page, so you will have to go to the relevant service page via the left-hand
    menu (in this case, Amazon RDS).
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: Finally, you can see a complete report of your template's monthly cost on the
    Estimate of your Monthly Bill tab. If your template contains many different types
    of resources/services, you will see them summarized here.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
- en: See also
  id: totrans-62
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The *Create a database with automatic failover* recipe in [Chapter 6](af7ddc62-c7d9-4136-ba0b-1c3c3db17e25.xhtml),
    *Database Services*
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The *Calculating costs* recipe
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Purchasing reserved instances
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Reserved instances can be the cause of some confusion and are often misunderstood.
    Here are a few pointers to get you going down the right path:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: Reserved instances have no distinguishing technical features compared to regular
    on-demand instances.
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reserved instances are not a specific type or class of instance.
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Put simply, purchasing a reserved instance entitles you to a discounted hourly
    rate on an on-demand instance that matches the properties of the reserved instance.
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The discounted hourly rate will be of a varying size depending on how much you
    pay upfront. As a general rule, the more you pay upfront, the higher the discount.
  id: totrans-70
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'When you purchase a reserved instance, you''re required to specify the following
    properties:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
- en: Platform (Linux/Windows)
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Scope (Region or Availability Zone)
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Instance Type (for example, m3.large)
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Tenancy (shared or dedicated)
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Offering Class (standard or convertible)
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Term (1-12 months or 1-3 years)
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Payment Option (no upfront, partial upfront, all upfront)
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: We'll explore the ins and outs a little more later in this section. For now,
    let's dive in and see how to make a purchase.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-80
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You'll need an AWS account and some idea of which instance types you wish to
    reserve and for how long. Refer to the reserved instance properties mentioned
    previously for the exact information you'll need to proceed.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: 'The Payment Option you choose will dramatically affect the price you pay when
    purchasing the reservation:'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
- en: 'No Upfront: This means you pay nothing now but you will be charged the discounted
    hourly rate for the entire term whether or not you have an instance that matches
    the reservation. Also note that choosing this option limits you to 1 year for
    standard reservations and 3 years for convertible reservations (we''ll discuss
    these later in this section).'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Partial Upfront: These reservations mean that you pay a smaller upfront fee
    and then you are charged a discounted hourly rate only for the instance hours
    you use.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'All Upfront: As the name suggests, you''ll be required to pay the full cost
    of the instance for the entire term. An effective 100% discount is applied to
    the hourly rate of your matching instances for that term.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 全额预付：顾名思义，您需要为整个期限支付实例的全部费用。在该期限内，您的匹配实例的小时费率将获得有效的 100% 折扣。
- en: Once you know all the properties of the instance reservation, you can go ahead
    and make a purchase.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您了解了实例预订的所有属性，就可以继续进行购买。
- en: How to do it...
  id: totrans-87
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Go to the EC2 web console, select Reserved Instances, then Purchase Reserved
    Instances:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 进入 EC2 网页控制台，选择“预留实例”，然后选择“购买预留实例”：
- en: '![](img/B06236_09_13.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_13.png)'
- en: 'We now need to perform a search for the instance type you wish to purchase.
    In this example, we''re going to choose the following:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在我们需要搜索您希望购买的实例类型。在此示例中，我们将选择以下内容：
- en: 'Platform: Linux/UNIX'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 平台：Linux/UNIX
- en: 'Tenancy: Default'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 租用类型：默认
- en: 'Offering Class: Standard'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供类：标准
- en: 'Instance Type: t2.micro'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 实例类型：t2.micro
- en: 'Term: 1 months-12 months'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 期限：1个月-12个月
- en: 'Payment Option: All Upfront'
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支付选项：全额预付
- en: 'Obviously, choose the options that best match your workload. You almost certainly
    want to choose Default as Tenancy here. Dedicated tenancy/instances are run on
    hardware that will be occupied by only one customer (you) and are a lot more expensive:'
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 显然，选择最适合您的工作负载的选项。您几乎肯定想在这里选择“默认”作为租用类型。专用租用/实例运行在只会被一个客户（您）占用的硬件上，且费用更高：
- en: '![](img/B06236_09_14.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_14.png)'
- en: 'The console will return a price for the instance reservation. Note that because
    we didn''t select Only show offerings that reserve capacity, what we are seeing
    is a single result, that is a reservation which applies to the region we''re currently
    viewing in the console. Think of this as a *region level* reservation:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 控制台将返回实例预订的价格。请注意，由于我们没有选择“仅显示预留容量的选项”，我们看到的是一个单一的结果，即适用于我们当前在控制台中查看的区域的预订。可以将其视为*区域级别*的预订：
- en: '![](img/B06236_09_15.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_15.png)'
- en: 'Now try selecting Only show offerings that reserve capacity and notice that
    all Availability Zones are showing for the current region. You can think of these
    as *AZ level* reservations. Choosing one of these options obviously locks you
    in to a specific Availability Zone; however, you also get a *capacity reservation*
    (discussed next):'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在尝试选择“仅显示预留容量的选项”，并注意当前区域显示了所有可用区。您可以将其视为*可用区级别*的预订。显然，选择这些选项将使您锁定到一个特定的可用区；但是，您也会获得一个*容量预订*（接下来讨论）：
- en: '![](img/B06236_09_16.png)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_16.png)'
- en: Choose the reservation that looks right for you, and then click Add to Cart
    and then View Cart.
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择适合您的预订，然后点击“添加到购物车”，再点击“查看购物车”。
- en: The next page shows a summary of your imminent purchase. Click Purchase to proceed.
    Note that this is the point of no return. Reserved instances can't be canceled.
    Choose wisely!
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一页将显示您即将购买的摘要。点击“购买”继续。请注意，这是不可逆的操作。预留实例不能取消。请谨慎选择！
- en: '![](img/B06236_09_17.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_17.png)'
- en: How it works...
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: After you've completed your purchase, your reservation will be marked as Payment
    Pending and then soon after Active (there's a third possible status, which is
    Retired).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 完成购买后，您的预订将标记为“待付款”，然后很快会变为“激活”状态（还有一个可能的状态是“已退役”）。
- en: Once your reservation is Active, the discount will automatically apply to matching
    instances. AWS refers to this hourly discount as a *billing benefit*.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您的预订状态为“激活”，折扣将自动应用于匹配的实例。AWS 将此小时折扣称为*计费优惠*。
- en: Choosing a Convertible reservation class immediately rules out anything but
    a 3 year term. In return, you get a little more flexibility than the Standard
    reservations because if you decide the reservation no longer meets your needs,
    you can *convert* it to a reservation that is of equal or higher value, paying
    the difference of course.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 选择可转换预订类立即排除了除三年期之外的所有选项。作为回报，您将比标准预订获得更多的灵活性，因为如果您决定该预订不再满足您的需求，您可以*转换*为等值或更高价值的预订，当然需要支付差额。
- en: If you made a reservation for a specific Availability Zone, AWS also provides
    you with a *capacity reservation*, which will give you some guarantees around
    the availability of instances in that zone. This is something you might want to
    consider if your workload needs to maintain a certain amount of capacity in the
    event of an entire Availability Zone outage, for example. An event such as this
    tends to cause a rush of new instance requests in the unaffected zones; however,
    customers without a capacity reservation may find their new instance requests
    can't be fulfilled because of a lack of capacity (this is not unheard of), causing
    them to miss out or forcing them to issue new instance requests for a different
    zone and/or instance type while at the same time crossing their fingers.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: Unlike the *billing benefit* (hourly discount), which is applied immediately
    after purchase, a capacity reservation is used by the first instance you launch
    in the zone matching the properties of your reservation.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-112
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Services that launch instances on your behalf (auto scaling, Elastic Beanstalk,
    and so on) are also eligible to have hourly discounts applied to them.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Standard reservations can be made for either 1 or 3 years. As mentioned before,
    Convertible reservations are fixed at 3 years.
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Under a consolidated billing model, reserved instances discounts are applied
    across all your sub accounts. For example, if you purchase a reserved instance
    intended for account A but there is no server matching its properties, the reservation
    will automatically apply to matching instances in account B. This only applies
    to the billing benefit and not the capacity benefit.
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Reserved instances can be sold in the AWS marketplace. This is useful if the
    reservation no longer suits your needs. Note that you will need a US bank account
    for this.
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: If reserved instances don't seem to match your type of workload, you might consider
    a scheduled instance instead.
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Estimating total cost of ownership
  id: totrans-118
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The AWS TCO Calculator is designed to provide you with a ballpark view of how
    much it will cost you to run equivalent infrastructure on AWS in comparison to
    your co-located or on-premise data center.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
- en: The calculator has been audited by an independent third-party, but you should
    of course check its output against your own calculations before you make any purchasing
    decisions.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
- en: Getting ready
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this example, we're going to describe a typical three tier Rails image processing
    application running with a modest amount of hardware. You can use our example
    configuration or follow along with your own hardware requirements.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
- en: How to do it...
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Navigate to [https://awstcocalculator.com/](https://awstcocalculator.com/).
  id: totrans-124
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Choose your currency, location, AWS region, and workload type. In our case
    we''re going to choose the following:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Australian dollar
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Colocation
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Asia Pacific (Sydney)
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: General
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_18.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
- en: TCO Calculator—workload
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
- en: 'Now we need to describe our server requirements. We''re going to specify that
    our app is running on physical servers with tiers that look like this:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'App Name: `nginx`'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Server Type: Non DB'
  id: totrans-134
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'of Processors/Server: 2'
  id: totrans-135
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Cores/Processor: 2'
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Servers: `2`'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Memory (GB): `16`'
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'App Name: `rails`'
  id: totrans-139
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Server Type: Non DB'
  id: totrans-140
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'of Processors/Server: 2'
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Cores/Processor: 4'
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Servers: `4`'
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Memory (GB): `32`'
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'App Name: `mysql`'
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Server Type: DB'
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'of Processors/Server: 2'
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Cores/Processor: 8'
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'of Servers: `2`'
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_UL
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Memory (GB): `64`'
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: 'DB Engine: `MySQL`'
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_19.png)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
- en: TCO Calculator—servers
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
- en: 'Lastly, we need to input our storage requirements. For our example, the `rails`
    application, we need the following:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Storage Type: Object'
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Raw Storage Capacity: `2`TB'
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '% Accessed Infrequently: `90`'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_20.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
- en: TCO Calculator—storage
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
- en: Go ahead and click Calculate TCO.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The 3 year cost breakdown graphs provide a high-level view of your potential
    cost savings. You can see that, in our example, AWS estimates we'll save 68% on
    our infrastructure costs over the next 3 years. That's pretty impressive!
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_21.png)'
  id: totrans-162
  prefs: []
  type: TYPE_IMG
- en: TCO Calculator—summary
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
- en: 'Scroll further through the report to see cost breakdowns categorized by resource
    type:'
  id: totrans-164
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/B06236_09_22.png)'
  id: totrans-165
  prefs: []
  type: TYPE_IMG
- en: TCO Calculator—graphs
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
- en: How it works...
  id: totrans-167
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The calculator will take your server requirements and map them to EC2 instances
    of an appropriate size. Since we've been specific that we need an object store
    for our storage, it will calculate our storage costs based on the price for S3
    storage in our region.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
- en: There's more...
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Let''s take a look under the hood and see how we''re able to save so much money
    on AWS:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
- en: The prices for our EC2 instances are based on a 3 year reserved instance price
    with a partial upfront payment. Is this a fair comparison? Yes and no. You would probably
    be locked in to a fixed hardware contract with your on-premise or co-located solution,
    so it makes sense to apply similar contract terms to your AWS pricing model. In
    reality, you'd probably want to think about purchasing reserved instances *after*
    you've moved to AWS and performed some fine tuning around which instance types
    to use. On the flip side, the AWS costs could be reduced even further if your
    servers ran under All Upfront instance reservations.
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The comparison of object storage systems may or may not be fair depending on
    the feature set of your on-premise or co-located solution. For example, S3 has
    the ability to apply an *infrequently accessed* storage class on stored objects,
    which reduces their cost but also (theoretically) slightly reduces their availability.
    You'd probably not have this feature in your on-premise or co-located storage.
  id: totrans-172
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The 3 year cost for storage in our on-premise/co-located facility is AU $69,660,
    of which a whopping 97% of that is the *monthly cost to operate a rack*. This
    includes rental of space, cooling, power, and so on.
  id: totrans-173
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: While the cost calculator is taking a purely infrastructure view, it also does
    factor in support costs. If you are new to AWS, you will probably be leaning on
    AWS support a little bit to get up and running.
  id: totrans-174
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虽然成本计算器采取的是纯粹的基础设施视角，但它也考虑到了支持成本。如果你是 AWS 新手，可能会依赖 AWS 支持来帮助你启动和运行。
- en: You'll also want to factor in some costs around training and potentially hiring
    staff who are skilled in deploying and migrating systems to AWS. Your developers
    are also going to start thinking differently about how to build and deploy their
    applications. Make sure to factor this in too.
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 你还需要考虑一些培训费用，甚至可能需要雇佣熟悉在 AWS 上部署和迁移系统的员工。你的开发人员也会开始从不同的角度思考如何构建和部署他们的应用程序。一定要把这部分也考虑进去。
- en: 'If you aren''t totally happy with the on-premise or co-location estimates,
    you can go ahead and change the figures used in the calculation. Scroll to the
    top of the page and click Modify Assumptions to input your own hardware prices:'
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你对本地或共置的估算不完全满意，你可以继续修改计算中使用的数字。滚动到页面顶部，点击“修改假设”来输入你自己的硬件价格：
- en: '![](img/B06236_09_23.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B06236_09_23.png)'
- en: TCO Calculator—modify assumptions
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: TCO 计算器——修改假设
- en: See also
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另见
- en: The *Purchasing reserved instances* recipe
  id: totrans-180
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*购买预留实例* 方案'
